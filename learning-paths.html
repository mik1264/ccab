<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Paths - CCAB</title>
    <meta name="description" content="Structured learning paths for creative coding - beginner to advanced">
    <link rel="icon" type="image/svg+xml" href="assets/icons/icon.svg">
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #FEFAE0 0%, #F4F1DE 50%, #EDE8D5 100%);
            color: var(--dark-moss);
            line-height: 1.7;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            text-align: center;
            padding: 3rem 1rem 1rem;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 3rem;
            color: var(--moss);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--sage);
        }

        .back-link {
            display: inline-block;
            margin-bottom: 2rem;
            color: var(--moss);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        .back-link:hover { color: var(--terracotta); }

        /* Overall Progress Section */
        .overall-progress {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            padding: 1.5rem 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(96, 108, 56, 0.1);
        }

        .overall-progress h2 {
            font-family: 'Lora', serif;
            font-size: 1.4rem;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .overall-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .overall-bar {
            flex: 1;
            min-width: 200px;
        }

        .overall-bar .progress-bar {
            height: 12px;
            margin-bottom: 0.5rem;
        }

        .overall-text {
            font-size: 0.9rem;
            color: var(--sage);
        }

        .overall-count {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--moss);
        }

        .paths-container {
            display: grid;
            gap: 2rem;
        }

        .path-card {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(96, 108, 56, 0.1);
        }

        .path-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .path-title {
            font-family: 'Lora', serif;
            font-size: 1.8rem;
            color: var(--moss);
        }

        .path-meta {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .path-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge-beginner { background: #d4edda; color: #155724; }
        .badge-intermediate { background: #fff3cd; color: #856404; }
        .badge-advanced { background: #f8d7da; color: #721c24; }
        .badge-time { background: rgba(138, 154, 91, 0.2); color: var(--moss); }

        .path-description {
            color: var(--sage);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .progress-section {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .progress-info {
            flex: 1;
        }

        .demos-list {
            display: grid;
            gap: 0.75rem;
        }

        .demo-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(254, 250, 224, 0.8);
            border-radius: 12px;
            text-decoration: none;
            color: inherit;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .demo-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(96, 108, 56, 0.15);
        }

        .demo-item:focus {
            outline: 2px solid var(--moss);
            outline-offset: 2px;
        }

        .demo-number {
            width: 32px;
            height: 32px;
            background: var(--moss);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .demo-number.completed {
            background: var(--terracotta);
        }

        .demo-info { flex: 1; }

        .demo-title {
            font-weight: 600;
            color: var(--moss);
            margin-bottom: 0.25rem;
        }

        .demo-concepts {
            font-size: 0.85rem;
            color: var(--sage);
        }

        .demo-concepts span {
            display: inline-block;
            background: rgba(188, 108, 37, 0.15);
            color: var(--terracotta);
            padding: 0.1rem 0.4rem;
            border-radius: 4px;
            margin-right: 0.3rem;
            margin-bottom: 0.2rem;
        }

        .button-row {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .expand-btn {
            flex: 1;
            min-width: 200px;
            padding: 0.75rem;
            background: none;
            border: 2px solid var(--sage);
            border-radius: 10px;
            color: var(--moss);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .expand-btn:hover {
            background: var(--moss);
            color: white;
            border-color: var(--moss);
        }

        .expand-btn:focus {
            outline: 2px solid var(--moss);
            outline-offset: 2px;
        }

        .reset-btn {
            padding: 0.75rem 1.5rem;
            background: none;
            border: 2px solid var(--terracotta);
            border-radius: 10px;
            color: var(--terracotta);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .reset-btn:hover {
            background: var(--terracotta);
            color: white;
        }

        .reset-btn:focus {
            outline: 2px solid var(--terracotta);
            outline-offset: 2px;
        }

        .demos-list.collapsed .demo-item:nth-child(n+6) {
            display: none;
        }

        .progress-bar {
            height: 8px;
            background: rgba(138, 154, 91, 0.2);
            border-radius: 4px;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--moss);
            border-radius: 4px;
            transition: width 0.3s;
        }

        .progress-text {
            font-size: 0.85rem;
            color: var(--sage);
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .path-card { padding: 1.5rem; }
            .path-header { flex-direction: column; }
            .overall-stats { flex-direction: column; gap: 1rem; }
            .button-row { flex-direction: column; }
            .expand-btn, .reset-btn { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">&larr; Back to Gallery</a>

        <header>
            <h1>Learning Paths</h1>
            <p class="subtitle">Structured journeys through creative coding concepts</p>
        </header>

        <div id="overall-progress"></div>
        <div class="paths-container" id="paths"></div>
    </div>

    <script>
        // Embedded learning paths data (no fetch required)
        const PATHS_DATA = {
            beginner: {
                title: "Beginner Path",
                description: "Start your creative coding journey with these accessible visualizations",
                difficulty: "beginner",
                estimated_time: "4-6 hours",
                demos: [
                    {path: "algorithmic-art/index.html", title: "Algorithmic Art Gallery", concepts: ["Canvas basics", "Animation loops", "Color theory"]},
                    {path: "lissajous/lissajous.html", title: "Lissajous Curves", concepts: ["Parametric equations", "Trigonometry", "Phase relationships"]},
                    {path: "game-of-life/index.html", title: "Game of Life", concepts: ["Cellular automata", "Grid systems", "State management"]},
                    {path: "visualizations/demos/01-particle-system.html", title: "Basic Particle System", concepts: ["Particle physics", "Object arrays", "Random motion"]},
                    {path: "wolfram-ca/index.html", title: "Wolfram Cellular Automata", concepts: ["1D automata", "Rule systems", "Pattern emergence"]},
                    {path: "chaos-game/index.html", title: "Chaos Game Fractals", concepts: ["Fractals", "Randomness", "Self-similarity"]},
                    {path: "random-walk/index.html", title: "Random Walk", concepts: ["Stochastic processes", "Brownian motion", "Path tracing"]},
                    {path: "percolation/index.html", title: "Percolation", concepts: ["Grid connectivity", "Phase transitions", "Monte Carlo"]},
                    {path: "optical-illusions/index.html", title: "Optical Illusions", concepts: ["Visual perception", "Animation timing", "Optical effects"]},
                    {path: "infographics/index.html", title: "Interactive Infographics", concepts: ["Data visualization", "User interaction", "CSS animations"]},
                    {path: "d3js/index.html", title: "D3.js Data Visualization", concepts: ["D3.js basics", "SVG manipulation", "Data binding"]},
                    {path: "geometric-patterns/index.html", title: "Geometric Patterns", concepts: ["Tessellation", "Symmetry", "Pattern repetition"]},
                    {path: "sandpile/index.html", title: "Abelian Sandpile", concepts: ["Self-organized criticality", "Avalanches", "Power laws"]},
                    {path: "metaballs/index.html", title: "Metaballs", concepts: ["Implicit surfaces", "Marching squares", "Organic shapes"]},
                    {path: "double-pendulum/index.html", title: "Double Pendulum", concepts: ["Chaos theory", "Sensitive dependence", "Phase space"]},
                    {path: "lorenz-attractor/index.html", title: "Lorenz Attractor", concepts: ["Strange attractors", "Differential equations", "Butterfly effect"]},
                    {path: "mandelbrot-julia/index.html", title: "Mandelbrot & Julia Sets", concepts: ["Complex numbers", "Iteration", "Fractal geometry"]},
                    {path: "voronoi-delaunay/index.html", title: "Voronoi Diagrams", concepts: ["Spatial partitioning", "Nearest neighbors", "Dual graphs"]},
                    {path: "fourier-epicycles/index.html", title: "Fourier Epicycles", concepts: ["Fourier series", "Signal decomposition", "Circular motion"]},
                    {path: "pathfinding/index.html", title: "Pathfinding Algorithms", concepts: ["A* algorithm", "Graph search", "Heuristics"]},
                    {path: "reaction-diffusion/index.html", title: "Reaction-Diffusion", concepts: ["Gray-Scott model", "Pattern formation", "Turing patterns"]},
                    {path: "genetic-algorithm/index.html", title: "Genetic Algorithm", concepts: ["Evolution", "Fitness functions", "Selection"]},
                    {path: "wave-function-collapse/index.html", title: "Wave Function Collapse", concepts: ["Constraint propagation", "Procedural generation", "Entropy"]},
                    {path: "langtons-ant/index.html", title: "Langton's Ant", concepts: ["Turmites", "Emergent highways", "Simple rules"]},
                    {path: "l-systems/index.html", title: "L-Systems", concepts: ["Lindenmayer systems", "String rewriting", "Fractal plants"]},
                    {path: "dla-fractals/index.html", title: "DLA Fractals", concepts: ["Diffusion-limited aggregation", "Brownian trees", "Fractal dimension"]},
                    {path: "ising-model/index.html", title: "Ising Model", concepts: ["Statistical mechanics", "Phase transitions", "Metropolis algorithm"]},
                    {path: "bz-reaction/index.html", title: "BZ Reaction", concepts: ["Chemical oscillations", "Spiral waves", "Excitable media"]},
                    {path: "procedural-terrain/index.html", title: "Procedural Terrain", concepts: ["Noise functions", "Height maps", "Erosion"]},
                    {path: "ray-marching/index.html", title: "Ray Marching Intro", concepts: ["Signed distance functions", "Sphere tracing", "3D rendering"]}
                ]
            },
            intermediate: {
                title: "Intermediate Path",
                description: "Deepen your skills with framework-based demos and complex simulations",
                difficulty: "intermediate",
                estimated_time: "8-12 hours",
                demos: [
                    {path: "threejs/01-rotating-cube.html", title: "Three.js Basics", concepts: ["WebGL", "3D transformations", "Scene graph"]},
                    {path: "threejs/11-particle-sphere.html", title: "Particle Systems", concepts: ["Buffer geometry", "Point materials", "Large datasets"]},
                    {path: "threejs/21-terrain-heightmap.html", title: "3D Terrain", concepts: ["Height mapping", "Vertex displacement", "Procedural meshes"]},
                    {path: "p5-generative-art/index.html", title: "P5.js Creative Coding", concepts: ["Processing paradigm", "Sketch structure", "Interactive art"]},
                    {path: "pixi-sprite-animations/index.html", title: "Pixi.js Sprites", concepts: ["2D WebGL", "Sprite batching", "Texture atlases"]},
                    {path: "d3js/19-octonion-fano.html", title: "D3.js Advanced Visualization", concepts: ["Complex math structures", "SVG paths", "Abstract diagrams"]},
                    {path: "d3js/20-gelfand-tsetlin.html", title: "D3.js Pattern Diagrams", concepts: ["Nested data", "Grid layouts", "Mathematical patterns"]},
                    {path: "web-audio-api/index.html", title: "Web Audio API Gallery", concepts: ["Web Audio API", "FFT analysis", "Real-time audio"]},
                    {path: "physics-simulations/fluid/01-simple-fluid.html", title: "Fluid Dynamics", concepts: ["Navier-Stokes", "Velocity fields", "Advection"]},
                    {path: "physics-simulations/additional-physics/01-double-pendulum.html", title: "Physics Simulations", concepts: ["Mechanics", "Force systems", "Energy conservation"]},
                    {path: "boids-flocking-visualizations/01-classic-boids.html", title: "Boids Flocking", concepts: ["Separation", "Alignment", "Cohesion"]},
                    {path: "emergent-behaviors/40-swarm-particle-swarm.html", title: "Swarm Intelligence", concepts: ["Collective behavior", "Optimization", "Emergent patterns"]},
                    {path: "petri-arena/02-two-agent-competition.html", title: "Petri Arena", concepts: ["Competition", "Agent growth", "Resource dynamics"]},
                    {path: "gravity-orbits/12-solar-system.html", title: "Solar System", concepts: ["Kepler's laws", "Orbital periods", "Scale"]},
                    {path: "gravity-orbits/21-gravity-assist.html", title: "Gravity Assist", concepts: ["Slingshot maneuver", "Energy transfer", "Mission planning"]},
                    {path: "altruism-evolution/01-classic-grid.html", title: "Altruism Evolution", concepts: ["Kin selection", "Reciprocal altruism", "Hamilton's rule"]},
                    {path: "ethnocentrism/01-basic-ethnocentrism.html", title: "Ethnocentrism Model", concepts: ["In-group bias", "Cultural evolution", "Tag-based cooperation"]},
                    {path: "schelling-segregation/01-classic-schelling-model.html", title: "Schelling Segregation", concepts: ["Agent preferences", "Tipping points", "Spatial patterns"]},
                    {path: "sugarscape/01-classic-sugarscape.html", title: "Sugarscape", concepts: ["Resource dynamics", "Agent metabolism", "Wealth distribution"]},
                    {path: "virus-epidemic-models/01-sir-spatial-basic.html", title: "SIR Epidemic Model", concepts: ["Compartmental models", "R0", "Herd immunity"]},
                    {path: "fire-percolation/01-basic-forest-fire.html", title: "Fire Percolation", concepts: ["Percolation threshold", "Forest density", "Spread dynamics"]},
                    {path: "wolf-sheep-predation/01-basic-predator-prey.html", title: "Wolf-Sheep Predation", concepts: ["Predator-prey dynamics", "Lotka-Volterra", "Population cycles"]},
                    {path: "wealth-distribution/01-classic-wealth-distribution.html", title: "Wealth Distribution", concepts: ["Pareto principle", "Gini coefficient", "Economic agents"]},
                    {path: "biological-simulations/evolution/01-genetic-creatures.html", title: "Genetic Creatures", concepts: ["Genotype-phenotype", "Mutation", "Natural selection"]},
                    {path: "biological-simulations/neuron-hh.html", title: "Neural Dynamics", concepts: ["Hodgkin-Huxley", "Action potentials", "Ion channels"]},
                    {path: "visualization-algorithms/26-seam-carving.html", title: "Seam Carving", concepts: ["Content-aware resizing", "Dynamic programming", "Energy functions"]},
                    {path: "visualization-algorithms/29-de-casteljau.html", title: "Bezier Curves", concepts: ["De Casteljau algorithm", "Control points", "Parametric curves"]},
                    {path: "complex-showcases/index.html", title: "Complex Showcases Gallery", concepts: ["Advanced techniques", "Multi-system simulations", "Visual complexity"]},
                    {path: "cognitive-science/03-visual-search.html", title: "Visual Search", concepts: ["Attention", "Pop-out effect", "Conjunction search"]},
                    {path: "network-dynamics/01-cascade-failures.html", title: "Network Cascades", concepts: ["Diffusion", "Threshold models", "Viral spreading"]},
                    {path: "game-theory/01-prisoners-dilemma-tournament.html", title: "Prisoner's Dilemma", concepts: ["Nash equilibrium", "Cooperation", "Iterated games"]},
                    {path: "quantum-visualizations/01-double-slit.html", title: "Double Slit", concepts: ["Wave-particle duality", "Interference", "Probability"]},
                    {path: "social-dynamics/01-opinion-dynamics.html", title: "Opinion Formation", concepts: ["Voter model", "Consensus", "Polarization"]},
                    {path: "morphogenesis/01-cell-division.html", title: "Cell Division", concepts: ["Mitosis", "Growth patterns", "Tissue formation"]},
                    {path: "optimization/01-gradient-descent.html", title: "Gradient Descent", concepts: ["Optimization", "Learning rate", "Local minima"]},
                    {path: "time-clocks/01-kuramoto-model.html", title: "Clock Synchronization", concepts: ["Kuramoto model", "Phase coupling", "Entrainment"]},
                    {path: "information-theory/01-entropy-visualization.html", title: "Entropy Visualization", concepts: ["Shannon entropy", "Information content", "Compression"]}
                ]
            },
            advanced: {
                title: "Advanced Path",
                description: "Master cutting-edge techniques with shaders, WebGPU, and complex systems",
                difficulty: "advanced",
                estimated_time: "15-20 hours",
                demos: [
                    {path: "webgl-shaders/demos/05-plasma-fire.html", title: "GLSL Basics", concepts: ["Fragment shaders", "Uniforms", "UV coordinates"]},
                    {path: "webgl-shaders/demos/12-cube-fractal.html", title: "Fractal Shaders", concepts: ["Recursive SDFs", "Domain folding", "Infinite detail"]},
                    {path: "webgl-shaders/demos/20-particle-flow-field.html", title: "Flow Field Shaders", concepts: ["Vector fields", "GPU particles", "Noise textures"]},
                    {path: "tsl-shaders/01-pulsating-sphere.html", title: "TSL Basics", concepts: ["Three.js Shading Language", "Node-based shaders", "Material system"]},
                    {path: "tsl-shaders/80-orbital.html", title: "TSL Orbital", concepts: ["Complex animations", "Shader math", "GPU computation"]},
                    {path: "threejs-tsl-shaders/01-rainbow-gradient.html", title: "Advanced TSL", concepts: ["Custom nodes", "Shader graphs", "Color gradients"]},
                    {path: "webgpu/01-nbody-gpu.html", title: "WebGPU Basics", concepts: ["WGSL", "Compute shaders", "GPU parallelism"]},
                    {path: "webgpu/08-rd-gpu.html", title: "WebGPU Reaction-Diffusion", concepts: ["Compute pipelines", "Workgroups", "GPU patterns"]},
                    {path: "webgpu/12-voronoi-gpu.html", title: "WebGPU Voronoi", concepts: ["GPU algorithms", "Distance fields", "Parallel computation"]},
                    {path: "webassembly/demos/03-nbody-simulation.html", title: "WASM N-Body", concepts: ["WebAssembly", "Performance", "Memory management"]},
                    {path: "webassembly/demos/21-metaballs.html", title: "WASM Metaballs", concepts: ["High-performance computing", "Implicit surfaces", "Native speed"]},
                    {path: "webassembly/demos/25-cloth-simulation.html", title: "WASM Cloth", concepts: ["Physics simulation", "Verlet integration", "Constraints"]},
                    {path: "physics-simulations/fluid/12-rayleigh-benard.html", title: "Rayleigh-Benard Convection", concepts: ["Thermal convection", "Buoyancy", "Pattern formation"]},
                    {path: "physics-simulations/reaction-diffusion/01-gray-scott-basic.html", title: "Advanced Reaction-Diffusion", concepts: ["Gray-Scott patterns", "Feed and kill rates", "Bifurcations"]},
                    {path: "physics-simulations/ising-model/01-basic-ising.html", title: "Ising Model Variants", concepts: ["Statistical mechanics", "Metropolis algorithm", "Phase transitions"]},
                    {path: "lattice-boltzmann/index.html", title: "Lattice Boltzmann", concepts: ["Mesoscale simulation", "Distribution functions", "Collision operators"]},
                    {path: "gravity-orbits/40-stellar-collision.html", title: "Stellar Collision", concepts: ["SPH simulation", "Mass transfer", "Tidal disruption"]},
                    {path: "petri-arena/14-multi-agent-ffa.html", title: "Neural Tournament", concepts: ["Evolutionary strategies", "Coevolution", "Arms race"]},
                    {path: "emergent-behaviors/38-swarm-ant-colony.html", title: "Ant Colony Optimization", concepts: ["Pheromone trails", "Stigmergy", "Path optimization"]},
                    {path: "scientific-visualizations/32-fdtd-maxwell.html", title: "EM Field Visualization", concepts: ["FDTD method", "Field propagation", "Maxwell's equations"]},
                    {path: "quantum-visualizations/index.html", title: "Quantum Visualizations", concepts: ["Wave functions", "Probability clouds", "Quantum states"]},
                    {path: "geophysical/01-plate-tectonics.html", title: "Plate Tectonics", concepts: ["Mantle convection", "Subduction", "Continental drift"]},
                    {path: "music-sequencers/01-radial-orbit-sequencer.html", title: "Music Sequencer", concepts: ["MIDI", "Timing", "Synthesis"]},
                    {path: "xuanji-tu/index.html", title: "Xuanji Tu Sonification", concepts: ["Data sonification", "Palindrome poetry", "Generative music"]},
                    {path: "consciousness-science/index.html", title: "Consciousness Science", concepts: ["IIT", "Global workspace", "Neural correlates"]},
                    {path: "jensen-linkage/index.html", title: "Jensen Linkage", concepts: ["Mechanical linkages", "Kinematics", "Walking mechanisms"]},
                    {path: "spatial-partitioning/index.html", title: "Spatial Partitioning", concepts: ["Quadtrees", "KD-trees", "Spatial hashing"]}
                ]
            }
        };

        const STORAGE_KEY = 'ccab-learning-progress';

        function getProgress() {
            try {
                return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};
            } catch { return {}; }
        }

        function saveProgress(progress) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(progress));
        }

        function markCompleted(path, index) {
            const progress = getProgress();
            if (!progress[path]) progress[path] = [];
            if (!progress[path].includes(index)) {
                progress[path].push(index);
                saveProgress(progress);
            }
        }

        function resetProgress(pathKey) {
            if (confirm('Reset all progress for this path? This cannot be undone.')) {
                const progress = getProgress();
                delete progress[pathKey];
                saveProgress(progress);
                renderAll();
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function renderOverallProgress() {
            const container = document.getElementById('overall-progress');
            const progress = getProgress();

            let totalDemos = 0;
            let totalCompleted = 0;

            Object.entries(PATHS_DATA).forEach(([key, path]) => {
                totalDemos += path.demos.length;
                totalCompleted += (progress[key] || []).length;
            });

            const percent = totalDemos > 0 ? Math.round((totalCompleted / totalDemos) * 100) : 0;

            container.innerHTML = `
                <div class="overall-progress">
                    <h2>Your Overall Progress</h2>
                    <div class="overall-stats">
                        <div class="overall-bar">
                            <div class="progress-bar" role="progressbar" aria-valuenow="${percent}" aria-valuemin="0" aria-valuemax="100" aria-label="Overall progress: ${percent}%">
                                <div class="progress-fill" style="width: ${percent}%"></div>
                            </div>
                            <p class="overall-text"><span class="overall-count">${totalCompleted}</span> of ${totalDemos} demos completed (${percent}%)</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderPaths() {
            const container = document.getElementById('paths');
            const progress = getProgress();

            container.innerHTML = Object.entries(PATHS_DATA).map(([key, path]) => {
                const completed = progress[key] || [];
                const percent = Math.round((completed.length / path.demos.length) * 100);
                const demoCount = path.demos.length;

                return `
                    <div class="path-card">
                        <div class="path-header">
                            <h2 class="path-title">${escapeHtml(path.title)}</h2>
                            <div class="path-meta">
                                <span class="path-badge badge-${path.difficulty}">${escapeHtml(path.difficulty)}</span>
                                <span class="path-badge badge-time">${escapeHtml(path.estimated_time)}</span>
                            </div>
                        </div>
                        <p class="path-description">${escapeHtml(path.description)}</p>

                        <div class="progress-section">
                            <div class="progress-info">
                                <div class="progress-bar" role="progressbar" aria-valuenow="${percent}" aria-valuemin="0" aria-valuemax="100" aria-label="${escapeHtml(path.title)} progress: ${percent}%">
                                    <div class="progress-fill" style="width: ${percent}%"></div>
                                </div>
                                <p class="progress-text">${completed.length} of ${demoCount} completed (${percent}%)</p>
                            </div>
                        </div>

                        <div class="demos-list collapsed" id="demos-${key}">
                            ${path.demos.map((demo, i) => `
                                <a href="${escapeHtml(demo.path)}" class="demo-item" onclick="markCompleted('${key}', ${i})">
                                    <span class="demo-number ${completed.includes(i) ? 'completed' : ''}" aria-label="${completed.includes(i) ? 'Completed' : 'Not completed'}">${i + 1}</span>
                                    <div class="demo-info">
                                        <div class="demo-title">${escapeHtml(demo.title)}</div>
                                        <div class="demo-concepts">
                                            ${demo.concepts.map(c => `<span>${escapeHtml(c)}</span>`).join('')}
                                        </div>
                                    </div>
                                </a>
                            `).join('')}
                        </div>

                        <div class="button-row">
                            <button class="expand-btn" onclick="toggleExpand('${key}', ${demoCount})" aria-expanded="false" aria-controls="demos-${key}">
                                Show all ${demoCount} demos
                            </button>
                            <button class="reset-btn" onclick="resetProgress('${key}')" ${completed.length === 0 ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ''}>
                                Reset Progress
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function toggleExpand(key, demoCount) {
            const list = document.getElementById(`demos-${key}`);
            const btn = list.parentElement.querySelector('.expand-btn');
            const isCollapsed = list.classList.contains('collapsed');

            list.classList.toggle('collapsed');
            btn.setAttribute('aria-expanded', isCollapsed ? 'true' : 'false');
            btn.textContent = isCollapsed ? 'Show less' : `Show all ${demoCount} demos`;
        }

        function renderAll() {
            renderOverallProgress();
            renderPaths();
        }

        // Initial render
        renderAll();
    </script>
</body>
</html>
