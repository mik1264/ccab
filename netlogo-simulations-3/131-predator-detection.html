<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predator Detection - NetLogo Simulation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #e0e0e0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #e74c3c;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 20px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
        }

        .simulation-area {
            background: #1e1e2e;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .canvas-container {
            position: relative;
            width: 100%;
            aspect-ratio: 4/3;
            background: #0a0a15;
            border-radius: 10px;
            overflow: hidden;
        }

        canvas {
            width: 100%;
            height: 100%;
        }

        .controls {
            background: #1e1e2e;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .control-section {
            margin-bottom: 20px;
        }

        .control-section h3 {
            color: #e74c3c;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #e74c3c;
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            color: #aaa;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .control-group input[type="range"] {
            width: 100%;
            margin-bottom: 5px;
        }

        .control-group .value {
            text-align: right;
            color: #e74c3c;
            font-weight: bold;
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        button:hover {
            transform: translateY(-2px);
        }

        #startBtn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        #resetBtn {
            background: linear-gradient(135deg, #444, #555);
            color: white;
        }

        #addPredatorBtn {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            grid-column: span 2;
        }

        .stats {
            background: #252535;
            border-radius: 10px;
            padding: 15px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #333;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-label {
            color: #888;
        }

        .stat-value {
            color: #e74c3c;
            font-weight: bold;
        }

        .theory-box {
            background: linear-gradient(135deg, #252535, #2a2a3a);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            border-left: 4px solid #e74c3c;
        }

        .theory-box h4 {
            color: #e74c3c;
            margin-bottom: 10px;
        }

        .theory-box p {
            color: #aaa;
            font-size: 0.85em;
            line-height: 1.6;
        }

        .legend {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85em;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
    
        .explain-btn {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            font-weight: 600;
        }
        .explain-btn:hover {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.4);
        }
        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 10000;
            padding: 20px;
            overflow-y: auto;
        }
        .modal-overlay.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }
        .modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #252542 100%);
            border-radius: 20px;
            padding: 35px;
            max-width: 750px;
            width: 100%;
            margin: 40px auto;
            position: relative;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: rgba(255,255,255,0.1);
            border: none;
            color: #888;
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        .modal-close:hover {
            color: #fff;
            background: rgba(255,255,255,0.2);
        }
        .modal h2 {
            color: #00d9ff;
            margin-bottom: 25px;
            font-size: 1.6rem;
            padding-right: 50px;
            line-height: 1.3;
        }
        .modal-body {
            color: #d1d5db;
            line-height: 1.9;
            font-size: 1rem;
        }
        .modal-body h3 {
            color: #00ff88;
            margin: 28px 0 14px 0;
            font-size: 1.15rem;
            font-weight: 600;
        }
        .modal-body p {
            margin-bottom: 16px;
        }
        .modal-body ul {
            margin: 12px 0 18px 24px;
        }
        .modal-body li {
            margin-bottom: 10px;
        }
        .modal-body strong {
            color: #00d9ff;
        }
        .modal-body em {
            color: #a5b4fc;
            font-style: italic;
        }
        .modal-body code {
            background: rgba(0,0,0,0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            color: #fbbf24;
            font-size: 0.9em;
        }
        .modal-category {
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üëÅÔ∏è Predator Detection</h1>
        <p class="subtitle">Visual Looming, Motion Detection, and Alarm Signals</p>

        <div class="main-content">
            <div class="simulation-area">
                <div class="canvas-container">
                    <canvas id="simCanvas"></canvas>
                </div>
            </div>

            <div class="controls">
                <div class="control-section">
                    <h3>‚öôÔ∏è Parameters</h3>
                    <div class="control-group">
                        <label>Prey Count</label>
                        <input type="range" id="preyCount" min="20" max="100" step="10" value="50">
                        <div class="value"><span id="preyCountVal">50</span></div>
                    </div>
                    <div class="control-group">
                        <label>Detection Range</label>
                        <input type="range" id="detectionRange" min="50" max="200" step="10" value="100">
                        <div class="value"><span id="detectionRangeVal">100</span> px</div>
                    </div>
                    <div class="control-group">
                        <label>Alarm Signal Spread</label>
                        <input type="range" id="alarmSpread" min="0" max="1" step="0.1" value="0.5">
                        <div class="value"><span id="alarmSpreadVal">0.5</span></div>
                    </div>
                    <div class="control-group">
                        <label>Predator Speed</label>
                        <input type="range" id="predatorSpeed" min="1" max="5" step="0.5" value="2">
                        <div class="value"><span id="predatorSpeedVal">2</span>x</div>
                    </div>
                </div>

                <div class="control-section">
                    <h3>üéÆ Controls</h3>
                    <div class="button-group">
                        <button id="startBtn">Start</button>
                        <button id="resetBtn">Reset</button>
                <button id="explainBtn" class="explain-btn">üìö Explain This Simulation</button>
                    </div>
                    <button id="addPredatorBtn">Add Predator ü¶Ö</button>
                </div>

                <div class="control-section">
                    <h3>üìä Statistics</h3>
                    <div class="stats">
                        <div class="stat-row">
                            <span class="stat-label">Generation:</span>
                            <span class="stat-value" id="generation">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Prey Alive:</span>
                            <span class="stat-value" id="preyAlive">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Prey Caught:</span>
                            <span class="stat-value" id="preyCaught">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Alerted Prey:</span>
                            <span class="stat-value" id="alertedPrey">0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Successful Escapes:</span>
                            <span class="stat-value" id="escapes">0</span>
                        </div>
                    </div>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #3498db"></div>
                            <span>Calm</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #f39c12"></div>
                            <span>Alert</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #e74c3c"></div>
                            <span>Fleeing</span>
                        </div>
                    </div>
                </div>

                <div class="theory-box">
                    <h4>üìö Detection Mechanisms</h4>
                    <p>
                        Prey detect predators through looming detection (expanding
                        visual stimulus), motion parallax, and social alarm signals.
                        The visual system's looming detectors in the optic tectum
                        trigger rapid escape responses. Alarm calls spread threat
                        information through the group.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('simCanvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Simulation state
        let running = false;
        let generation = 0;

        // Agents
        let prey = [];
        let predators = [];
        let preyCaught = 0;
        let escapes = 0;

        // Parameters
        function getParams() {
            return {
                preyCount: parseInt(document.getElementById('preyCount').value),
                detectionRange: parseFloat(document.getElementById('detectionRange').value),
                alarmSpread: parseFloat(document.getElementById('alarmSpread').value),
                predatorSpeed: parseFloat(document.getElementById('predatorSpeed').value)
            };
        }

        // Update parameter displays
        document.querySelectorAll('input[type="range"]').forEach(input => {
            input.addEventListener('input', (e) => {
                const valSpan = document.getElementById(e.target.id + 'Val');
                if (valSpan) {
                    valSpan.textContent = e.target.value;
                }
            });
        });

        // Initialize prey
        function initPrey() {
            prey = [];
            const params = getParams();

            for (let i = 0; i < params.preyCount; i++) {
                prey.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    state: 'calm', // calm, alert, fleeing
                    alertLevel: 0,
                    fleeDirection: { x: 0, y: 0 },
                    escaping: false
                });
            }
        }

        // Add predator
        document.getElementById('addPredatorBtn').addEventListener('click', () => {
            // Enter from random edge
            const edge = Math.floor(Math.random() * 4);
            let x, y, vx, vy;

            switch (edge) {
                case 0: // top
                    x = Math.random() * canvas.width;
                    y = -20;
                    vx = (Math.random() - 0.5) * 2;
                    vy = 2;
                    break;
                case 1: // right
                    x = canvas.width + 20;
                    y = Math.random() * canvas.height;
                    vx = -2;
                    vy = (Math.random() - 0.5) * 2;
                    break;
                case 2: // bottom
                    x = Math.random() * canvas.width;
                    y = canvas.height + 20;
                    vx = (Math.random() - 0.5) * 2;
                    vy = -2;
                    break;
                case 3: // left
                    x = -20;
                    y = Math.random() * canvas.height;
                    vx = 2;
                    vy = (Math.random() - 0.5) * 2;
                    break;
            }

            predators.push({
                x: x,
                y: y,
                vx: vx,
                vy: vy,
                size: 15,
                target: null,
                active: true
            });
        });

        function update() {
            if (!running) return;

            generation++;
            const params = getParams();

            // Update predators
            for (let pred of predators) {
                if (!pred.active) continue;

                // Find nearest prey
                let nearestPrey = null;
                let nearestDist = Infinity;

                for (let p of prey) {
                    const dx = p.x - pred.x;
                    const dy = p.y - pred.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist < nearestDist) {
                        nearestDist = dist;
                        nearestPrey = p;
                    }
                }

                // Chase nearest prey
                if (nearestPrey && nearestDist < 300) {
                    pred.target = nearestPrey;
                    const dx = nearestPrey.x - pred.x;
                    const dy = nearestPrey.y - pred.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    pred.vx += (dx / dist) * 0.3 * params.predatorSpeed;
                    pred.vy += (dy / dist) * 0.3 * params.predatorSpeed;
                }

                // Limit speed
                const speed = Math.sqrt(pred.vx * pred.vx + pred.vy * pred.vy);
                const maxSpeed = 4 * params.predatorSpeed;
                if (speed > maxSpeed) {
                    pred.vx = (pred.vx / speed) * maxSpeed;
                    pred.vy = (pred.vy / speed) * maxSpeed;
                }

                pred.x += pred.vx;
                pred.y += pred.vy;

                // Catch prey
                for (let i = prey.length - 1; i >= 0; i--) {
                    const p = prey[i];
                    const dx = p.x - pred.x;
                    const dy = p.y - pred.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist < pred.size + 5) {
                        prey.splice(i, 1);
                        preyCaught++;
                    }
                }

                // Remove predator if off-screen for too long
                if (pred.x < -50 || pred.x > canvas.width + 50 ||
                    pred.y < -50 || pred.y > canvas.height + 50) {
                    pred.active = false;
                }
            }

            // Update prey
            for (let p of prey) {
                // Detection
                let threatening = false;
                let threatX = 0, threatY = 0;

                for (let pred of predators) {
                    if (!pred.active) continue;

                    const dx = pred.x - p.x;
                    const dy = pred.y - p.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    // Direct detection
                    if (dist < params.detectionRange) {
                        // Looming detection - threat increases as predator approaches
                        const looming = Math.max(0, 1 - dist / params.detectionRange);
                        p.alertLevel = Math.max(p.alertLevel, looming);
                        threatening = true;
                        threatX += dx;
                        threatY += dy;
                    }
                }

                // Social alarm spreading
                if (params.alarmSpread > 0) {
                    for (let other of prey) {
                        if (other === p) continue;

                        const dx = other.x - p.x;
                        const dy = other.y - p.y;
                        const dist = Math.sqrt(dx * dx + dy * dy);

                        if (dist < 50 && other.alertLevel > 0.5) {
                            p.alertLevel = Math.max(p.alertLevel,
                                other.alertLevel * params.alarmSpread * 0.8);
                        }
                    }
                }

                // State transitions
                if (p.alertLevel > 0.7) {
                    p.state = 'fleeing';
                } else if (p.alertLevel > 0.3) {
                    p.state = 'alert';
                } else {
                    p.state = 'calm';
                }

                // Behavior based on state
                if (p.state === 'fleeing' && threatening) {
                    // Flee away from threat
                    const threatDist = Math.sqrt(threatX * threatX + threatY * threatY);
                    if (threatDist > 0) {
                        p.fleeDirection.x = -threatX / threatDist;
                        p.fleeDirection.y = -threatY / threatDist;
                    }

                    p.vx += p.fleeDirection.x * 0.5;
                    p.vy += p.fleeDirection.y * 0.5;

                    // Escape speed burst
                    if (!p.escaping) {
                        p.escaping = true;
                        escapes++;
                    }
                } else if (p.state === 'alert') {
                    // Increased vigilance, slower movement
                    p.vx *= 0.8;
                    p.vy *= 0.8;
                } else {
                    // Normal random movement
                    p.vx += (Math.random() - 0.5) * 0.2;
                    p.vy += (Math.random() - 0.5) * 0.2;
                    p.escaping = false;
                }

                // Speed limit
                const speed = Math.sqrt(p.vx * p.vx + p.vy * p.vy);
                const maxSpeed = p.state === 'fleeing' ? 5 : 2;
                if (speed > maxSpeed) {
                    p.vx = (p.vx / speed) * maxSpeed;
                    p.vy = (p.vy / speed) * maxSpeed;
                }

                // Update position
                p.x += p.vx;
                p.y += p.vy;

                // Boundary wrapping
                if (p.x < 0) p.x = canvas.width;
                if (p.x > canvas.width) p.x = 0;
                if (p.y < 0) p.y = canvas.height;
                if (p.y > canvas.height) p.y = 0;

                // Decay alert level
                p.alertLevel *= 0.98;
            }

            // Remove inactive predators
            predators = predators.filter(p => p.active);

            updateStats();
            draw();
            requestAnimationFrame(update);
        }

        function draw() {
            const w = canvas.width;
            const h = canvas.height;
            const params = getParams();

            // Background
            ctx.fillStyle = '#1a3a1a';
            ctx.fillRect(0, 0, w, h);

            // Draw grass texture
            ctx.strokeStyle = '#2a4a2a';
            ctx.lineWidth = 1;
            for (let i = 0; i < 100; i++) {
                const x = Math.random() * w;
                const y = Math.random() * h;
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(x + 5, y - 10);
                ctx.stroke();
            }

            // Draw detection ranges for alarted prey
            for (let p of prey) {
                if (p.alertLevel > 0.3) {
                    ctx.strokeStyle = `rgba(231, 76, 60, ${p.alertLevel * 0.3})`;
                    ctx.setLineDash([5, 5]);
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, params.detectionRange, 0, Math.PI * 2);
                    ctx.stroke();
                    ctx.setLineDash([]);
                }
            }

            // Draw prey
            for (let p of prey) {
                let color;
                switch (p.state) {
                    case 'fleeing':
                        color = '#e74c3c';
                        break;
                    case 'alert':
                        color = '#f39c12';
                        break;
                    default:
                        color = '#3498db';
                }

                // Body
                ctx.fillStyle = color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, 6, 0, Math.PI * 2);
                ctx.fill();

                // Direction indicator
                const angle = Math.atan2(p.vy, p.vx);
                ctx.strokeStyle = color;
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(p.x, p.y);
                ctx.lineTo(p.x + Math.cos(angle) * 10, p.y + Math.sin(angle) * 10);
                ctx.stroke();

                // Alert level indicator
                if (p.alertLevel > 0.1) {
                    ctx.fillStyle = `rgba(255, 0, 0, ${p.alertLevel})`;
                    ctx.font = '10px Arial';
                    ctx.fillText('!', p.x - 2, p.y - 12);
                }
            }

            // Draw predators
            for (let pred of predators) {
                if (!pred.active) continue;

                // Shadow
                ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
                ctx.beginPath();
                ctx.ellipse(pred.x, pred.y + 10, pred.size, pred.size / 2, 0, 0, Math.PI * 2);
                ctx.fill();

                // Body
                const angle = Math.atan2(pred.vy, pred.vx);
                ctx.save();
                ctx.translate(pred.x, pred.y);
                ctx.rotate(angle);

                // Hawk shape
                ctx.fillStyle = '#8b4513';
                ctx.beginPath();
                ctx.moveTo(pred.size, 0);
                ctx.lineTo(-pred.size / 2, -pred.size);
                ctx.lineTo(-pred.size / 3, 0);
                ctx.lineTo(-pred.size / 2, pred.size);
                ctx.closePath();
                ctx.fill();

                // Wings
                ctx.fillStyle = '#654321';
                const wingFlap = Math.sin(Date.now() / 50) * 5;
                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(-pred.size / 2, -pred.size * 1.5 + wingFlap);
                ctx.lineTo(-pred.size, 0);
                ctx.closePath();
                ctx.fill();

                ctx.beginPath();
                ctx.moveTo(0, 0);
                ctx.lineTo(-pred.size / 2, pred.size * 1.5 - wingFlap);
                ctx.lineTo(-pred.size, 0);
                ctx.closePath();
                ctx.fill();

                ctx.restore();

                // Detection circle
                ctx.strokeStyle = 'rgba(255, 0, 0, 0.2)';
                ctx.setLineDash([10, 5]);
                ctx.beginPath();
                ctx.arc(pred.x, pred.y, 100, 0, Math.PI * 2);
                ctx.stroke();
                ctx.setLineDash([]);
            }

            // Info panel
            ctx.fillStyle = 'rgba(30, 30, 50, 0.9)';
            ctx.beginPath();
            ctx.roundRect(10, 10, 150, 70, 10);
            ctx.fill();

            ctx.fillStyle = '#e74c3c';
            ctx.font = 'bold 12px Arial';
            ctx.fillText('Predator Detection', 20, 28);

            ctx.fillStyle = '#aaa';
            ctx.font = '11px Arial';
            ctx.fillText(`Active Predators: ${predators.filter(p => p.active).length}`, 20, 48);
            ctx.fillText(`Prey Remaining: ${prey.length}`, 20, 65);
        }

        function updateStats() {
            document.getElementById('generation').textContent = generation;
            document.getElementById('preyAlive').textContent = prey.length;
            document.getElementById('preyCaught').textContent = preyCaught;
            document.getElementById('alertedPrey').textContent =
                prey.filter(p => p.state !== 'calm').length;
            document.getElementById('escapes').textContent = escapes;
        }

        function reset() {
            running = false;
            generation = 0;
            preyCaught = 0;
            escapes = 0;
            predators = [];
            initPrey();
            updateStats();
            draw();
            document.getElementById('startBtn').textContent = 'Start';
        }

        document.getElementById('startBtn').addEventListener('click', () => {
            running = !running;
            document.getElementById('startBtn').textContent = running ? 'Pause' : 'Start';
            if (running) update();
        });

        document.getElementById('resetBtn').addEventListener('click', reset);

        // Initialize
        initPrey();
        draw();
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                modal.classList.remove('active');
            }
        });
    }

    </script>


    <div id="explainModal" class="modal-overlay">
        <div class="modal">
            <button class="modal-close">&times;</button>
            <h2>üìä Predator Detection</h2>
            <div class="modal-body">
                <p>The brain processes information through networks of neurons that fire in coordinated patterns. This simulation explores neural computation and emergent behavior.</p>

                <h3>About This Simulation</h3>
                <p>Build a vigilance and alarm system with detection probability and escape decisions.</p>

                <h3>Key Concepts</h3>
                <ul>
                    <li><strong>Neural Networks:</strong> Interconnected neurons that process information through synaptic connections, forming the basis of learning and memory.</li>
                    <li><strong>Hebbian Learning:</strong> "Neurons that fire together, wire together" - synaptic connections strengthen when pre and post-synaptic neurons are active simultaneously.</li>
                    <li><strong>Emergent Behavior:</strong> Complex behaviors arising from simple rules followed by many interacting agents or neurons.</li>
                    <li><strong>Oscillations & Rhythms:</strong> Coordinated neural activity patterns that underlie various brain states and cognitive functions.</li>
                </ul>

                <h3>Why It Matters</h3>
                <p>Neural modeling advances AI, brain-computer interfaces, and treatments for neurological disorders.</p>

                <h3>How to Explore</h3>
                <ul>
                    <li>Adjust the sliders to modify simulation parameters and observe how the system responds</li>
                    <li>Look for emergent patterns that arise from agent interactions</li>
                    <li>Try extreme parameter values to find phase transitions and tipping points</li>
                    <li>Compare the simulation behavior to real-world phenomena</li>
                </ul>

                <p class="modal-category"><em>Category: Neuroscience & Behavior ‚Äî Exploring neural systems and behavioral patterns</em></p>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('explainModal');
        const explainBtn = document.getElementById('explainBtn');
        if (modal && explainBtn) {
            explainBtn.addEventListener('click', function() {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            modal.querySelector('.modal-close').addEventListener('click', function() {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            });
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modal.classList.contains('active')) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        }
    });
    </script>

</body>
</html>
