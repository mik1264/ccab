<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perlin Flow Field - Screensaver</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; }
        canvas { display: block; }
        .back-btn {
            position: fixed; top: 20px; left: 20px;
            color: rgba(255,255,255,0.5); text-decoration: none;
            font-family: sans-serif; z-index: 100;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">‚Üê Back</a>
    <canvas id="canvas"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script>
        let particles = [];
        const numParticles = 2000;
        const noiseScale = 0.01;

        function setup() {
            createCanvas(window.innerWidth, window.innerHeight);
            for(let i = 0; i < numParticles; i++) {
                particles.push(createVector(random(width), random(height)));
            }
            background(0);
        }

        function draw() {
            // Semi-transparent background for trails
            noStroke();
            fill(0, 10);
            rect(0, 0, width, height);

            stroke(255, 50);
            strokeWeight(1);

            for(let i = 0; i < numParticles; i++) {
                let p = particles[i];
                point(p.x, p.y);

                let n = noise(p.x * noiseScale, p.y * noiseScale, frameCount * 0.001);
                let a = TWO_PI * n * 4; // Angle from noise
                
                p.x += cos(a);
                p.y += sin(a);

                if(!onScreen(p)) {
                    p.x = random(width);
                    p.y = random(height);
                }
            }
        }

        function onScreen(v) {
            return v.x >= 0 && v.x <= width && v.y >= 0 && v.y <= height;
        }

        function windowResized() {
            resizeCanvas(window.innerWidth, window.innerHeight);
            background(0);
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
