<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hydraulic Press Visualizer - CCAB</title>
    <link rel="stylesheet" href="../assets/css/gallery-standard.css">
    <style>
        body {
            background: #fff;
            color: #333;
            font-family: system-ui;
            padding: 2rem;
            text-align: center;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        
        .simulation {
            position: relative;
            height: 400px;
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        /* CSS Hydraulic System */
        .piston-small {
            position: absolute;
            left: 100px;
            width: 60px;
            background: #94a3b8;
            border: 2px solid #475569;
            transition: bottom 0.1s linear;
        }
        
        .piston-large {
            position: absolute;
            right: 100px;
            width: 200px;
            background: #94a3b8;
            border: 2px solid #475569;
            transition: bottom 0.1s linear;
        }
        
        .fluid {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px;
            background: rgba(56, 189, 248, 0.6); /* Water blue */
            z-index: 0;
        }
        
        .pipe {
            position: absolute;
            bottom: 0;
            left: 130px; /* Center of small */
            width: 640px; /* Span to large center */
            height: 50px;
            background: rgba(56, 189, 248, 0.6);
        }
        
        .force-arrow {
            position: absolute;
            width: 4px;
            background: #ef4444;
            left: 50%;
            transform: translateX(-50%);
            bottom: 100%; /* Above piston */
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 40px;
            padding: 20px;
            background: #f3f4f6;
            border-radius: 8px;
        }
        
        .data-box {
            font-family: monospace;
            font-size: 1.2rem;
            color: #0ea5e9;
        }
    </style>
</head>
<body>

<div class="container">
    <a href="../index.html" class="gallery-back">‚Üê Back to Gallery</a>
    <h1>Hydraulic Press (Pascal's Principle)</h1>
    <p>Pressure is transmitted equally. \( P_1 = P_2 \implies \frac{F_1}{A_1} = \frac{F_2}{A_2} \)</p>
    
    <div class="simulation" id="sim">
        <!-- Fluid Pipe -->
        <div class="fluid" style="height: 100px; clip-path: polygon(0 100%, 100% 100%, 100% 0, 0 0);"></div> 
        <!-- Simplified Fluid Vis: Just fill bottom and pistons ride on it -->
        
        <div id="p1" class="piston-small" style="bottom: 100px; height: 200px;">
            <div id="f1-arrow" class="force-arrow" style="height: 0px;"></div>
        </div>
        
        <div id="p2" class="piston-large" style="bottom: 100px; height: 200px;">
            <div id="f2-arrow" class="force-arrow" style="height: 0px; background: #3b82f6;"></div>
            <div style="position:absolute; top:-30px; width:100%; text-align:center;">Load</div>
        </div>
        
        <div style="position:absolute; bottom:10px; width:100%; text-align:center; color:#0369a1; font-weight:bold;">Hydraulic Fluid</div>
    </div>
    
    <div class="controls">
        <div>
            <label>Input Force (F1)</label>
            <input type="range" id="f1-in" min="0" max="100" value="0">
        </div>
        
        <div class="data-box">
            A1 = 1 unit<br>
            A2 = 5 units<br>
            <span id="mult-display">Force Multiplier: 5x</span>
        </div>
        
        <div class="data-box">
            Output Force (F2): <span id="f2-val">0</span>
        </div>
    </div>
    
    <p style="color: #666; margin-top: 20px;">
        Note: Conservation of Energy means distance is sacrificed. <br>
        \( F_1 d_1 = F_2 d_2 \implies d_2 = d_1 / 5 \)
    </p>
</div>

<script>
    const p1 = document.getElementById('p1');
    const p2 = document.getElementById('p2');
    const f1Arrow = document.getElementById('f1-arrow');
    const f2Arrow = document.getElementById('f2-arrow');
    const f1In = document.getElementById('f1-in');
    
    // Config
    const A1 = 1;
    const A2 = 5; // Area ratio
    
    // State
    let h1 = 100; // Height of fluid under P1
    let h2 = 100; // Height of fluid under P2
    const baseVolume = h1*A1 + h2*A2; // Total fluid volume constant?
    // Actually if we push P1 down by d1, P2 goes up by d2 = d1 * (A1/A2)
    
    f1In.addEventListener('input', update);
    
    function update() {
        const F1 = parseInt(f1In.value);
        const F2 = F1 * (A2/A1);
        
        document.getElementById('f2-val').textContent = F2.toFixed(0);
        
        // Visuals
        // Force Arrows
        f1Arrow.style.height = (F1 * 2) + 'px';
        f2Arrow.style.height = (F2 * 0.5) + 'px'; // Scale down F2 arrow so it fits
        
        // Displacement
        // Assume spring resistance on F2 proportional to height? 
        // Or just let user control position?
        // Let's model: We push P1 down. F1 causes displacement.
        // Let's say d1 = F1 (linear spring).
        
        const d1 = -F1 * 1.5; // P1 moves DOWN
        const d2 = -d1 * (A1/A2); // P2 moves UP (inverse of d1)
        
        // Base height 200px
        p1.style.bottom = (150 + d1) + 'px';
        p2.style.bottom = (150 + d2) + 'px';
    }
    
    update();

</script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
