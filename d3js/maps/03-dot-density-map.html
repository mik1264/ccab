<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dot Density Map</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #0f0f23;
            overflow: hidden;
        }
        h1 {
            color: #00ff88;
            text-align: center;
            margin-bottom: 10px;
        }
        .info {
            color: #88ffcc;
            text-align: center;
            margin-bottom: 20px;
        }
        svg {
            display: block;
            margin: 0 auto;
            background: #1a1a3e;
            border-radius: 10px;
        }
        .region {
            fill: #2a2a4e;
            stroke: #4a4a8e;
            stroke-width: 1px;
        }
        .dot {
            fill: #00ff88;
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <h1>Population Density Map</h1>
    <p class="info">Each dot represents 10,000 people</p>
    <svg id="map"></svg>

    <script>
        const width = window.innerWidth - 40;
        const height = window.innerHeight - 140;

        const svg = d3.select("#map")
            .attr("width", width)
            .attr("height", height);

        // Create region boundaries
        const regions = [
            { name: "Region A", x: 100, y: 100, w: 300, h: 250, density: 80 },
            { name: "Region B", x: 450, y: 80, w: 350, h: 280, density: 120 },
            { name: "Region C", x: 120, y: 400, w: 280, h: 200, density: 45 },
            { name: "Region D", x: 450, y: 420, w: 300, h: 180, density: 95 },
            { name: "Region E", x: 820, y: 150, w: 200, h: 350, density: 60 }
        ];

        svg.append("g")
            .selectAll("rect")
            .data(regions)
            .join("rect")
            .attr("class", "region")
            .attr("x", d => d.x)
            .attr("y", d => d.y)
            .attr("width", d => d.w)
            .attr("height", d => d.h);

        // Generate dots based on density
        const dots = [];
        regions.forEach(region => {
            const numDots = region.density;
            for (let i = 0; i < numDots; i++) {
                dots.push({
                    x: region.x + Math.random() * region.w,
                    y: region.y + Math.random() * region.h,
                    region: region.name
                });
            }
        });

        svg.append("g")
            .selectAll("circle")
            .data(dots)
            .join("circle")
            .attr("class", "dot")
            .attr("cx", d => d.x)
            .attr("cy", d => d.y)
            .attr("r", 2);

        // Add region labels
        svg.append("g")
            .selectAll("text")
            .data(regions)
            .join("text")
            .attr("x", d => d.x + d.w / 2)
            .attr("y", d => d.y + 25)
            .attr("text-anchor", "middle")
            .attr("fill", "#00ff88")
            .attr("font-size", "14px")
            .attr("font-weight", "bold")
            .text(d => d.name);

        svg.append("g")
            .selectAll("text.density")
            .data(regions)
            .join("text")
            .attr("class", "density")
            .attr("x", d => d.x + d.w / 2)
            .attr("y", d => d.y + 45)
            .attr("text-anchor", "middle")
            .attr("fill", "#88ffcc")
            .attr("font-size", "11px")
            .text(d => `${d.density * 10}K people`);
    </script>
</body>
</html>
