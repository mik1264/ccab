<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fourier Wave Synthesis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        canvas {
            display: block;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let time = 0;

        function drawWave(y, amplitude, frequency, phase, color, label) {
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.beginPath();

            for (let x = 0; x < canvas.width; x++) {
                const angle = (x * frequency * Math.PI * 2) / canvas.width + phase;
                const yPos = y + Math.sin(angle) * amplitude;

                if (x === 0) {
                    ctx.moveTo(x, yPos);
                } else {
                    ctx.lineTo(x, yPos);
                }
            }

            ctx.stroke();

            // Label
            ctx.fillStyle = color;
            ctx.font = '14px monospace';
            ctx.fillText(label, 20, y - amplitude - 10);
        }

        function drawCombinedWave(y) {
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 3;
            ctx.beginPath();

            const harmonics = [
                { amp: 50, freq: 1, phase: time },
                { amp: 25, freq: 2, phase: time * 2 },
                { amp: 15, freq: 3, phase: time * 3 },
                { amp: 10, freq: 5, phase: time * 5 }
            ];

            for (let x = 0; x < canvas.width; x++) {
                let sum = 0;

                harmonics.forEach(h => {
                    const angle = (x * h.freq * Math.PI * 2) / canvas.width + h.phase;
                    sum += Math.sin(angle) * h.amp;
                });

                const yPos = y + sum;

                if (x === 0) {
                    ctx.moveTo(x, yPos);
                } else {
                    ctx.lineTo(x, yPos);
                }
            }

            ctx.stroke();

            ctx.fillStyle = '#00ffff';
            ctx.font = 'bold 16px monospace';
            ctx.fillText('Combined Wave (Fourier Sum)', 20, y - 80);
        }

        function animate() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const spacing = canvas.height / 6;

            // Draw individual harmonics
            drawWave(spacing * 1, 50, 1, time, '#ff0066', 'Fundamental (1x)');
            drawWave(spacing * 2, 25, 2, time * 2, '#ff6600', '2nd Harmonic (2x)');
            drawWave(spacing * 3, 15, 3, time * 3, '#ffaa00', '3rd Harmonic (3x)');
            drawWave(spacing * 4, 10, 5, time * 5, '#00ff88', '5th Harmonic (5x)');

            // Draw combined wave
            drawCombinedWave(spacing * 5);

            time += 0.02;

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
