<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aizawa Attractor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            overflow: hidden;
            background: #000;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        canvas {
            display: block;
        }
        .info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 10px;
            color: white;
            max-width: 300px;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="info">
        <h2>Aizawa Attractor</h2>
        <p>A beautiful 3D chaotic attractor with intricate folding patterns.</p>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const a = 0.95;
        const b = 0.7;
        const c = 0.6;
        const d = 3.5;
        const e = 0.25;
        const f = 0.1;
        const dt = 0.01;

        let x = 0.1;
        let y = 0;
        let z = 0;

        let points = [];
        let rotation = 0;

        function rotateY(x, z, angle) {
            const cos = Math.cos(angle);
            const sin = Math.sin(angle);
            return {
                x: x * cos + z * sin,
                z: -x * sin + z * cos
            };
        }

        function rotateX(y, z, angle) {
            const cos = Math.cos(angle);
            const sin = Math.sin(angle);
            return {
                y: y * cos - z * sin,
                z: y * sin + z * cos
            };
        }

        function project(x, y, z) {
            const scale = 50;
            const distance = 200;

            const rotated = rotateY(x, z, rotation);
            const rotated2 = rotateX(y, rotated.z, 0.4);

            const perspective = distance / (distance + rotated2.z);

            return {
                x: canvas.width / 2 + rotated.x * scale * perspective,
                y: canvas.height / 2 + rotated2.y * scale * perspective,
                z: rotated2.z
            };
        }

        function draw() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.02)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Calculate next point
            const dx = (z - b) * x - d * y;
            const dy = d * x + (z - b) * y;
            const dz = c + a * z - (z * z * z) / 3 - (x * x + y * y) * (1 + e * z) + f * z * x * x * x;

            x += dx * dt;
            y += dy * dt;
            z += dz * dt;

            points.push({ x, y, z });

            if (points.length > 3000) {
                points.shift();
            }

            // Draw the attractor
            for (let i = 1; i < points.length; i++) {
                const p1 = project(points[i-1].x, points[i-1].y, points[i-1].z);
                const p2 = project(points[i].x, points[i].y, points[i].z);

                const hue = 180 + (i / points.length) * 180;
                const alpha = Math.min(1, i / 500);

                ctx.beginPath();
                ctx.strokeStyle = `hsla(${hue}, 70%, 60%, ${alpha})`;
                ctx.lineWidth = 2;
                ctx.moveTo(p1.x, p1.y);
                ctx.lineTo(p2.x, p2.y);
                ctx.stroke();
            }

            rotation += 0.004;
        }

        function animate() {
            draw();
            requestAnimationFrame(animate);
        }

        animate();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>