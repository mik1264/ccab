<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar Flare Energy Comparison</title>
    <style>
        body { margin: 0; overflow: hidden; background: #0a0a0a; font-family: Arial; }
        canvas { display: block; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const comparisons = [
            {label: 'Atomic Bomb (15 kt TNT)', value: 6.3e13, color: '#888'},
            {label: 'Largest H-Bomb (50 Mt)', value: 2.1e17, color: '#888'},
            {label: 'C-Class Flare', value: 1e22, color: '#00ff00'},
            {label: 'M-Class Flare', value: 1e23, color: '#ffff00'},
            {label: 'X1 Flare', value: 1e24, color: '#ff8800'},
            {label: 'X5.1 Flare (Nov 11)', value: 5.1e24, color: '#ff0000'},
            {label: 'Carrington Event (1859)', value: 1e25, color: '#ff00ff'}
        ];

        let animationProgress = 0;

        function drawComparison() {
            const margin = 100;
            const barHeight = 50;
            const maxWidth = canvas.width - margin * 2;
            const maxValue = 1e25;

            ctx.fillStyle = '#fff';
            ctx.font = 'bold 28px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Solar Flare Energy Comparison', canvas.width / 2, 50);

            ctx.font = '14px Arial';
            ctx.fillText('Energy in Joules (logarithmic scale)', canvas.width / 2, 75);

            comparisons.forEach((item, index) => {
                const y = 120 + index * (barHeight + 30);
                const progress = Math.max(0, animationProgress - index * 10) / 100;
                const barWidth = (Math.log10(item.value) / Math.log10(maxValue)) * maxWidth * Math.min(1, progress);

                // Bar
                const gradient = ctx.createLinearGradient(margin, 0, margin + barWidth, 0);
                gradient.addColorStop(0, item.color);
                gradient.addColorStop(1, item.color + '88');

                ctx.fillStyle = gradient;
                ctx.fillRect(margin, y, barWidth, barHeight);

                // Border
                ctx.strokeStyle = item.color;
                ctx.lineWidth = 2;
                ctx.strokeRect(margin, y, maxWidth, barHeight);

                // Label
                ctx.fillStyle = '#fff';
                ctx.font = '16px Arial';
                ctx.textAlign = 'left';
                ctx.fillText(item.label, margin, y - 5);

                // Value
                ctx.font = '14px Arial';
                ctx.fillStyle = '#aaa';
                const exponent = Math.floor(Math.log10(item.value));
                ctx.fillText(`10^${exponent} J`, margin + 10, y + 30);

                // Highlight X5.1
                if (item.label.includes('X5.1')) {
                    ctx.strokeStyle = '#ff0000';
                    ctx.lineWidth = 3;
                    ctx.shadowBlur = 10;
                    ctx.shadowColor = '#ff0000';
                    ctx.strokeRect(margin - 5, y - 5, maxWidth + 10, barHeight + 10);
                    ctx.shadowBlur = 0;
                }
            });
        }

        function animate() {
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            drawComparison();

            if (animationProgress < 200) {
                animationProgress += 1;
            }

            requestAnimationFrame(animate);
        }

        animate();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
