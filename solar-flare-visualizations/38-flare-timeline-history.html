<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notable Solar Flares Timeline</title>
    <style>
        body { margin: 0; padding: 40px; background: #0a0a0a; font-family: Arial; color: #fff; }
        .timeline { max-width: 1200px; margin: 0 auto; }
        h1 { text-align: center; color: #ff6600; margin-bottom: 40px; }
        canvas { display: block; margin: 0 auto; }
    </style>
</head>
<body>
    <div class="timeline">
        <h1>Historic Solar Flare Timeline</h1>
        <canvas id="canvas" width="1200" height="600"></canvas>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        const events = [
            {year: 1859, name: 'Carrington Event', magnitude: 'X45+', impact: 'Telegraph systems destroyed', color: '#ff0000'},
            {year: 1972, name: 'August 1972', magnitude: 'X20', impact: 'Disrupted power grids', color: '#ff3333'},
            {year: 1989, name: 'Quebec Blackout', magnitude: 'X15', impact: '6M people without power', color: '#ff5555'},
            {year: 2003, name: 'Halloween Storms', magnitude: 'X28', impact: 'Satellite damage', color: '#ff6600'},
            {year: 2006, name: 'December 2006', magnitude: 'X9', impact: 'Communications disrupted', color: '#ff8800'},
            {year: 2012, name: 'July 2012 (miss)', magnitude: 'X12', impact: 'Narrowly missed Earth', color: '#ffaa00'},
            {year: 2017, name: 'September 2017', magnitude: 'X9.3', impact: 'Radio blackouts', color: '#ffcc00'},
            {year: 2025, name: 'November 2025', magnitude: 'X5.1', impact: 'Radio blackouts Africa/Europe', color: '#ffff00', current: true}
        ];

        const timelineY = 300;
        const startYear = 1850;
        const endYear = 2030;
        const timelineWidth = 1100;
        const startX = 50;

        function drawTimeline() {
            // Main timeline line
            ctx.beginPath();
            ctx.moveTo(startX, timelineY);
            ctx.lineTo(startX + timelineWidth, timelineY);
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 3;
            ctx.stroke();

            // Decade markers
            for (let year = 1850; year <= 2030; year += 20) {
                const x = startX + ((year - startYear) / (endYear - startYear)) * timelineWidth;

                ctx.beginPath();
                ctx.moveTo(x, timelineY - 10);
                ctx.lineTo(x, timelineY + 10);
                ctx.strokeStyle = '#666';
                ctx.lineWidth = 2;
                ctx.stroke();

                ctx.fillStyle = '#888';
                ctx.font = '14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(year.toString(), x, timelineY + 30);
            }
        }

        function drawEvents() {
            events.forEach((event, index) => {
                const x = startX + ((event.year - startYear) / (endYear - startYear)) * timelineWidth;
                const yOffset = (index % 2 === 0) ? -150 : 80;
                const markerY = timelineY + yOffset;

                // Line from timeline to event
                ctx.beginPath();
                ctx.moveTo(x, timelineY);
                ctx.lineTo(x, markerY);
                ctx.strokeStyle = event.color;
                ctx.lineWidth = 2;
                ctx.stroke();

                // Event marker circle
                ctx.beginPath();
                ctx.arc(x, timelineY, 8, 0, Math.PI * 2);
                ctx.fillStyle = event.color;
                ctx.fill();

                if (event.current) {
                    ctx.strokeStyle = '#ffff00';
                    ctx.lineWidth = 3;
                    ctx.stroke();
                }

                // Event box
                const boxWidth = 140;
                const boxHeight = 80;
                const boxX = x - boxWidth / 2;
                const boxY = markerY - 40;

                ctx.fillStyle = '#1a1a1a';
                ctx.fillRect(boxX, boxY, boxWidth, boxHeight);

                ctx.strokeStyle = event.color;
                ctx.lineWidth = 2;
                ctx.strokeRect(boxX, boxY, boxWidth, boxHeight);

                // Event text
                ctx.fillStyle = event.color;
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(event.name, x, boxY + 20);

                ctx.font = 'bold 16px Arial';
                ctx.fillText(event.magnitude, x, boxY + 40);

                ctx.font = '10px Arial';
                ctx.fillStyle = '#aaa';
                ctx.fillText(event.year.toString(), x, boxY + 55);

                ctx.fillStyle = '#888';
                ctx.fillText(event.impact, x, boxY + 70);
            });
        }

        function drawLegend() {
            ctx.fillStyle = '#fff';
            ctx.font = '12px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('X-Class Magnitude:', 50, 50);

            const magnitudes = [
                {label: 'X1-X5', color: '#ffff00'},
                {label: 'X5-X10', color: '#ffaa00'},
                {label: 'X10-X20', color: '#ff8800'},
                {label: 'X20+', color: '#ff0000'}
            ];

            magnitudes.forEach((mag, i) => {
                const x = 200 + i * 100;

                ctx.fillStyle = mag.color;
                ctx.fillRect(x, 40, 20, 15);

                ctx.fillStyle = '#fff';
                ctx.fillText(mag.label, x + 25, 52);
            });
        }

        drawLegend();
        drawTimeline();
        drawEvents();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
