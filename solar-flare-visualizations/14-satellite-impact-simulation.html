<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Satellite Communication Impact</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
        }
        .info {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #fff;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 5px;
        }
        .status {
            color: #ffaa00;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="info">
        <h3>Satellite Systems</h3>
        <div class="status">âš  DEGRADED</div>
        <div style="margin-top: 10px;">
            GPS: Signal degradation<br>
            Comms: Intermittent loss<br>
            Imaging: Increased noise
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const earthX = canvas.width / 2;
        const earthY = canvas.height / 2;
        const earthRadius = 60;

        class Satellite {
            constructor(name, altitude, type) {
                this.name = name;
                this.altitude = altitude;
                this.type = type;
                this.angle = Math.random() * Math.PI * 2;
                this.speed = 0.01 + (1 / altitude) * 0.5;
                this.health = 100;
                this.signalStrength = 100;
            }

            update(radiationLevel) {
                this.angle += this.speed;

                // Radiation damage
                if (radiationLevel > 0.5) {
                    this.health -= 0.1;
                    this.signalStrength -= 0.5;
                }

                // Recovery
                if (radiationLevel < 0.3) {
                    this.health = Math.min(100, this.health + 0.05);
                    this.signalStrength = Math.min(100, this.signalStrength + 0.3);
                }
            }

            draw() {
                const x = earthX + Math.cos(this.angle) * this.altitude;
                const y = earthY + Math.sin(this.angle) * this.altitude * 0.7;

                // Satellite body
                const healthColor = this.health > 80 ? '#00ff00' :
                                   this.health > 50 ? '#ffff00' : '#ff0000';

                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fillStyle = healthColor;
                ctx.fill();

                // Solar panels
                ctx.fillStyle = healthColor + '88';
                ctx.fillRect(x - 10, y - 2, 8, 4);
                ctx.fillRect(x + 2, y - 2, 8, 4);

                // Signal waves if healthy
                if (this.signalStrength > 50) {
                    for (let i = 0; i < 3; i++) {
                        ctx.beginPath();
                        ctx.arc(x, y, 10 + i * 10, 0, Math.PI * 2);
                        ctx.strokeStyle = `rgba(0, 255, 255, ${0.3 - i * 0.1})`;
                        ctx.lineWidth = 1;
                        ctx.stroke();
                    }
                }

                // Label
                ctx.fillStyle = '#fff';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(this.name, x, y - 10);
            }

            getPosition() {
                return {
                    x: earthX + Math.cos(this.angle) * this.altitude,
                    y: earthY + Math.sin(this.angle) * this.altitude * 0.7
                };
            }
        }

        class GroundStation {
            constructor(x, y, name) {
                this.x = x;
                this.y = y;
                this.name = name;
            }

            draw() {
                // Antenna
                ctx.beginPath();
                ctx.moveTo(this.x, this.y);
                ctx.lineTo(this.x - 10, this.y + 15);
                ctx.lineTo(this.x + 10, this.y + 15);
                ctx.closePath();
                ctx.fillStyle = '#ffffff';
                ctx.fill();

                // Base
                ctx.fillRect(this.x - 3, this.y, 6, 15);

                // Label
                ctx.fillStyle = '#aaa';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(this.name, this.x, this.y + 30);
            }

            drawSignalTo(satellite, quality) {
                const pos = satellite.getPosition();

                if (quality > 50) {
                    ctx.beginPath();
                    ctx.moveTo(this.x, this.y);
                    ctx.lineTo(pos.x, pos.y);

                    const alpha = quality / 100;
                    ctx.strokeStyle = `rgba(0, 255, 255, ${alpha * 0.5})`;
                    ctx.lineWidth = 1;

                    if (quality < 80) {
                        ctx.setLineDash([5, 5]);
                    }
                    ctx.stroke();
                    ctx.setLineDash([]);
                }
            }
        }

        // Create satellites at different altitudes
        const satellites = [
            new Satellite('GPS-1', 280, 'navigation'),
            new Satellite('GPS-2', 290, 'navigation'),
            new Satellite('COM-1', 350, 'communication'),
            new Satellite('COM-2', 360, 'communication'),
            new Satellite('ISS', 200, 'station'),
            new Satellite('SAT-1', 320, 'imaging'),
            new Satellite('SAT-2', 340, 'imaging'),
            new Satellite('GEO-1', 450, 'weather')
        ];

        // Ground stations
        const groundStations = [
            new GroundStation(earthX - 200, earthY + earthRadius + 30, 'Station A'),
            new GroundStation(earthX + 200, earthY + earthRadius + 30, 'Station B'),
            new GroundStation(earthX, earthY + earthRadius + 30, 'Station C')
        ];

        let radiationLevel = 0;
        let radiationPhase = 'calm'; // calm, rising, peak, falling
        let time = 0;

        function updateRadiation() {
            if (radiationPhase === 'calm') {
                if (time % 400 === 0) radiationPhase = 'rising';
            } else if (radiationPhase === 'rising') {
                radiationLevel += 0.01;
                if (radiationLevel >= 1) radiationPhase = 'peak';
            } else if (radiationPhase === 'peak') {
                if (time % 400 === 200) radiationPhase = 'falling';
            } else if (radiationPhase === 'falling') {
                radiationLevel -= 0.005;
                if (radiationLevel <= 0) {
                    radiationLevel = 0;
                    radiationPhase = 'calm';
                }
            }
        }

        function drawEarth() {
            // Earth
            const gradient = ctx.createRadialGradient(earthX, earthY, 0, earthX, earthY, earthRadius);
            gradient.addColorStop(0, '#4488ff');
            gradient.addColorStop(0.7, '#2255cc');
            gradient.addColorStop(1, '#113388');

            ctx.beginPath();
            ctx.arc(earthX, earthY, earthRadius, 0, Math.PI * 2);
            ctx.fillStyle = gradient;
            ctx.fill();

            // Atmosphere
            const atmoGradient = ctx.createRadialGradient(
                earthX, earthY, earthRadius,
                earthX, earthY, earthRadius + 20
            );
            atmoGradient.addColorStop(0, 'rgba(100, 150, 255, 0.3)');
            atmoGradient.addColorStop(1, 'rgba(100, 150, 255, 0)');

            ctx.beginPath();
            ctx.arc(earthX, earthY, earthRadius + 20, 0, Math.PI * 2);
            ctx.fillStyle = atmoGradient;
            ctx.fill();
        }

        function drawRadiationBelt() {
            if (radiationLevel > 0) {
                // Van Allen belt visualization
                for (let i = 0; i < 3; i++) {
                    const r = 250 + i * 50;
                    const alpha = radiationLevel * (0.3 - i * 0.1);

                    ctx.beginPath();
                    ctx.arc(earthX, earthY, r, 0, Math.PI * 2);
                    ctx.strokeStyle = `rgba(255, 50, 50, ${alpha})`;
                    ctx.lineWidth = 10;
                    ctx.stroke();
                }
            }
        }

        function drawOrbitPaths() {
            [200, 280, 320, 360, 450].forEach(radius => {
                ctx.beginPath();
                ctx.ellipse(earthX, earthY, radius, radius * 0.7, 0, 0, Math.PI * 2);
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 1;
                ctx.setLineDash([3, 3]);
                ctx.stroke();
                ctx.setLineDash([]);
            });
        }

        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            drawOrbitPaths();
            drawRadiationBelt();
            drawEarth();

            // Update and draw satellites
            satellites.forEach(sat => {
                sat.update(radiationLevel);
                sat.draw();
            });

            // Draw ground stations
            groundStations.forEach(station => {
                station.draw();

                // Draw signals to nearest satellites
                satellites.slice(0, 3).forEach(sat => {
                    station.drawSignalTo(sat, sat.signalStrength);
                });
            });

            updateRadiation();
            time++;

            requestAnimationFrame(animate);
        }

        animate();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
