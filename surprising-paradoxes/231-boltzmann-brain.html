<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Boltzmann Brain Paradox | Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --void-black: #050510;
            --entropy-red: #ff3366;
            --cold-blue: #0066ff;
            --heat-death: #1a1a2e;
            --brain-pink: #ff6b9d;
            --quantum-purple: #9d4edd;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--void-black);
            min-height: 100vh;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .particle-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            animation: drift 20s infinite linear;
        }

        @keyframes drift {
            0% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(100px, -50px) rotate(90deg); }
            50% { transform: translate(-50px, 100px) rotate(180deg); }
            75% { transform: translate(-100px, -100px) rotate(270deg); }
            100% { transform: translate(0, 0) rotate(360deg); }
        }

        .content {
            position: relative;
            z-index: 1;
        }

        .organic-back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            text-decoration: none;
            color: #fff;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .organic-back-link:hover {
            transform: translateX(-3px);
            background: rgba(255,255,255,0.2);
        }

        header {
            text-align: center;
            padding: 80px 20px 40px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 3em;
            color: var(--brain-pink);
            margin-bottom: 15px;
            text-shadow: 0 0 50px var(--brain-pink), 0 0 100px var(--quantum-purple);
        }

        .subtitle {
            font-size: 1.3em;
            color: #888;
            font-weight: 500;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .existential-question {
            text-align: center;
            font-size: 2em;
            font-family: 'Lora', serif;
            color: #fff;
            margin: 40px 0;
            padding: 30px;
            background: linear-gradient(135deg, rgba(157,78,221,0.3) 0%, rgba(255,107,157,0.2) 100%);
            border-radius: 20px;
            border: 1px solid rgba(255,107,157,0.3);
        }

        .existential-question span {
            color: var(--brain-pink);
            text-shadow: 0 0 20px var(--brain-pink);
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 30px;
            align-items: start;
        }

        @media (max-width: 1000px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }

        .simulation-area {
            background: rgba(26,26,46,0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .simulation-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .simulation-title {
            font-family: 'Lora', serif;
            font-size: 1.4em;
            color: var(--brain-pink);
        }

        .canvas-container {
            position: relative;
            background: #000;
            border-radius: 15px;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
        }

        .time-display {
            position: absolute;
            bottom: 15px;
            left: 15px;
            background: rgba(0,0,0,0.7);
            padding: 10px 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
        }

        .time-label {
            font-size: 0.8em;
            color: #888;
        }

        .time-value {
            font-size: 1.2em;
            color: var(--brain-pink);
        }

        .entropy-bar {
            margin-top: 20px;
        }

        .entropy-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            margin-bottom: 8px;
        }

        .entropy-track {
            height: 20px;
            background: linear-gradient(90deg, var(--cold-blue) 0%, var(--quantum-purple) 50%, var(--entropy-red) 100%);
            border-radius: 10px;
            position: relative;
        }

        .entropy-marker {
            position: absolute;
            top: -5px;
            width: 4px;
            height: 30px;
            background: #fff;
            border-radius: 2px;
            transition: left 0.5s;
            box-shadow: 0 0 10px #fff;
        }

        .probability-comparison {
            margin-top: 25px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .prob-card {
            background: rgba(0,0,0,0.4);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .prob-card.brain {
            border-color: var(--brain-pink);
        }

        .prob-card.universe {
            border-color: var(--cold-blue);
        }

        .prob-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .prob-label {
            font-size: 0.9em;
            color: #888;
            margin-bottom: 5px;
        }

        .prob-value {
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            color: #fff;
        }

        .controls-panel {
            background: rgba(26,26,46,0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-label {
            font-family: 'Lora', serif;
            font-weight: 600;
            color: var(--brain-pink);
            margin-bottom: 15px;
            font-size: 1.1em;
            display: block;
        }

        .phase-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .phase-btn {
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            color: #ccc;
        }

        .phase-btn:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--brain-pink);
        }

        .phase-btn.active {
            background: rgba(255,107,157,0.2);
            border-color: var(--brain-pink);
        }

        .phase-title {
            font-weight: 700;
            color: #fff;
            margin-bottom: 3px;
        }

        .phase-desc {
            font-size: 0.85em;
            color: #888;
        }

        .paradox-box {
            background: linear-gradient(135deg, rgba(255,51,102,0.2) 0%, rgba(157,78,221,0.2) 100%);
            border: 1px solid var(--entropy-red);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .paradox-title {
            font-family: 'Lora', serif;
            color: var(--entropy-red);
            margin-bottom: 10px;
        }

        .paradox-text {
            font-size: 0.95em;
            line-height: 1.6;
        }

        .feynman-quote {
            background: rgba(0,102,255,0.15);
            border-left: 4px solid var(--cold-blue);
            padding: 15px 20px;
            margin-top: 20px;
            border-radius: 0 10px 10px 0;
            font-style: italic;
        }

        .feynman-quote .author {
            display: block;
            margin-top: 10px;
            color: #888;
            font-style: normal;
        }

        .simulation-controls {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button.sim-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 25px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            font-size: 0.95em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-pink {
            background: linear-gradient(135deg, var(--brain-pink) 0%, var(--quantum-purple) 100%);
            color: white;
        }

        .btn-pink:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,107,157,0.4);
        }

        .btn-dark {
            background: rgba(255,255,255,0.1);
            color: #aaa;
            border: 1px solid #444;
        }

        .explanation {
            background: rgba(26,26,46,0.8);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }

        .explanation h2 {
            font-family: 'Lora', serif;
            color: var(--brain-pink);
            margin: 25px 0 15px;
        }

        .explanation h2:first-child {
            margin-top: 0;
        }

        .explanation p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #ccc;
        }

        .highlight {
            background: rgba(255,107,157,0.2);
            padding: 2px 6px;
            border-radius: 3px;
            color: var(--brain-pink);
        }

        .timeline-visual {
            position: relative;
            padding: 30px 0;
            margin: 25px 0;
        }

        .timeline-track {
            height: 4px;
            background: linear-gradient(90deg, var(--cold-blue) 0%, #fff 20%, var(--entropy-red) 100%);
            border-radius: 2px;
            position: relative;
        }

        .timeline-events {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .timeline-event {
            text-align: center;
            max-width: 120px;
        }

        .event-dot {
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
            margin: 0 auto 8px;
            box-shadow: 0 0 10px #fff;
        }

        .event-label {
            font-size: 0.8em;
            color: #888;
        }

        .event-time {
            font-size: 0.75em;
            color: #666;
        }

        .resolution-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 600px) {
            .resolution-grid {
                grid-template-columns: 1fr;
            }
        }

        .resolution-card {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
        }

        .resolution-card h3 {
            color: var(--brain-pink);
            font-family: 'Lora', serif;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .resolution-card p {
            font-size: 0.9em;
            line-height: 1.6;
            color: #aaa;
        }

        .brain-visual {
            position: relative;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }

        .floating-brain {
            font-size: 5em;
            animation: brainFloat 3s ease-in-out infinite;
            text-shadow: 0 0 50px var(--brain-pink);
        }

        @keyframes brainFloat {
            0%, 100% { transform: translateY(0) rotate(-5deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }

        .glitch-text {
            animation: glitch 2s infinite;
        }

        @keyframes glitch {
            0%, 90%, 100% { opacity: 1; transform: translateX(0); }
            92% { opacity: 0.8; transform: translateX(-2px); color: #ff0000; }
            94% { opacity: 0.8; transform: translateX(2px); color: #00ff00; }
            96% { opacity: 0.9; transform: translateX(-1px); }
        }
    </style>
</head>
<body>
    <div class="particle-field" id="particleField"></div>

    <div class="content">
        <a href="index.html" class="organic-back-link">
            <span class="back-arrow">‚Üê</span>
            <span class="back-text">Gallery</span>
        </a>

        <header>
            <h1>üß† The Boltzmann Brain Paradox</h1>
            <p class="subtitle">In infinite time, random fluctuations create conscious observers</p>
        </header>

        <div class="container">
            <div class="existential-question">
                Are <span class="glitch-text">YOU</span> a real person with a real past,<br>
                or a random fluctuation with <span>false memories</span>?
            </div>

            <div class="main-layout">
                <div class="simulation-area">
                    <div class="simulation-header">
                        <div class="simulation-title">Thermal Fluctuation Simulator</div>
                    </div>

                    <div class="canvas-container">
                        <canvas id="simCanvas" width="700" height="400"></canvas>
                        <div class="time-display">
                            <div class="time-label">Time since Big Bang:</div>
                            <div class="time-value" id="timeDisplay">13.8 billion years</div>
                        </div>
                    </div>

                    <div class="entropy-bar">
                        <div class="entropy-label">
                            <span>Low Entropy (Order)</span>
                            <span>High Entropy (Disorder)</span>
                        </div>
                        <div class="entropy-track">
                            <div class="entropy-marker" id="entropyMarker" style="left: 30%;"></div>
                        </div>
                    </div>

                    <div class="probability-comparison">
                        <div class="prob-card brain">
                            <div class="prob-icon">üß†</div>
                            <div class="prob-label">Boltzmann Brain</div>
                            <div class="prob-value">~10<sup>10<sup>50</sup></sup> atoms</div>
                        </div>
                        <div class="prob-card universe">
                            <div class="prob-icon">üåå</div>
                            <div class="prob-label">Observable Universe</div>
                            <div class="prob-value">~10<sup>80</sup> atoms</div>
                        </div>
                    </div>

                    <p style="text-align: center; margin-top: 15px; color: #888; font-size: 0.9em;">
                        A brain needs fewer atoms to fluctuate into existence than an entire universe‚Äî<br>
                        making Boltzmann Brains <strong>vastly more likely</strong> in an eternal cosmos.
                    </p>

                    <div class="brain-visual">
                        <div class="floating-brain" id="floatingBrain">üß†</div>
                    </div>
                </div>

                <div class="controls-panel">
                    <div class="control-group">
                        <label class="control-label">üï∞Ô∏è Cosmic Phase</label>
                        <div class="phase-buttons">
                            <button class="phase-btn active" data-phase="now">
                                <div class="phase-title">Now (13.8 Gyr)</div>
                                <div class="phase-desc">Stars burning, structure forming</div>
                            </button>
                            <button class="phase-btn" data-phase="stelliferous">
                                <div class="phase-title">Stelliferous Era End</div>
                                <div class="phase-desc">Last stars die (10¬π‚Å¥ years)</div>
                            </button>
                            <button class="phase-btn" data-phase="black-hole">
                                <div class="phase-title">Black Hole Era</div>
                                <div class="phase-desc">Only black holes remain (10‚Å¥‚Å∞ years)</div>
                            </button>
                            <button class="phase-btn" data-phase="heat-death">
                                <div class="phase-title">Heat Death</div>
                                <div class="phase-desc">Maximum entropy (10¬π‚Å∞‚Å∞+ years)</div>
                            </button>
                            <button class="phase-btn" data-phase="fluctuation">
                                <div class="phase-title">Boltzmann Fluctuation!</div>
                                <div class="phase-desc">A brain spontaneously forms</div>
                            </button>
                        </div>
                    </div>

                    <div class="paradox-box">
                        <div class="paradox-title">ü§Ø The Paradox</div>
                        <div class="paradox-text">
                            Given <strong>infinite time</strong>, thermal fluctuations will produce EVERYTHING‚Äîincluding conscious brains with false memories.<br><br>
                            These "Boltzmann Brains" are <strong>infinitely more probable</strong> than real observers in a real universe.<br><br>
                            So statistically, you're more likely to be a random brain than a real person!
                        </div>
                    </div>

                    <div class="feynman-quote">
                        "If our order were due to a fluctuation, we would not expect order anywhere but where we have just noticed it."
                        <span class="author">‚Äî Richard Feynman</span>
                    </div>

                    <div class="simulation-controls">
                        <button class="sim-btn btn-pink" id="playBtn">‚ñ∂ Animate Timeline</button>
                        <button class="sim-btn btn-dark" id="resetBtn">‚Ü∫ Reset</button>
                    </div>
                </div>
            </div>

            <div class="explanation">
                <h2>The Origin: Boltzmann's Cosmological Hypothesis</h2>

                <p>
                    In the late 1800s, physicist <span class="highlight">Ludwig Boltzmann</span> tried to explain
                    why the universe has such low entropy (high order) when thermodynamics says entropy should increase.
                </p>

                <p>
                    His solution: the universe is in thermal equilibrium most of the time, but occasionally
                    <span class="highlight">random fluctuations</span> create pockets of low entropy.
                    We happen to exist in one such fluctuation.
                </p>

                <h2>The Horrifying Implication</h2>

                <p>
                    Here's the problem: if the universe can fluctuate into existence, it's FAR more likely
                    to fluctuate into a <strong>minimal</strong> configuration that creates an observer‚Äîjust a brain
                    with false memories of a universe that never existed.
                </p>

                <div class="timeline-visual">
                    <div class="timeline-track"></div>
                    <div class="timeline-events">
                        <div class="timeline-event">
                            <div class="event-dot" style="background: var(--cold-blue);"></div>
                            <div class="event-label">Big Bang</div>
                            <div class="event-time">0</div>
                        </div>
                        <div class="timeline-event">
                            <div class="event-dot"></div>
                            <div class="event-label">Now</div>
                            <div class="event-time">13.8 Gyr</div>
                        </div>
                        <div class="timeline-event">
                            <div class="event-dot"></div>
                            <div class="event-label">Last Stars</div>
                            <div class="event-time">10¬π‚Å¥ yr</div>
                        </div>
                        <div class="timeline-event">
                            <div class="event-dot"></div>
                            <div class="event-label">Black Holes</div>
                            <div class="event-time">10‚Å¥‚Å∞ yr</div>
                        </div>
                        <div class="timeline-event">
                            <div class="event-dot" style="background: var(--entropy-red);"></div>
                            <div class="event-label">Heat Death</div>
                            <div class="event-time">10¬π‚Å∞‚Å∞+ yr</div>
                        </div>
                    </div>
                </div>

                <p>
                    In the <span class="highlight">heat death</span> of the universe, when everything has decayed
                    and only thermal radiation remains, random quantum fluctuations will‚Äîover incomprehensible
                    timescales‚Äîassemble every possible configuration, including conscious observers.
                </p>

                <h2>Proposed Resolutions</h2>

                <div class="resolution-grid">
                    <div class="resolution-card">
                        <h3>üî¨ Feynman's Argument</h3>
                        <p>If we were fluctuations, we'd only see order where we've looked. But we keep finding new order (low entropy) in unexplored places. We're not fluctuations.</p>
                    </div>
                    <div class="resolution-card">
                        <h3>üåÄ Quantum Resolution</h3>
                        <p>Sean Carroll argues that quantum fluctuations behave differently from thermal ones. The universe's formation wasn't a Boltzmann fluctuation.</p>
                    </div>
                    <div class="resolution-card">
                        <h3>‚è∞ Finite Future</h3>
                        <p>If the universe has a finite lifespan (Big Rip, vacuum decay), there isn't enough time for Boltzmann Brains to dominate.</p>
                    </div>
                    <div class="resolution-card">
                        <h3>üìê Measure Problem</h3>
                        <p>How do we count observers in an infinite multiverse? The "measure problem" may make the paradox ill-defined.</p>
                    </div>
                </div>

                <h2>Why It Matters</h2>

                <p>
                    The Boltzmann Brain paradox isn't just philosophical navel-gazing‚Äîit's a
                    <span class="highlight">test for cosmological theories</span>. Any theory that predicts
                    Boltzmann Brains outnumber real observers is considered problematic.
                </p>

                <p>
                    This paradox has constrained theories of <strong>eternal inflation</strong> and the
                    <strong>cosmological constant</strong>. If a theory predicts we're almost certainly
                    Boltzmann Brains, something is wrong with the theory‚Äîor with our understanding of probability
                    in infinite universes.
                </p>

                <h2>The Existential Horror</h2>

                <p>
                    If you ARE a Boltzmann Brain, your memories of childhood, your knowledge of physics,
                    even your sensation of reading this paragraph‚Äîall would be random fluctuations that
                    happened to cohere momentarily. In the next instant, you might dissolve back into chaos.
                </p>

                <p>
                    But take comfort: the very fact that you can investigate this question, find new evidence,
                    and observe a consistent universe <strong>strongly suggests you're real</strong>.
                    Probably.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Create particle field
        const particleField = document.getElementById('particleField');
        for (let i = 0; i < 100; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.top = Math.random() * 100 + '%';
            particle.style.width = particle.style.height = (Math.random() * 3 + 1) + 'px';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (15 + Math.random() * 10) + 's';
            particleField.appendChild(particle);
        }

        const canvas = document.getElementById('simCanvas');
        const ctx = canvas.getContext('2d');
        const timeDisplay = document.getElementById('timeDisplay');
        const entropyMarker = document.getElementById('entropyMarker');
        const floatingBrain = document.getElementById('floatingBrain');
        const playBtn = document.getElementById('playBtn');
        const resetBtn = document.getElementById('resetBtn');
        const phaseButtons = document.querySelectorAll('.phase-btn');

        let particles = [];
        let currentPhase = 'now';
        let animating = false;
        let animationFrame;

        const phases = {
            now: {
                time: '13.8 billion years',
                entropy: 30,
                particleCount: 200,
                particleSpeed: 1,
                color: '#ffffff',
                hasBrain: false
            },
            stelliferous: {
                time: '100 trillion years',
                entropy: 50,
                particleCount: 100,
                particleSpeed: 0.5,
                color: '#ff6b6b',
                hasBrain: false
            },
            'black-hole': {
                time: '10‚Å¥‚Å∞ years',
                entropy: 70,
                particleCount: 30,
                particleSpeed: 0.2,
                color: '#333333',
                hasBrain: false
            },
            'heat-death': {
                time: '10¬π‚Å∞‚Å∞ years',
                entropy: 95,
                particleCount: 10,
                particleSpeed: 0.05,
                color: '#1a1a1a',
                hasBrain: false
            },
            fluctuation: {
                time: '10^10^50 years',
                entropy: 98,
                particleCount: 50,
                particleSpeed: 0.1,
                color: '#ff6b9d',
                hasBrain: true
            }
        };

        function initParticles(phase) {
            const config = phases[phase];
            particles = [];
            for (let i = 0; i < config.particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    vx: (Math.random() - 0.5) * config.particleSpeed * 2,
                    vy: (Math.random() - 0.5) * config.particleSpeed * 2,
                    size: Math.random() * 3 + 1,
                    color: config.color
                });
            }
        }

        function drawBrain(x, y, size) {
            ctx.font = size + 'px Arial';
            ctx.fillText('üß†', x - size/2, y + size/3);
        }

        function animate() {
            const config = phases[currentPhase];

            // Clear canvas with fade effect
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Update and draw particles
            particles.forEach(p => {
                // Random walk
                p.vx += (Math.random() - 0.5) * 0.1;
                p.vy += (Math.random() - 0.5) * 0.1;

                // Damping
                p.vx *= 0.99;
                p.vy *= 0.99;

                p.x += p.vx;
                p.y += p.vy;

                // Wrap around
                if (p.x < 0) p.x = canvas.width;
                if (p.x > canvas.width) p.x = 0;
                if (p.y < 0) p.y = canvas.height;
                if (p.y > canvas.height) p.y = 0;

                // Draw particle
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();
            });

            // Draw brain if in fluctuation phase
            if (config.hasBrain) {
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;

                // Glow effect
                const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, 100);
                gradient.addColorStop(0, 'rgba(255, 107, 157, 0.3)');
                gradient.addColorStop(1, 'transparent');
                ctx.fillStyle = gradient;
                ctx.fillRect(centerX - 100, centerY - 100, 200, 200);

                drawBrain(centerX, centerY, 80);
            }

            animationFrame = requestAnimationFrame(animate);
        }

        function setPhase(phase) {
            currentPhase = phase;
            const config = phases[phase];

            timeDisplay.textContent = config.time;
            entropyMarker.style.left = config.entropy + '%';

            // Update brain visibility
            floatingBrain.style.opacity = config.hasBrain ? '1' : '0.2';

            // Reinitialize particles
            initParticles(phase);

            // Update buttons
            phaseButtons.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.phase === phase);
            });
        }

        function playTimeline() {
            if (animating) {
                animating = false;
                playBtn.textContent = '‚ñ∂ Animate Timeline';
                return;
            }

            animating = true;
            playBtn.textContent = '‚è∏ Pause';

            const phaseOrder = ['now', 'stelliferous', 'black-hole', 'heat-death', 'fluctuation'];
            let index = 0;

            function nextPhase() {
                if (!animating || index >= phaseOrder.length) {
                    animating = false;
                    playBtn.textContent = '‚ñ∂ Animate Timeline';
                    return;
                }

                setPhase(phaseOrder[index]);
                index++;
                setTimeout(nextPhase, 3000);
            }

            nextPhase();
        }

        function reset() {
            animating = false;
            playBtn.textContent = '‚ñ∂ Animate Timeline';
            setPhase('now');
        }

        // Event listeners
        phaseButtons.forEach(btn => {
            btn.addEventListener('click', () => setPhase(btn.dataset.phase));
        });

        playBtn.addEventListener('click', playTimeline);
        resetBtn.addEventListener('click', reset);

        // Initialize
        initParticles('now');
        animate();
    </script>
</body>
</html>
