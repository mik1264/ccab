<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotelling's Law - Why Competitors Cluster Together</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a3a5a 0%, #0d2a4a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        .back-link { color: #3498db; text-decoration: none; margin-bottom: 20px; display: inline-block; }
        h1 {
            font-size: 2.4rem;
            background: linear-gradient(135deg, #3498db, #f1c40f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle { font-size: 1.1rem; color: #87ceeb; max-width: 800px; margin: 0 auto; line-height: 1.6; }
        .beach-container { background: rgba(30, 60, 90, 0.7); border-radius: 15px; padding: 25px; margin-bottom: 30px; }
        .beach-container h2 { color: #f1c40f; font-size: 1.3rem; margin-bottom: 20px; }
        .beach-scene {
            background: linear-gradient(180deg, #87ceeb 0%, #87ceeb 60%, #f4d03f 60%, #f4d03f 100%);
            height: 200px;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        .water {
            position: absolute;
            bottom: 40%;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(90deg, rgba(52, 152, 219, 0.8), rgba(41, 128, 185, 0.8));
        }
        .vendor {
            position: absolute;
            bottom: 15%;
            width: 40px;
            height: 60px;
            transform: translateX(-50%);
            cursor: grab;
            transition: left 0.3s ease;
        }
        .vendor-body {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .vendor-a .vendor-body { background: #e74c3c; }
        .vendor-b .vendor-body { background: #3498db; }
        .vendor-label {
            text-align: center;
            font-size: 0.7rem;
            color: #fff;
            background: rgba(0,0,0,0.5);
            border-radius: 3px;
            padding: 2px 5px;
            margin-top: 5px;
        }
        .customer-area {
            position: absolute;
            bottom: 5%;
            left: 0;
            right: 0;
            height: 10%;
            display: flex;
        }
        .customer-zone {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .controls { display: flex; gap: 15px; margin: 20px 0; justify-content: center; flex-wrap: wrap; }
        .control-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.3s;
        }
        .control-btn.primary { background: linear-gradient(135deg, #f1c40f, #e67e22); color: #1a1a1a; }
        .control-btn.secondary { background: rgba(52, 152, 219, 0.2); color: #3498db; border: 1px solid rgba(52, 152, 219, 0.5); }
        .control-btn:hover { transform: scale(1.05); }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0; }
        .stat-box { background: rgba(10, 30, 50, 0.6); padding: 15px; border-radius: 10px; text-align: center; }
        .stat-value { font-size: 1.4rem; font-weight: bold; }
        .stat-value.red { color: #e74c3c; }
        .stat-value.blue { color: #3498db; }
        .stat-value.gold { color: #f1c40f; }
        .stat-label { color: #87ceeb; font-size: 0.85rem; margin-top: 5px; }
        .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-bottom: 30px; }
        .panel { background: rgba(30, 60, 90, 0.7); border-radius: 15px; padding: 25px; border: 1px solid rgba(52, 152, 219, 0.3); }
        .panel h2 { color: #3498db; font-size: 1.2rem; margin-bottom: 15px; }
        .finding-card { background: rgba(10, 30, 50, 0.6); border-radius: 10px; padding: 15px; margin-top: 15px; }
        .finding-card h3 { color: #f1c40f; margin-bottom: 10px; font-size: 1rem; }
        .finding-card p { color: #90c0e0; font-size: 0.9rem; line-height: 1.6; }
        .insight-box {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(241, 196, 15, 0.1));
            border-left: 4px solid #3498db;
            padding: 20px;
            border-radius: 0 10px 10px 0;
            margin: 25px 0;
        }
        .insight-box h3 { color: #f1c40f; margin-bottom: 10px; }
        .explanation { background: rgba(30, 60, 90, 0.5); border-radius: 15px; padding: 25px; margin-top: 30px; }
        .explanation h2 { color: #3498db; margin-bottom: 15px; }
        .explanation p { color: #90c0e0; line-height: 1.8; margin-bottom: 15px; }
        @media (max-width: 900px) { .main-grid { grid-template-columns: 1fr; } .stats-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-link">‚Üê Back to Surprising Paradoxes</a>
            <h1>Hotelling's Law</h1>
            <p class="subtitle">Why do competitors cluster together instead of spreading out? Two ice cream vendors on a beach will BOTH end up in the middle‚Äîeven though spreading out would serve customers better!</p>
        </header>

        <div class="beach-container">
            <h2>üèñÔ∏è The Beach (Drag Vendors or Click "Run Simulation")</h2>
            <div class="beach-scene" id="beach">
                <div class="water"></div>
                <div class="vendor vendor-a" id="vendorA" style="left: 25%;">
                    <div class="vendor-body">üç¶</div>
                    <div class="vendor-label">Vendor A</div>
                </div>
                <div class="vendor vendor-b" id="vendorB" style="left: 75%;">
                    <div class="vendor-body">üç¶</div>
                    <div class="vendor-label">Vendor B</div>
                </div>
            </div>
            <div class="controls">
                <button class="control-btn primary" id="runSim">‚ñ∂ Run Competition</button>
                <button class="control-btn secondary" id="stepSim">‚Üí Step Once</button>
                <button class="control-btn secondary" id="resetSim">‚Üª Reset (Spread)</button>
                <button class="control-btn secondary" id="optimalSim">‚òÖ Optimal Position</button>
            </div>
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-value red" id="shareA">50%</div>
                    <div class="stat-label">Vendor A Market Share</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value blue" id="shareB">50%</div>
                    <div class="stat-label">Vendor B Market Share</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value gold" id="avgWalk">25%</div>
                    <div class="stat-label">Avg Customer Walk Distance</div>
                </div>
            </div>
        </div>

        <div class="main-grid">
            <div class="panel">
                <h2>üéØ The Nash Equilibrium</h2>
                <div class="finding-card">
                    <h3>The Setup</h3>
                    <p>Customers are spread evenly along a beach. They walk to the NEAREST vendor. Each vendor wants to maximize their market share.</p>
                </div>
                <div class="finding-card">
                    <h3>The Logic</h3>
                    <p>If A is at 25% and B at 75%, A can gain customers by moving toward B. B responds by moving toward A. This continues until BOTH are at 50%!</p>
                </div>
                <div class="finding-card" style="background: rgba(241, 196, 15, 0.15);">
                    <h3>The Result</h3>
                    <p>Both vendors at the center = Nash Equilibrium. Neither can improve by moving alone. But customers walk FARTHER on average than if vendors spread out!</p>
                </div>
            </div>
            <div class="panel">
                <h2>üåç Real-World Examples</h2>
                <div class="finding-card">
                    <h3>Gas Stations</h3>
                    <p>Why are gas stations clustered at intersections? Each station moves toward competitors to capture customers driving from either direction.</p>
                </div>
                <div class="finding-card">
                    <h3>Fast Food</h3>
                    <p>McDonald's next to Burger King next to Wendy's. Clustering captures the "I want fast food" crowd, not just "I want McDonald's."</p>
                </div>
                <div class="finding-card">
                    <h3>Politics</h3>
                    <p>Candidates move to the "center" to capture median voters. Two-party systems converge on similar platforms, frustrating voters at extremes.</p>
                </div>
            </div>
        </div>

        <div class="insight-box">
            <h3>üìä Individual Rationality ‚â† Social Optimality</h3>
            <p>When vendors cluster in the middle, each gets 50% of customers‚Äîsame as if they spread out! But customers walk TWICE as far on average. The Nash Equilibrium maximizes neither vendor's profit nor customer convenience. It's a stable mediocrity that emerges from rational self-interest.</p>
        </div>

        <div class="explanation">
            <h2>The Discovery</h2>
            <p><strong>Harold Hotelling</strong> published "Stability in Competition" in 1929, introducing spatial competition theory. His ice cream vendor model became a cornerstone of economics and political science.</p>
            <p><strong>Extensions:</strong> With 3+ vendors, clustering is LESS stable. Adding product differentiation (quality, branding) changes equilibria. Transportation costs affect outcomes.</p>
            <p><strong>The Median Voter Theorem:</strong> Anthony Downs (1957) applied Hotelling's insight to politics. In a two-party system, both parties converge toward the median voter's preferences‚Äîexplaining why American parties often seem "the same."</p>
            <p style="font-style: italic; color: #70a0c0;">Competition doesn't always serve consumers‚Äîsometimes it just makes everyone end up in the same place.</p>
        </div>
    </div>

    <script>
        var vendorA = document.getElementById('vendorA');
        var vendorB = document.getElementById('vendorB');
        var beach = document.getElementById('beach');
        
        var posA = 25;
        var posB = 75;
        var animating = false;

        function updatePositions() {
            vendorA.style.left = posA + '%';
            vendorB.style.left = posB + '%';
            updateStats();
        }

        function updateStats() {
            var midpoint = (posA + posB) / 2;
            var shareA = midpoint;
            var shareB = 100 - midpoint;
            
            document.getElementById('shareA').textContent = shareA.toFixed(0) + '%';
            document.getElementById('shareB').textContent = shareB.toFixed(0) + '%';
            
            var avgWalkA = shareA > 0 ? (Math.abs(posA - shareA/2)) / 2 : 0;
            var avgWalkB = shareB > 0 ? (Math.abs(posB - (100 - shareB/2))) / 2 : 0;
            var avgWalk = (avgWalkA * shareA + avgWalkB * shareB) / 100;
            
            document.getElementById('avgWalk').textContent = avgWalk.toFixed(1) + '%';
        }

        function stepSimulation() {
            var midpoint = (posA + posB) / 2;
            
            if (posA < midpoint - 0.5) {
                posA = Math.min(posA + 2, midpoint);
            } else if (posA > midpoint + 0.5) {
                posA = Math.max(posA - 2, midpoint);
            }
            
            if (posB > midpoint + 0.5) {
                posB = Math.max(posB - 2, midpoint);
            } else if (posB < midpoint - 0.5) {
                posB = Math.min(posB + 2, midpoint);
            }
            
            updatePositions();
        }

        function runSimulation() {
            if (animating) return;
            animating = true;
            
            var interval = setInterval(function() {
                var midpoint = (posA + posB) / 2;
                var moved = false;
                
                if (posA < 49) {
                    posA += 1;
                    moved = true;
                }
                if (posB > 51) {
                    posB -= 1;
                    moved = true;
                }
                
                updatePositions();
                
                if (!moved || (Math.abs(posA - 50) < 1 && Math.abs(posB - 50) < 1)) {
                    clearInterval(interval);
                    animating = false;
                    posA = 50;
                    posB = 50;
                    updatePositions();
                }
            }, 50);
        }

        function resetSimulation() {
            animating = false;
            posA = 25;
            posB = 75;
            updatePositions();
        }

        function optimalPosition() {
            animating = false;
            posA = 25;
            posB = 75;
            updatePositions();
        }

        var dragging = null;

        vendorA.addEventListener('mousedown', function(e) {
            dragging = 'A';
            e.preventDefault();
        });

        vendorB.addEventListener('mousedown', function(e) {
            dragging = 'B';
            e.preventDefault();
        });

        document.addEventListener('mousemove', function(e) {
            if (!dragging) return;
            
            var rect = beach.getBoundingClientRect();
            var x = (e.clientX - rect.left) / rect.width * 100;
            x = Math.max(5, Math.min(95, x));
            
            if (dragging === 'A') {
                posA = Math.min(x, posB - 5);
            } else {
                posB = Math.max(x, posA + 5);
            }
            
            updatePositions();
        });

        document.addEventListener('mouseup', function() {
            dragging = null;
        });

        document.getElementById('runSim').addEventListener('click', runSimulation);
        document.getElementById('stepSim').addEventListener('click', stepSimulation);
        document.getElementById('resetSim').addEventListener('click', resetSimulation);
        document.getElementById('optimalSim').addEventListener('click', optimalPosition);

        updatePositions();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
