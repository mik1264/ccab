<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Dichotomy Paradox - Infinite Steps, Finite Journey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #0d0d1a 0%, #1a0d2e 50%, #0d1a1a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.3em;
            background: linear-gradient(135deg, #9d4edd, #c77dff, #e0aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #aaa;
            font-style: italic;
            max-width: 700px;
            margin: 0 auto;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #c77dff;
            text-decoration: none;
            font-size: 1.1em;
            opacity: 0.8;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .back-link:hover {
            opacity: 1;
        }

        .main-panel {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            border: 1px solid rgba(157, 78, 221, 0.3);
        }

        .version-toggle {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }

        .version-btn {
            padding: 12px 25px;
            border: 2px solid rgba(157, 78, 221, 0.5);
            background: transparent;
            color: #c77dff;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        .version-btn:hover {
            background: rgba(157, 78, 221, 0.2);
        }

        .version-btn.active {
            background: linear-gradient(135deg, #9d4edd, #7b2cbf);
            color: white;
            border-color: #9d4edd;
        }

        .track-container {
            position: relative;
            height: 180px;
            margin: 20px 0;
        }

        #trackCanvas {
            width: 100%;
            height: 100%;
            border-radius: 10px;
            background: #0a0a15;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .info-card {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(157, 78, 221, 0.2);
        }

        .info-label {
            color: #888;
            font-size: 0.85em;
            margin-bottom: 5px;
        }

        .info-value {
            color: #c77dff;
            font-size: 1.3em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .fraction {
            color: #e0aaff;
        }

        .sum-display {
            background: rgba(157, 78, 221, 0.15);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
            border: 1px solid rgba(157, 78, 221, 0.3);
        }

        .sum-equation {
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            color: #e0aaff;
            word-break: break-all;
            line-height: 1.8;
        }

        .sum-result {
            font-size: 1.4em;
            color: #9d4edd;
            margin-top: 10px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #9d4edd, #7b2cbf);
            color: white;
            font-weight: bold;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(157, 78, 221, 0.5);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ccc;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .narrative {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            line-height: 1.8;
            font-size: 1.05em;
            text-align: center;
        }

        .highlight { color: #c77dff; font-weight: bold; }
        .highlight-gold { color: #ffd700; font-weight: bold; }
        .highlight-cyan { color: #88ddff; font-weight: bold; }

        .explanation {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            border: 1px solid rgba(157, 78, 221, 0.3);
        }

        .explanation h2 {
            color: #c77dff;
            margin-bottom: 15px;
        }

        .explanation p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #ccc;
        }

        .paradox-box {
            background: rgba(157, 78, 221, 0.1);
            border-left: 4px solid #9d4edd;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .paradox-box h3 {
            color: #e0aaff;
            margin-bottom: 10px;
        }

        .formula {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            color: #c77dff;
            text-align: center;
            margin: 15px 0;
            font-size: 1.1em;
        }

        .two-versions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .two-versions {
                grid-template-columns: 1fr;
            }
        }

        .version-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(157, 78, 221, 0.2);
        }

        .version-box h4 {
            color: #c77dff;
            margin-bottom: 10px;
        }

        .zeno-quote {
            font-style: italic;
            color: #999;
            border-left: 3px solid #9d4edd;
            padding-left: 15px;
            margin: 15px 0;
        }

        .convergence-visual {
            display: flex;
            align-items: center;
            gap: 5px;
            flex-wrap: wrap;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
        }

        .fraction-block {
            background: rgba(157, 78, 221, 0.2);
            padding: 5px 10px;
            border-radius: 5px;
            color: #e0aaff;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>The Dichotomy Paradox</h1>
            <p class="subtitle">Before you can reach your destination, you must first travel halfway. Before halfway, a quarter. Before a quarter, an eighth... You must complete <span class="highlight">INFINITE</span> steps before taking even ONE!</p>
        </header>

        <div class="main-panel">
            <div class="version-toggle">
                <button class="version-btn active" id="progressiveBtn">Progressive (Forward)</button>
                <button class="version-btn" id="regressiveBtn">Regressive (Backward)</button>
            </div>

            <div class="track-container">
                <canvas id="trackCanvas"></canvas>
            </div>

            <div class="info-grid">
                <div class="info-card">
                    <div class="info-label">Step Number</div>
                    <div class="info-value" id="stepNum">0</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Fraction of Journey</div>
                    <div class="info-value fraction" id="fraction">0</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Distance Covered</div>
                    <div class="info-value" id="distance">0%</div>
                </div>
                <div class="info-card">
                    <div class="info-label">Remaining</div>
                    <div class="info-value" id="remaining">100%</div>
                </div>
            </div>

            <div class="sum-display">
                <div class="sum-equation" id="sumEquation">Sum: 0</div>
                <div class="sum-result" id="sumResult">Progress: 0%</div>
            </div>

            <div class="controls">
                <button class="btn-primary" id="stepBtn">Take One Step</button>
                <button class="btn-primary" id="run10Btn">Run 10 Steps</button>
                <button class="btn-primary" id="runInfBtn">Run to "Infinity"</button>
                <button class="btn-secondary" id="resetBtn">Reset</button>
            </div>

            <div class="narrative" id="narrative">
                <span class="highlight">Progressive version:</span> First reach halfway (½), then ¾, then ⅞... Each step halves the remaining distance. Will you ever reach the end?
            </div>
        </div>

        <div class="explanation">
            <h2>Two Versions of the Dichotomy</h2>

            <div class="two-versions">
                <div class="version-box">
                    <h4>Progressive Dichotomy</h4>
                    <p>To reach the goal, first travel ½, then ¼ more (reaching ¾), then ⅛ more (reaching ⅞)...</p>
                    <p>The series: ½ + ¼ + ⅛ + 1/16 + ...</p>
                    <p><strong>Problem:</strong> You never actually ARRIVE—always ½ of the remaining distance left!</p>
                </div>
                <div class="version-box">
                    <h4>Regressive Dichotomy</h4>
                    <p>Before reaching ½, you must reach ¼. Before ¼, reach ⅛. Before ⅛, reach 1/16...</p>
                    <p>The series: ... + 1/16 + ⅛ + ¼ + ½</p>
                    <p><strong>Problem:</strong> Infinite steps with NO FIRST STEP! How can you even begin?</p>
                </div>
            </div>

            <div class="paradox-box">
                <h3>Zeno's Argument (c. 450 BCE)</h3>
                <p class="zeno-quote">
                    "That which is in locomotion must arrive at the half-way stage before it arrives at the goal."
                    — Aristotle, summarizing Zeno
                </p>
                <p>
                    If space is infinitely divisible, then any journey requires completing an <span class="highlight">infinite number of sub-journeys</span>.
                    Completing infinitely many tasks should take infinite time. Therefore, <span class="highlight-gold">motion is impossible</span>!
                </p>
            </div>

            <h2>The Mathematical Resolution</h2>
            <p>
                The key insight is that an infinite sum can equal a <span class="highlight">finite value</span>. The geometric series:
            </p>

            <div class="formula">
                ½ + ¼ + ⅛ + 1/16 + ... = Σ (½)ⁿ = 1/(1 - ½) = <span class="highlight-gold">1</span>
            </div>

            <div class="convergence-visual">
                <span class="fraction-block">½</span>
                <span>+</span>
                <span class="fraction-block">¼</span>
                <span>+</span>
                <span class="fraction-block">⅛</span>
                <span>+</span>
                <span class="fraction-block">1/16</span>
                <span>+</span>
                <span class="fraction-block">1/32</span>
                <span>+</span>
                <span>...</span>
                <span>=</span>
                <span class="fraction-block" style="background: linear-gradient(135deg, #9d4edd, #7b2cbf); color: white;">1</span>
            </div>

            <p>
                The infinite sum <em>converges</em> to exactly 1. Similarly, the time for each sub-journey decreases proportionally—infinite
                steps, but executed in finite total time. Motion is rescued by <span class="highlight">calculus and limits</span>!
            </p>

            <div class="paradox-box">
                <h3>The Regressive Version Remains Troubling</h3>
                <p>
                    Even with convergent series, the regressive version poses a deeper puzzle: if there's no <em>first</em> step
                    (every step has one before it), how does motion begin? This touches on the nature of the continuum—whether
                    space and time are truly continuous or ultimately discrete at the Planck scale.
                </p>
            </div>

            <h2>Why It Still Matters</h2>
            <p>
                Zeno's paradoxes forced mathematicians to develop rigorous definitions of limits, continuity, and infinite series.
                They remain philosophically relevant: Does the real number line capture physical space? Is time continuous?
                At quantum scales, perhaps space and time are granular after all—which would mean Zeno's premise of infinite
                divisibility is false!
            </p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('trackCanvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        const stepNumEl = document.getElementById('stepNum');
        const fractionEl = document.getElementById('fraction');
        const distanceEl = document.getElementById('distance');
        const remainingEl = document.getElementById('remaining');
        const sumEquationEl = document.getElementById('sumEquation');
        const sumResultEl = document.getElementById('sumResult');
        const narrativeEl = document.getElementById('narrative');

        const progressiveBtn = document.getElementById('progressiveBtn');
        const regressiveBtn = document.getElementById('regressiveBtn');
        const stepBtn = document.getElementById('stepBtn');
        const run10Btn = document.getElementById('run10Btn');
        const runInfBtn = document.getElementById('runInfBtn');
        const resetBtn = document.getElementById('resetBtn');

        let step = 0;
        let position = 0; // 0 to 1
        let isProgressive = true;
        let fractions = [];

        function fractionString(n) {
            if (n === 0) return '0';
            if (n === 1) return '1';

            // Express as sum of 1/2^k fractions
            const powers = [];
            let remaining = n;
            for (let k = 1; k <= 30 && remaining > 1e-10; k++) {
                const frac = 1 / Math.pow(2, k);
                if (remaining >= frac - 1e-12) {
                    powers.push(k);
                    remaining -= frac;
                }
            }

            if (powers.length === 0) return n.toFixed(6);
            if (powers.length === 1) {
                const k = powers[0];
                if (k === 1) return '½';
                if (k === 2) return '¾';
                return `(2^${k}-1)/2^${k}`;
            }

            // Simplify common fractions
            if (Math.abs(n - 0.5) < 1e-10) return '½';
            if (Math.abs(n - 0.75) < 1e-10) return '¾';
            if (Math.abs(n - 0.875) < 1e-10) return '⅞';
            if (Math.abs(n - 0.9375) < 1e-10) return '15/16';
            if (Math.abs(n - 0.96875) < 1e-10) return '31/32';

            const nearest = Math.round(n * 1024) / 1024;
            return nearest.toFixed(6);
        }

        function currentFractionTerm(s) {
            return 1 / Math.pow(2, s);
        }

        function buildSumString() {
            if (fractions.length === 0) return 'Sum: 0';

            const terms = fractions.slice(0, 8).map(f => {
                if (f === 0.5) return '½';
                if (f === 0.25) return '¼';
                if (f === 0.125) return '⅛';
                if (f === 0.0625) return '1/16';
                if (f === 0.03125) return '1/32';
                if (f === 0.015625) return '1/64';
                if (f === 0.0078125) return '1/128';
                if (f === 0.00390625) return '1/256';
                return '1/' + Math.round(1/f);
            });

            let str = terms.join(' + ');
            if (fractions.length > 8) str += ' + ...';
            return str;
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const trackY = canvas.height / 2;
            const startX = 60;
            const endX = canvas.width - 60;
            const trackLength = endX - startX;

            // Draw track background
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(startX - 10, trackY - 20, trackLength + 20, 40);

            // Draw progress
            const progressWidth = position * trackLength;
            const gradient = ctx.createLinearGradient(startX, 0, startX + progressWidth, 0);
            gradient.addColorStop(0, '#9d4edd');
            gradient.addColorStop(1, '#c77dff');
            ctx.fillStyle = gradient;
            ctx.fillRect(startX, trackY - 15, progressWidth, 30);

            // Draw division lines
            ctx.strokeStyle = 'rgba(224, 170, 255, 0.5)';
            ctx.lineWidth = 2;

            const divisionPoints = [];
            for (let i = 1; i <= 10; i++) {
                const frac = 1 - 1 / Math.pow(2, i);
                divisionPoints.push(frac);
            }

            divisionPoints.forEach(frac => {
                const x = startX + frac * trackLength;
                ctx.beginPath();
                ctx.moveTo(x, trackY - 25);
                ctx.lineTo(x, trackY + 25);
                ctx.stroke();
            });

            // Draw start and end markers
            ctx.fillStyle = '#888';
            ctx.font = '14px Georgia';
            ctx.textAlign = 'center';
            ctx.fillText('START', startX, trackY + 50);
            ctx.fillText('GOAL', endX, trackY + 50);
            ctx.fillText('0', startX, trackY - 30);
            ctx.fillText('1', endX, trackY - 30);

            // Mark key fractions
            ctx.fillStyle = '#c77dff';
            ctx.font = '11px Courier New';
            [0.5, 0.75, 0.875, 0.9375].forEach(frac => {
                const x = startX + frac * trackLength;
                let label = frac === 0.5 ? '½' : frac === 0.75 ? '¾' : frac === 0.875 ? '⅞' : '15/16';
                ctx.fillText(label, x, trackY - 32);
            });

            // Draw runner
            const runnerX = startX + position * trackLength;
            ctx.fillStyle = '#ffd700';
            ctx.beginPath();
            ctx.arc(runnerX, trackY, 12, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = '#1a1a2e';
            ctx.beginPath();
            ctx.arc(runnerX, trackY, 6, 0, Math.PI * 2);
            ctx.fill();
        }

        function updateDisplay() {
            stepNumEl.textContent = step;
            fractionEl.textContent = fractionString(position);
            distanceEl.textContent = (position * 100).toFixed(4) + '%';
            remainingEl.textContent = ((1 - position) * 100).toFixed(4) + '%';
            sumEquationEl.textContent = buildSumString();
            sumResultEl.textContent = `Progress: ${(position * 100).toFixed(6)}%`;
        }

        function takeStep() {
            if (position >= 1 - 1e-10) return;

            step++;

            if (isProgressive) {
                // Progressive: add 1/2^step each time
                const added = currentFractionTerm(step);
                position += added;
                fractions.push(added);

                if (step === 1) {
                    narrativeEl.innerHTML = `<span class="highlight">Step 1:</span> Travel halfway. You're at ½ = 50%.`;
                } else if (step === 2) {
                    narrativeEl.innerHTML = `<span class="highlight">Step 2:</span> Travel half the remaining distance (¼). Now at ¾ = 75%.`;
                } else if (step === 3) {
                    narrativeEl.innerHTML = `<span class="highlight">Step 3:</span> Again half the remainder (⅛). Now at ⅞ = 87.5%.`;
                } else if (step <= 10) {
                    narrativeEl.innerHTML = `<span class="highlight">Step ${step}:</span> Added 1/${Math.pow(2, step)}. Position: ${(position * 100).toFixed(4)}%. Getting closer... but never quite there!`;
                } else {
                    narrativeEl.innerHTML = `<span class="highlight-gold">Step ${step}:</span> You're at ${(position * 100).toFixed(6)}%. The remaining ${((1-position) * 100).toFixed(6)}% can still be halved <span class="highlight">infinitely</span>!`;
                }
            } else {
                // Regressive: conceptually going backward in steps
                const stepFromEnd = step;
                position = 1 - 1 / Math.pow(2, stepFromEnd);
                fractions = [];
                for (let i = 1; i <= stepFromEnd; i++) {
                    fractions.push(1 / Math.pow(2, i));
                }

                if (step === 1) {
                    narrativeEl.innerHTML = `<span class="highlight-cyan">Regressive step 1:</span> You're at ½. But BEFORE you could reach here, you had to reach ¼...`;
                } else if (step === 2) {
                    narrativeEl.innerHTML = `<span class="highlight-cyan">Step 2:</span> To reach ½, first reach ¼... but before ¼, you needed ⅛...`;
                } else if (step === 3) {
                    narrativeEl.innerHTML = `<span class="highlight-cyan">Step 3:</span> Before ⅛, reach 1/16... before that, 1/32... <span class="highlight">WHERE DOES IT START?</span>`;
                } else {
                    narrativeEl.innerHTML = `<span class="highlight-cyan">Step ${step}:</span> We've traced back ${step} halvings. But there's no FIRST step—every position has one before it! <span class="highlight-gold">How did motion begin?</span>`;
                }
            }

            if (position >= 1 - 1e-10) {
                position = 1;
                narrativeEl.innerHTML = `<span class="highlight-gold">LIMIT REACHED!</span> After ${step} steps, position = 1. The infinite series ½ + ¼ + ⅛ + ... <span class="highlight">converges to exactly 1</span>. Mathematics saves motion!`;
            }

            draw();
            updateDisplay();
        }

        function reset() {
            step = 0;
            position = 0;
            fractions = [];
            draw();
            updateDisplay();
            if (isProgressive) {
                narrativeEl.innerHTML = `<span class="highlight">Progressive version:</span> First reach halfway (½), then ¾, then ⅞... Each step halves the remaining distance.`;
            } else {
                narrativeEl.innerHTML = `<span class="highlight-cyan">Regressive version:</span> Before reaching halfway, reach ¼. Before ¼, reach ⅛. Before ⅛... There's no first step!`;
            }
        }

        progressiveBtn.addEventListener('click', () => {
            isProgressive = true;
            progressiveBtn.classList.add('active');
            regressiveBtn.classList.remove('active');
            reset();
        });

        regressiveBtn.addEventListener('click', () => {
            isProgressive = false;
            regressiveBtn.classList.add('active');
            progressiveBtn.classList.remove('active');
            reset();
        });

        stepBtn.addEventListener('click', takeStep);

        run10Btn.addEventListener('click', () => {
            for (let i = 0; i < 10; i++) takeStep();
        });

        runInfBtn.addEventListener('click', () => {
            // Run until 99.999999% (about 25 steps)
            while (position < 1 - 1e-8) takeStep();
        });

        resetBtn.addEventListener('click', reset);

        // Initial draw
        draw();
        updateDisplay();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
