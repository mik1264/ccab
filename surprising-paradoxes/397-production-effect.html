<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Production Effect - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e0e0e0;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
        }

        h1 {
            font-size: 2.5em;
            background: linear-gradient(135deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.3em;
            color: #a0a0a0;
            font-style: italic;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #00d4ff;
            text-decoration: none;
            font-size: 1em;
            opacity: 0.8;
            transition: opacity 0.3s;
            z-index: 100;
        }

        .back-link:hover {
            opacity: 1;
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel h2 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .phase-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .phase-dot {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s;
        }

        .phase-dot.active {
            background: linear-gradient(135deg, #00d4ff, #7b2cbf);
            transform: scale(1.1);
        }

        .phase-dot.completed {
            background: #4CAF50;
        }

        /* Introduction */
        .intro-content {
            line-height: 1.8;
            font-size: 1.05em;
        }

        .hook {
            font-size: 1.4em;
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .stat-highlight {
            background: rgba(0, 212, 255, 0.2);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #00d4ff;
        }

        /* Study Phase */
        .word-display {
            font-size: 4em;
            text-align: center;
            padding: 60px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin: 20px 0;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .instruction-badge {
            font-size: 0.4em;
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 20px;
        }

        .badge-silent {
            background: rgba(100, 100, 100, 0.5);
            color: #ccc;
        }

        .badge-aloud {
            background: linear-gradient(135deg, #ff6b6b, #ffa502);
            color: white;
        }

        .type-input {
            width: 100%;
            max-width: 400px;
            padding: 15px;
            font-size: 1.5em;
            text-align: center;
            border: 2px solid #00d4ff;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            margin-top: 20px;
        }

        .type-input:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            transition: width 0.3s;
        }

        /* Distractor */
        .number-display {
            font-size: 3em;
            text-align: center;
            padding: 30px;
            color: #ffa502;
        }

        .countdown {
            font-size: 2em;
            color: #00d4ff;
            text-align: center;
            margin-top: 10px;
        }

        /* Test Phase */
        .test-word {
            font-size: 2.5em;
            text-align: center;
            padding: 40px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin: 20px 0;
        }

        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-old {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .btn-new {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-primary {
            background: linear-gradient(135deg, #00d4ff, #7b2cbf);
            color: white;
        }

        /* Results */
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .result-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .result-card h3 {
            color: #a0a0a0;
            font-size: 0.9em;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .result-value {
            font-size: 2.5em;
            font-weight: bold;
        }

        .result-silent {
            color: #a0a0a0;
        }

        .result-aloud {
            color: #ff6b6b;
        }

        .result-effect {
            color: #4CAF50;
        }

        .chart-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        #resultsChart {
            width: 100%;
            height: 300px;
        }

        /* Comparison bars */
        .comparison-bar {
            margin: 15px 0;
        }

        .bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .bar-container {
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
            transition: width 1s ease-out;
        }

        .bar-silent {
            background: linear-gradient(90deg, #666, #888);
        }

        .bar-aloud {
            background: linear-gradient(90deg, #ff6b6b, #ffa502);
        }

        /* Science section */
        .mechanism-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .mechanism-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }

        .mechanism-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .mechanism-card h4 {
            color: #00d4ff;
            margin-bottom: 8px;
        }

        .mechanism-card p {
            font-size: 0.85em;
            color: #a0a0a0;
        }

        /* References */
        .reference {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 0.9em;
            border-left: 3px solid #7b2cbf;
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .typing-hint {
            color: #ffa502;
            font-size: 0.9em;
            margin-top: 10px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .real-world {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .application-card {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
        }

        .application-card h4 {
            color: #ffa502;
            margin-bottom: 8px;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8em; }
            .word-display { font-size: 2.5em; padding: 40px; }
            .test-word { font-size: 1.8em; }
            .btn { padding: 12px 25px; font-size: 1em; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>The Production Effect</h1>
            <p class="subtitle">Why Reading Aloud Creates Superior Memories</p>
        </header>

        <div class="phase-indicator">
            <div class="phase-dot active" id="phase1">1</div>
            <div class="phase-dot" id="phase2">2</div>
            <div class="phase-dot" id="phase3">3</div>
            <div class="phase-dot" id="phase4">4</div>
        </div>

        <!-- PHASE 1: Introduction -->
        <div id="introSection" class="panel fade-in">
            <div class="hook">SAY IT OUT LOUD AND YOU'LL REMEMBER IT!</div>

            <div class="intro-content">
                <p>Here's a memory trick that seems too simple to work: <strong>reading words aloud dramatically improves recall</strong> compared to reading silently. Not by a little‚Äîby a LOT.</p>

                <div class="stat-highlight">
                    <strong>MacLeod et al. (2010)</strong> demonstrated that words read aloud are remembered approximately <strong>15-20% better</strong> than words read silently‚Äîan effect size of d ‚âà 0.60. That's considered a "medium-to-large" effect in psychology.
                </div>

                <p>But why? The "distinctiveness" account explains: when you produce a word‚Äîspeaking it, mouthing it, even typing it‚Äîyou create a <em>distinctive encoding</em> that stands out from the mass of silently-read words. Your memory doesn't just record what you saw; it records what you DID.</p>

                <p><strong>Ready to experience it yourself?</strong> You'll study 20 words‚Äîhalf silently, half by typing them (our proxy for "speaking aloud"). Then we'll test your memory.</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="startStudy()">Begin Study Phase</button>
            </div>
        </div>

        <!-- PHASE 2: Study -->
        <div id="studySection" class="panel hidden">
            <h2>Study Phase</h2>
            <p id="studyInstruction">Learn each word. Some you'll read silently, others you'll TYPE to simulate reading aloud.</p>

            <div class="word-display">
                <span id="currentWord">Ready</span>
                <span id="instructionBadge" class="instruction-badge badge-silent">READ SILENTLY</span>
                <input type="text" id="typeInput" class="type-input hidden" placeholder="Type the word here..." autocomplete="off">
            </div>

            <p id="typingHint" class="typing-hint hidden">Type the word exactly to continue...</p>

            <div class="progress-bar">
                <div class="progress-fill" id="studyProgress" style="width: 0%"></div>
            </div>
            <p style="text-align: center; margin-top: 10px;">
                Word <span id="wordCount">0</span> of 20
            </p>
        </div>

        <!-- PHASE 3: Distractor -->
        <div id="distractorSection" class="panel hidden">
            <h2>Quick Break: Number Task</h2>
            <p style="text-align: center;">Count backwards from this number by 3s in your head...</p>

            <div class="number-display" id="distractorNumber">247</div>
            <div class="countdown">Continuing in: <span id="distractorTime">15</span>s</div>
        </div>

        <!-- PHASE 4: Test -->
        <div id="testSection" class="panel hidden">
            <h2>Recognition Test</h2>
            <p style="text-align: center;">Did you see this word during the study phase?</p>

            <div class="test-word" id="testWord">WORD</div>

            <div class="button-group">
                <button class="btn btn-old" onclick="respond('old')">YES - Studied</button>
                <button class="btn btn-new" onclick="respond('new')">NO - New Word</button>
            </div>

            <div class="progress-bar" style="margin-top: 30px;">
                <div class="progress-fill" id="testProgress" style="width: 0%"></div>
            </div>
            <p style="text-align: center; margin-top: 10px;">
                Test <span id="testCount">0</span> of 40
            </p>
        </div>

        <!-- PHASE 5: Results -->
        <div id="resultsSection" class="panel hidden">
            <h2>Your Results</h2>

            <div class="results-grid">
                <div class="result-card">
                    <h3>Silent Words Recalled</h3>
                    <div class="result-value result-silent" id="silentScore">0%</div>
                </div>
                <div class="result-card">
                    <h3>"Aloud" Words Recalled</h3>
                    <div class="result-value result-aloud" id="aloudScore">0%</div>
                </div>
                <div class="result-card">
                    <h3>Production Advantage</h3>
                    <div class="result-value result-effect" id="advantageScore">+0%</div>
                </div>
            </div>

            <div class="chart-container">
                <h3 style="color: #00d4ff; margin-bottom: 15px;">Hit Rate Comparison</h3>

                <div class="comparison-bar">
                    <div class="bar-label">
                        <span>Silent Reading</span>
                        <span id="silentBarLabel">0%</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar-fill bar-silent" id="silentBar" style="width: 0%"></div>
                    </div>
                </div>

                <div class="comparison-bar">
                    <div class="bar-label">
                        <span>Typed "Aloud"</span>
                        <span id="aloudBarLabel">0%</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar-fill bar-aloud" id="aloudBar" style="width: 0%"></div>
                    </div>
                </div>

                <div class="comparison-bar" style="margin-top: 20px;">
                    <div class="bar-label">
                        <span>Typical Research Finding</span>
                        <span>~65% vs ~80%</span>
                    </div>
                    <div class="bar-container" style="position: relative;">
                        <div class="bar-fill bar-silent" style="width: 65%; position: absolute;"></div>
                    </div>
                    <div class="bar-container" style="margin-top: 5px;">
                        <div class="bar-fill bar-aloud" style="width: 80%;"></div>
                    </div>
                </div>
            </div>

            <div id="interpretationBox" class="stat-highlight"></div>
        </div>

        <!-- Science Section -->
        <div id="scienceSection" class="panel hidden">
            <h2>The Science Behind Production</h2>

            <p>Why does producing a word improve memory? MacLeod and colleagues identified several mechanisms:</p>

            <div class="mechanism-grid">
                <div class="mechanism-card">
                    <div class="mechanism-icon">üéØ</div>
                    <h4>Distinctiveness</h4>
                    <p>Produced items stand out from the mass of silently-read items, creating a unique memory trace.</p>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">üîä</div>
                    <h4>Motor Encoding</h4>
                    <p>Speaking/typing engages motor systems, adding an action component to the memory.</p>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">üëÇ</div>
                    <h4>Self-Referential</h4>
                    <p>Hearing your own voice creates a self-referential tag‚Äî"I said this"‚Äîenhancing encoding.</p>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">üß†</div>
                    <h4>Multi-Modal</h4>
                    <p>Visual + motor + auditory = multiple encoding pathways, stronger memory trace.</p>
                </div>
            </div>

            <div class="stat-highlight" style="border-left-color: #ff6b6b;">
                <strong>Critical insight:</strong> The effect depends on having a <em>mix</em> of conditions. If ALL words are read aloud, the advantage disappears‚Äîdistinctiveness requires contrast!
            </div>

            <h3 style="color: #00d4ff; margin: 25px 0 15px;">Key Research</h3>

            <div class="reference">
                <strong>MacLeod, C. M., Gopie, N., Hourihan, K. L., Neary, K. R., & Ozubko, J. D. (2010).</strong> The production effect: Delineation of a phenomenon. <em>Journal of Experimental Psychology: Learning, Memory, and Cognition, 36</em>(3), 671-685.
            </div>

            <div class="reference">
                <strong>Forrin, N. D., & MacLeod, C. M. (2018).</strong> This time it's personal: The memory benefit of hearing oneself. <em>Memory, 26</em>(4), 574-579.
            </div>

            <div class="reference">
                <strong>Ozubko, J. D., & MacLeod, C. M. (2010).</strong> The production effect in memory: Evidence that distinctiveness underlies the benefit. <em>Journal of Experimental Psychology: Learning, Memory, and Cognition, 36</em>(6), 1543-1547.
            </div>

            <h3 style="color: #ffa502; margin: 25px 0 15px;">Real-World Applications</h3>

            <div class="real-world">
                <div class="application-card">
                    <h4>üìö Studying for Exams</h4>
                    <p>Read key definitions and formulas aloud. Don't just highlight‚Äî<em>produce</em> the information.</p>
                </div>
                <div class="application-card">
                    <h4>üó£Ô∏è Learning Languages</h4>
                    <p>Say new vocabulary words out loud, don't just read them. Flashcard apps with speech work better.</p>
                </div>
                <div class="application-card">
                    <h4>üìù Taking Notes</h4>
                    <p>Typing/writing engages production. Active note-taking beats passive reading.</p>
                </div>
                <div class="application-card">
                    <h4>üé≠ Memorizing Scripts</h4>
                    <p>Actors who speak their lines aloud during study dramatically outperform silent readers.</p>
                </div>
            </div>

            <div class="stat-highlight" style="border-left-color: #4CAF50; margin-top: 25px;">
                <strong>Pro tip:</strong> For critical information, combine production with other techniques: say it aloud, write it down, AND teach it to someone else. Each production adds another distinctive encoding!
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="resetExperiment()">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        // Word lists
        const studyWords = [
            // 10 words to be read silently
            { word: 'MOUNTAIN', condition: 'silent' },
            { word: 'PURPLE', condition: 'aloud' },
            { word: 'BASKET', condition: 'silent' },
            { word: 'WINDOW', condition: 'aloud' },
            { word: 'GARDEN', condition: 'silent' },
            { word: 'PENCIL', condition: 'aloud' },
            { word: 'SILVER', condition: 'silent' },
            { word: 'BOTTLE', condition: 'aloud' },
            { word: 'CAMERA', condition: 'silent' },
            { word: 'FROZEN', condition: 'aloud' },
            { word: 'BRIDGE', condition: 'silent' },
            { word: 'PLANET', condition: 'aloud' },
            { word: 'CHEESE', condition: 'silent' },
            { word: 'ROCKET', condition: 'aloud' },
            { word: 'FOREST', condition: 'silent' },
            { word: 'LEMON', condition: 'aloud' },
            { word: 'SUNSET', condition: 'silent' },
            { word: 'TIGER', condition: 'aloud' },
            { word: 'CANDLE', condition: 'silent' },
            { word: 'DRAGON', condition: 'aloud' }
        ];

        const newWords = [
            'ANCHOR', 'BUTTER', 'CIRCLE', 'DESERT', 'ELBOW',
            'FLOWER', 'GUITAR', 'HAMMER', 'ISLAND', 'JUNGLE',
            'KITTEN', 'LAPTOP', 'MIRROR', 'NEEDLE', 'ORANGE',
            'PALACE', 'QUARTZ', 'RABBIT', 'SHADOW', 'TEMPLE'
        ];

        let currentPhase = 1;
        let studyIndex = 0;
        let shuffledStudy = [];
        let testWords = [];
        let testIndex = 0;
        let responses = [];

        // Shuffle array
        function shuffle(array) {
            const arr = [...array];
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr;
        }

        function setPhase(phase) {
            currentPhase = phase;
            for (let i = 1; i <= 4; i++) {
                const dot = document.getElementById('phase' + i);
                dot.classList.remove('active', 'completed');
                if (i < phase) dot.classList.add('completed');
                if (i === phase) dot.classList.add('active');
            }
        }

        function startStudy() {
            setPhase(2);
            document.getElementById('introSection').classList.add('hidden');
            document.getElementById('studySection').classList.remove('hidden');
            document.getElementById('studySection').classList.add('fade-in');

            // Shuffle study words
            shuffledStudy = shuffle(studyWords);
            studyIndex = 0;

            setTimeout(() => showNextWord(), 500);
        }

        function showNextWord() {
            if (studyIndex >= shuffledStudy.length) {
                startDistractor();
                return;
            }

            const item = shuffledStudy[studyIndex];
            const wordEl = document.getElementById('currentWord');
            const badge = document.getElementById('instructionBadge');
            const input = document.getElementById('typeInput');
            const hint = document.getElementById('typingHint');

            wordEl.textContent = item.word;

            if (item.condition === 'aloud') {
                badge.textContent = 'TYPE THIS WORD';
                badge.className = 'instruction-badge badge-aloud';
                input.classList.remove('hidden');
                hint.classList.remove('hidden');
                input.value = '';
                input.focus();
            } else {
                badge.textContent = 'READ SILENTLY';
                badge.className = 'instruction-badge badge-silent';
                input.classList.add('hidden');
                hint.classList.add('hidden');

                // Auto advance after 2 seconds for silent words
                setTimeout(() => {
                    studyIndex++;
                    updateProgress();
                    showNextWord();
                }, 2000);
            }
        }

        // Input handler for typing
        document.getElementById('typeInput').addEventListener('input', function(e) {
            const item = shuffledStudy[studyIndex];
            if (e.target.value.toUpperCase() === item.word) {
                studyIndex++;
                updateProgress();
                setTimeout(() => showNextWord(), 300);
            }
        });

        function updateProgress() {
            const pct = (studyIndex / shuffledStudy.length) * 100;
            document.getElementById('studyProgress').style.width = pct + '%';
            document.getElementById('wordCount').textContent = studyIndex;
        }

        function startDistractor() {
            setPhase(3);
            document.getElementById('studySection').classList.add('hidden');
            document.getElementById('distractorSection').classList.remove('hidden');
            document.getElementById('distractorSection').classList.add('fade-in');

            // Random starting number
            const startNum = 200 + Math.floor(Math.random() * 100);
            document.getElementById('distractorNumber').textContent = startNum;

            let timeLeft = 15;
            const timer = setInterval(() => {
                timeLeft--;
                document.getElementById('distractorTime').textContent = timeLeft;
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    startTest();
                }
            }, 1000);
        }

        function startTest() {
            setPhase(4);
            document.getElementById('distractorSection').classList.add('hidden');
            document.getElementById('testSection').classList.remove('hidden');
            document.getElementById('testSection').classList.add('fade-in');

            // Create test list: all study words + all new words
            testWords = [
                ...shuffledStudy.map(s => ({ word: s.word, isOld: true, condition: s.condition })),
                ...newWords.map(w => ({ word: w, isOld: false, condition: null }))
            ];
            testWords = shuffle(testWords);

            testIndex = 0;
            responses = [];
            showTestWord();
        }

        function showTestWord() {
            if (testIndex >= testWords.length) {
                showResults();
                return;
            }

            document.getElementById('testWord').textContent = testWords[testIndex].word;
            document.getElementById('testProgress').style.width = (testIndex / testWords.length * 100) + '%';
            document.getElementById('testCount').textContent = testIndex;
        }

        function respond(response) {
            const item = testWords[testIndex];
            responses.push({
                word: item.word,
                isOld: item.isOld,
                condition: item.condition,
                saidOld: response === 'old'
            });

            testIndex++;
            showTestWord();
        }

        function showResults() {
            document.getElementById('testSection').classList.add('hidden');
            document.getElementById('resultsSection').classList.remove('hidden');
            document.getElementById('resultsSection').classList.add('fade-in');

            // Calculate scores
            const silentItems = responses.filter(r => r.condition === 'silent');
            const aloudItems = responses.filter(r => r.condition === 'aloud');

            const silentHits = silentItems.filter(r => r.saidOld).length;
            const aloudHits = aloudItems.filter(r => r.saidOld).length;

            const silentRate = Math.round((silentHits / silentItems.length) * 100);
            const aloudRate = Math.round((aloudHits / aloudItems.length) * 100);
            const advantage = aloudRate - silentRate;

            // Update displays
            document.getElementById('silentScore').textContent = silentRate + '%';
            document.getElementById('aloudScore').textContent = aloudRate + '%';
            document.getElementById('advantageScore').textContent = (advantage >= 0 ? '+' : '') + advantage + '%';

            // Animate bars
            setTimeout(() => {
                document.getElementById('silentBar').style.width = silentRate + '%';
                document.getElementById('silentBarLabel').textContent = silentRate + '%';
                document.getElementById('aloudBar').style.width = aloudRate + '%';
                document.getElementById('aloudBarLabel').textContent = aloudRate + '%';
            }, 300);

            // Interpretation
            let interpretation = '';
            if (advantage >= 15) {
                interpretation = `<strong>Strong Production Effect!</strong> Your ${advantage}% advantage for typed words matches the classic research finding. You demonstrated that actively producing words creates stronger, more distinctive memory traces than passive reading.`;
            } else if (advantage >= 5) {
                interpretation = `<strong>Moderate Production Effect.</strong> Your ${advantage}% advantage shows the benefit of active production. Typical studies find 15-20% advantages‚Äîtry the experiment again to see if you show a stronger effect.`;
            } else if (advantage > 0) {
                interpretation = `<strong>Weak Production Effect.</strong> You showed a small ${advantage}% advantage. Individual variation is normal! The production effect is most reliable across many trials and participants.`;
            } else {
                interpretation = `<strong>No effect detected this time.</strong> Sometimes individual results don't match the population trend‚Äîthat's normal! The production effect is robust across hundreds of studies, even if it didn't show up strongly for you today.`;
            }

            document.getElementById('interpretationBox').innerHTML = interpretation;

            // Show science section
            setTimeout(() => {
                document.getElementById('scienceSection').classList.remove('hidden');
                document.getElementById('scienceSection').classList.add('fade-in');
            }, 1000);
        }

        function resetExperiment() {
            setPhase(1);
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('scienceSection').classList.add('hidden');
            document.getElementById('introSection').classList.remove('hidden');
            document.getElementById('introSection').classList.add('fade-in');

            // Reset progress bars
            document.getElementById('studyProgress').style.width = '0%';
            document.getElementById('testProgress').style.width = '0%';
            document.getElementById('silentBar').style.width = '0%';
            document.getElementById('aloudBar').style.width = '0%';
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
