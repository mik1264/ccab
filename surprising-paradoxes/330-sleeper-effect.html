<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Sleeper Effect - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #0a1628 0%, #1a2a48 50%, #0f1f38 100%);
            min-height: 100vh;
            color: #e8e8e8;
            overflow-x: hidden;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #7c4dff;
            text-decoration: none;
            font-size: 1rem;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0,0,0,0.5);
            padding: 10px 16px;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: rgba(124,77,255,0.3);
            transform: translateX(-5px);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #7c4dff, #448aff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            font-size: 1.1rem;
            color: #b0b0b0;
            margin-bottom: 30px;
            font-style: italic;
        }

        .section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid rgba(255,255,255,0.1);
        }

        h2 {
            color: #7c4dff;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        h2 .icon {
            font-size: 1.8rem;
        }

        p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #d0d0d0;
        }

        .highlight {
            color: #7c4dff;
            font-weight: bold;
        }

        /* WWII Story Section */
        .story-box {
            background: linear-gradient(145deg, #2a2a1a, #1a1a0a);
            border-radius: 16px;
            padding: 30px;
            margin: 20px 0;
            border-left: 4px solid #ffd700;
        }

        .story-title {
            color: #ffd700;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Demo Section */
        .demo-container {
            background: linear-gradient(145deg, #1a2a4a, #0a1525);
            border-radius: 16px;
            padding: 30px;
            margin: 20px 0;
        }

        .phase-indicator {
            text-align: center;
            margin-bottom: 25px;
        }

        .phase-badge {
            display: inline-block;
            padding: 10px 25px;
            background: rgba(124,77,255,0.2);
            border: 1px solid #7c4dff;
            border-radius: 25px;
            color: #7c4dff;
            font-size: 1rem;
        }

        /* Message Display */
        .message-card {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .message-text {
            font-size: 1.2rem;
            line-height: 1.7;
            color: #fff;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            border-left: 4px solid #448aff;
        }

        .source-display {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .source-display.credible {
            background: rgba(76,175,80,0.15);
            border: 1px solid rgba(76,175,80,0.4);
        }

        .source-display.noncredible {
            background: rgba(255,152,0,0.15);
            border: 1px solid rgba(255,152,0,0.4);
        }

        .source-icon {
            font-size: 2rem;
        }

        .source-text {
            flex: 1;
        }

        .source-name {
            font-weight: bold;
            margin-bottom: 3px;
        }

        .source-display.credible .source-name {
            color: #4caf50;
        }

        .source-display.noncredible .source-name {
            color: #ff9800;
        }

        .source-desc {
            font-size: 0.85rem;
            color: #888;
        }

        /* Rating Slider */
        .rating-section {
            margin: 30px 0;
            text-align: center;
        }

        .rating-question {
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: #ddd;
        }

        .rating-slider-container {
            max-width: 500px;
            margin: 0 auto;
        }

        input[type="range"] {
            width: 100%;
            height: 12px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #f44336, #ffeb3b, #4caf50);
            border-radius: 6px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .rating-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.85rem;
            color: #888;
        }

        .rating-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #7c4dff;
            margin-top: 15px;
        }

        /* Time Animation */
        .time-section {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .time-section.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .clock-display {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .time-text {
            font-size: 1.5rem;
            color: #7c4dff;
            margin-bottom: 10px;
        }

        .time-subtext {
            color: #888;
        }

        /* Memory Test */
        .memory-test {
            display: none;
            padding: 20px;
        }

        .memory-test.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .memory-question {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .memory-question h4 {
            color: #7c4dff;
            margin-bottom: 15px;
        }

        .memory-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .memory-option {
            padding: 15px 20px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .memory-option:hover {
            background: rgba(124,77,255,0.2);
            border-color: #7c4dff;
        }

        .memory-option.selected {
            background: rgba(124,77,255,0.3);
            border-color: #7c4dff;
        }

        .memory-option.correct {
            background: rgba(76,175,80,0.3);
            border-color: #4caf50;
        }

        .memory-option.wrong {
            background: rgba(244,67,54,0.3);
            border-color: #f44336;
        }

        /* Results */
        .results-section {
            display: none;
            padding: 25px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            margin-top: 25px;
        }

        .results-section.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Chart */
        .chart-container {
            margin: 30px 0;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
        }

        .chart-title {
            text-align: center;
            color: #7c4dff;
            margin-bottom: 20px;
        }

        .chart-svg {
            width: 100%;
            height: 250px;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-dot.credible {
            background: #4caf50;
        }

        .legend-dot.noncredible {
            background: #ff9800;
        }

        /* Btn */
        .btn {
            background: linear-gradient(135deg, #7c4dff, #536dfe);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.1rem;
            border-radius: 30px;
            cursor: pointer;
            display: block;
            margin: 25px auto 0;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 25px rgba(124,77,255,0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Insight Box */
        .insight-box {
            background: rgba(124,77,255,0.1);
            border: 1px solid rgba(124,77,255,0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .insight-title {
            color: #7c4dff;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* Mechanism Display */
        .mechanism-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .mechanism-step {
            flex: 1;
            min-width: 200px;
            text-align: center;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
        }

        .mechanism-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .mechanism-title {
            color: #7c4dff;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .mechanism-desc {
            font-size: 0.9rem;
            color: #aaa;
        }

        .arrow {
            font-size: 2rem;
            color: #7c4dff;
        }

        /* Applications Grid */
        .applications-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .app-card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            border-left: 3px solid #ff9800;
        }

        .app-title {
            color: #ff9800;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .app-text {
            color: #aaa;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        /* Research */
        .research-ref {
            background: rgba(100,181,246,0.1);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }

        .research-title {
            color: #64b5f6;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .research-cite {
            font-size: 0.9rem;
            color: #888;
            line-height: 1.6;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .mechanism-flow {
                flex-direction: column;
            }

            .arrow {
                transform: rotate(90deg);
            }

            .applications-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">
        <span>‚Üê</span>
        <span>Back to Gallery</span>
    </a>

    <div class="container">
        <h1>The Sleeper Effect</h1>
        <p class="subtitle">When persuasion grows stronger over time</p>

        <div class="section">
            <h2><span class="icon">üí§</span> The Paradox</h2>
            <p>
                Common sense says persuasion should fade over time. You hear an argument, you're convinced,
                then you gradually forget and return to your original position. Right?
            </p>
            <p>
                <span class="highlight">Wrong.</span> The sleeper effect is a remarkable phenomenon where
                persuasion actually <strong>increases over time</strong>‚Äîbut only when the message comes
                from a source you initially distrust.
            </p>
            <p>
                You dismiss the message because of the sketchy source. But weeks later, you remember
                <em>what was said</em> while forgetting <em>who said it</em>. The discounting cue fades
                faster than the message itself.
            </p>
        </div>

        <!-- WWII Story -->
        <div class="story-box">
            <div class="story-title">
                <span>üé¨</span> The WWII Discovery
            </div>
            <p>
                In 1949, psychologist Carl Hovland was studying U.S. Army propaganda films called
                "Why We Fight." He measured soldiers' attitudes toward Britain after watching
                "The Battle of Britain."
            </p>
            <p style="margin-top: 15px;">
                <strong>5 days later:</strong> No measurable attitude change. The film seemed ineffective.<br>
                <strong>9 weeks later:</strong> Significant positive shift toward Britain!
            </p>
            <p style="margin-top: 15px; color: #ffd700;">
                The film had worked‚Äîit just needed time to "wake up." Thus, the sleeper effect was born.
            </p>
        </div>

        <!-- Interactive Demo -->
        <div class="section">
            <h2><span class="icon">üß™</span> Experience It: Message Experiment</h2>
            <p>
                Read a persuasive message and its source. Rate how much you believe it.
                Then we'll simulate time passing and test what you remember.
            </p>

            <div class="demo-container">
                <div class="phase-indicator">
                    <span class="phase-badge" id="phaseBadge">Phase 1: Read the Message</span>
                </div>

                <!-- Phase 1: Message -->
                <div id="phase1">
                    <div class="message-card">
                        <div class="message-text" id="messageText">
                            "Regular coffee consumption has been linked to a 15% increase in anxiety disorders
                            and a measurable decline in sleep quality. Studies suggest limiting intake to one
                            cup per day may significantly improve mental health outcomes."
                        </div>

                        <div class="source-display noncredible" id="sourceDisplay">
                            <div class="source-icon">üì∞</div>
                            <div class="source-text">
                                <div class="source-name" id="sourceName">The Daily Sensation</div>
                                <div class="source-desc" id="sourceDesc">Known for sensationalist health claims and clickbait headlines</div>
                            </div>
                        </div>
                    </div>

                    <div class="rating-section">
                        <div class="rating-question">
                            How believable do you find this claim?
                        </div>
                        <div class="rating-slider-container">
                            <input type="range" id="initialRating" min="1" max="10" value="5"
                                   oninput="updateRating('initial')">
                            <div class="rating-labels">
                                <span>Not at all</span>
                                <span>Completely</span>
                            </div>
                            <div class="rating-value" id="initialRatingValue">5 / 10</div>
                        </div>
                    </div>

                    <button class="btn" onclick="startTimePass()">‚è∞ Continue</button>
                </div>

                <!-- Phase 2: Time Passing -->
                <div class="time-section" id="phase2">
                    <div class="clock-display">‚è≥</div>
                    <div class="time-text" id="timeDisplay">5 days pass...</div>
                    <div class="time-subtext">Memory of the source begins to fade...</div>
                </div>

                <!-- Phase 3: Memory Test -->
                <div class="memory-test" id="phase3">
                    <h3 style="text-align: center; color: #7c4dff; margin-bottom: 25px;">
                        Memory Test: 9 Weeks Later
                    </h3>

                    <div class="memory-question">
                        <h4>Question 1: What was the main claim?</h4>
                        <div class="memory-options" id="claimOptions">
                            <div class="memory-option" onclick="selectOption(this, 'claim', 'A')">
                                Coffee consumption is linked to increased anxiety and worse sleep
                            </div>
                            <div class="memory-option" onclick="selectOption(this, 'claim', 'B')">
                                Coffee improves concentration and mental alertness
                            </div>
                            <div class="memory-option" onclick="selectOption(this, 'claim', 'C')">
                                Coffee has no significant health effects
                            </div>
                        </div>
                    </div>

                    <div class="memory-question">
                        <h4>Question 2: Who was the source?</h4>
                        <div class="memory-options" id="sourceOptions">
                            <div class="memory-option" onclick="selectOption(this, 'source', 'A')">
                                The Daily Sensation (tabloid newspaper)
                            </div>
                            <div class="memory-option" onclick="selectOption(this, 'source', 'B')">
                                Harvard Medical School research
                            </div>
                            <div class="memory-option" onclick="selectOption(this, 'source', 'C')">
                                I don't remember the source
                            </div>
                        </div>
                    </div>

                    <div class="rating-section">
                        <div class="rating-question">
                            Now, how believable do you find the claim?
                        </div>
                        <div class="rating-slider-container">
                            <input type="range" id="delayedRating" min="1" max="10" value="5"
                                   oninput="updateRating('delayed')">
                            <div class="rating-labels">
                                <span>Not at all</span>
                                <span>Completely</span>
                            </div>
                            <div class="rating-value" id="delayedRatingValue">5 / 10</div>
                        </div>
                    </div>

                    <button class="btn" onclick="showResults()">üìä See Results</button>
                </div>

                <!-- Results -->
                <div class="results-section" id="resultsSection">
                    <h3 style="text-align: center; color: #7c4dff; margin-bottom: 20px;">
                        The Sleeper Effect in Action
                    </h3>

                    <div id="resultsContent"></div>

                    <div class="chart-container">
                        <div class="chart-title">Classic Sleeper Effect Pattern</div>
                        <svg class="chart-svg" viewBox="0 0 400 200">
                            <!-- Axes -->
                            <line x1="50" y1="170" x2="380" y2="170" stroke="#444" stroke-width="2"/>
                            <line x1="50" y1="20" x2="50" y2="170" stroke="#444" stroke-width="2"/>

                            <!-- Labels -->
                            <text x="215" y="195" fill="#888" text-anchor="middle" font-size="12">Time</text>
                            <text x="25" y="95" fill="#888" text-anchor="middle" font-size="12" transform="rotate(-90, 25, 95)">Persuasion</text>

                            <!-- X-axis labels -->
                            <text x="80" y="185" fill="#888" text-anchor="middle" font-size="10">Immediate</text>
                            <text x="215" y="185" fill="#888" text-anchor="middle" font-size="10">5 days</text>
                            <text x="350" y="185" fill="#888" text-anchor="middle" font-size="10">9 weeks</text>

                            <!-- Credible source line (starts high, decays) -->
                            <path d="M 80,40 Q 180,60 350,100" stroke="#4caf50" stroke-width="3" fill="none"/>
                            <circle cx="80" cy="40" r="5" fill="#4caf50"/>
                            <circle cx="350" cy="100" r="5" fill="#4caf50"/>

                            <!-- Non-credible source line (starts low, increases) -->
                            <path d="M 80,130 Q 180,120 350,80" stroke="#ff9800" stroke-width="3" fill="none"/>
                            <circle cx="80" cy="130" r="5" fill="#ff9800"/>
                            <circle cx="350" cy="80" r="5" fill="#ff9800"/>

                            <!-- Intersection zone -->
                            <text x="280" y="65" fill="#7c4dff" font-size="10">Sleeper</text>
                            <text x="280" y="78" fill="#7c4dff" font-size="10">Effect!</text>
                        </svg>

                        <div class="chart-legend">
                            <div class="legend-item">
                                <div class="legend-dot credible"></div>
                                <span>Credible Source</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-dot noncredible"></div>
                                <span>Non-credible Source</span>
                            </div>
                        </div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-title">üí° The Mechanism</div>
                        <p style="margin: 0;">
                            The message and the source are stored separately in memory. Over time, the
                            association between them weakens. You remember <em>what</em> was said but
                            forget <em>who</em> said it. Without the "discounting cue" (the sketchy source),
                            the message stands on its own merits‚Äîand becomes more persuasive.
                        </p>
                    </div>

                    <button class="btn" onclick="resetDemo()" style="margin-top: 20px;">üîÑ Try Again</button>
                </div>
            </div>
        </div>

        <!-- The Mechanism -->
        <div class="section">
            <h2><span class="icon">‚öôÔ∏è</span> How It Works</h2>

            <div class="mechanism-flow">
                <div class="mechanism-step">
                    <div class="mechanism-icon">üì®</div>
                    <div class="mechanism-title">Message + Source</div>
                    <div class="mechanism-desc">You receive a persuasive message from an untrustworthy source</div>
                </div>

                <div class="arrow">‚Üí</div>

                <div class="mechanism-step">
                    <div class="mechanism-icon">üõë</div>
                    <div class="mechanism-title">Initial Discount</div>
                    <div class="mechanism-desc">You dismiss the message because of the source's low credibility</div>
                </div>

                <div class="arrow">‚Üí</div>

                <div class="mechanism-step">
                    <div class="mechanism-icon">‚è∞</div>
                    <div class="mechanism-title">Time Passes</div>
                    <div class="mechanism-desc">Source memory fades faster than message memory</div>
                </div>

                <div class="arrow">‚Üí</div>

                <div class="mechanism-step">
                    <div class="mechanism-icon">üí≠</div>
                    <div class="mechanism-title">Delayed Persuasion</div>
                    <div class="mechanism-desc">Message stands alone; persuasion increases!</div>
                </div>
            </div>
        </div>

        <!-- Modern Applications -->
        <div class="section">
            <h2><span class="icon">‚ö†Ô∏è</span> Why This Matters Today</h2>

            <div class="applications-grid">
                <div class="app-card">
                    <div class="app-title">üì± Fake News & Misinformation</div>
                    <div class="app-text">
                        You see a dubious claim, note the sketchy source, and dismiss it. Weeks later,
                        you remember the claim but not where you heard it. The misinformation "wakes up."
                    </div>
                </div>

                <div class="app-card">
                    <div class="app-title">üó≥Ô∏è Political Attack Ads</div>
                    <div class="app-text">
                        Negative ads from partisan sources are initially discounted. By election day,
                        voters remember the attack but not the attacker. The mud sticks.
                    </div>
                </div>

                <div class="app-card">
                    <div class="app-title">üì∫ Advertising Disclaimers</div>
                    <div class="app-text">
                        "Results not typical" disclaimers are quickly forgotten, while the bold claims
                        persist. The sleeper effect weaponized.
                    </div>
                </div>

                <div class="app-card">
                    <div class="app-title">üí¨ Rumors & Gossip</div>
                    <div class="app-text">
                        "I heard this from an unreliable person, but..." The caveat fades; the rumor remains.
                        Source amnesia fuels the grapevine.
                    </div>
                </div>
            </div>
        </div>

        <!-- Defense -->
        <div class="section">
            <h2><span class="icon">üõ°Ô∏è</span> Defending Against the Sleeper Effect</h2>

            <ul style="list-style: none;">
                <li style="background: rgba(76,175,80,0.1); border-left: 3px solid #4caf50; padding: 15px 20px; margin: 12px 0; border-radius: 0 10px 10px 0;">
                    <strong style="color: #4caf50;">Write it down:</strong> When you encounter a dubious claim, note the source alongside the claim. External memory preserves the association.
                </li>
                <li style="background: rgba(76,175,80,0.1); border-left: 3px solid #4caf50; padding: 15px 20px; margin: 12px 0; border-radius: 0 10px 10px 0;">
                    <strong style="color: #4caf50;">Ask "Where did I learn this?":</strong> Before acting on remembered information, actively try to recall the source. If you can't, be skeptical.
                </li>
                <li style="background: rgba(76,175,80,0.1); border-left: 3px solid #4caf50; padding: 15px 20px; margin: 12px 0; border-radius: 0 10px 10px 0;">
                    <strong style="color: #4caf50;">Verify before sharing:</strong> Just because something "feels true" doesn't mean it is. The sleeper effect exploits feelings of familiarity.
                </li>
                <li style="background: rgba(76,175,80,0.1); border-left: 3px solid #4caf50; padding: 15px 20px; margin: 12px 0; border-radius: 0 10px 10px 0;">
                    <strong style="color: #4caf50;">Immediate strong rejection:</strong> If you firmly reject a message AND its source at the same time, the sleeper effect is less likely to occur.
                </li>
            </ul>
        </div>

        <!-- Research -->
        <div class="research-ref">
            <div class="research-title">üìö Key Research</div>
            <div class="research-cite">
                ‚Ä¢ Hovland, C.I., Lumsdaine, A.A., & Sheffield, F.D. (1949). <em>Experiments on Mass
                Communication</em>. Princeton University Press.<br><br>
                ‚Ä¢ Hovland, C.I., & Weiss, W. (1951). "The influence of source credibility on communication
                effectiveness." <em>Public Opinion Quarterly</em>, 15, 635-650.<br><br>
                ‚Ä¢ Kumkale, G.T., & Albarrac√≠n, D. (2004). "The sleeper effect in persuasion: A meta-analytic
                review." <em>Psychological Bulletin</em>, 130(1), 143-172.<br><br>
                ‚Ä¢ Pratkanis, A.R., Greenwald, A.G., Leippe, M.R., & Baumgardner, M.H. (1988). "In search of
                reliable persuasion effects: III. The sleeper effect is dead." <em>Journal of Personality
                and Social Psychology</em>, 54(2), 203-218.
            </div>
        </div>
    </div>

    <script>
        let initialRatingValue = 5;
        let delayedRatingValue = 5;
        let answers = { claim: null, source: null };

        function updateRating(type) {
            const slider = document.getElementById(type + 'Rating');
            const display = document.getElementById(type + 'RatingValue');
            const value = slider.value;

            display.textContent = value + ' / 10';

            if (type === 'initial') {
                initialRatingValue = parseInt(value);
            } else {
                delayedRatingValue = parseInt(value);
            }
        }

        function startTimePass() {
            document.getElementById('phase1').style.display = 'none';
            document.getElementById('phase2').classList.add('visible');
            document.getElementById('phaseBadge').textContent = 'Phase 2: Time Passes...';

            // Animate time passing
            const timeDisplay = document.getElementById('timeDisplay');
            const stages = [
                '5 days pass...',
                '2 weeks pass...',
                '1 month passes...',
                '9 weeks have passed!'
            ];

            let stage = 0;
            const interval = setInterval(() => {
                stage++;
                if (stage < stages.length) {
                    timeDisplay.textContent = stages[stage];
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.getElementById('phase2').classList.remove('visible');
                        document.getElementById('phase2').style.display = 'none';
                        document.getElementById('phase3').classList.add('visible');
                        document.getElementById('phaseBadge').textContent = 'Phase 3: Memory Test';
                    }, 1000);
                }
            }, 1500);
        }

        function selectOption(el, type, answer) {
            const container = el.parentElement;
            container.querySelectorAll('.memory-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            el.classList.add('selected');
            answers[type] = answer;
        }

        function showResults() {
            if (!answers.claim || !answers.source) {
                alert('Please answer both questions!');
                return;
            }

            document.getElementById('phase3').classList.remove('visible');
            document.getElementById('phase3').style.display = 'none';
            document.getElementById('resultsSection').classList.add('visible');
            document.getElementById('phaseBadge').textContent = 'Results';

            // Analyze results
            const rememberedMessage = answers.claim === 'A';
            const rememberedSource = answers.source === 'A';
            const beliefIncreased = delayedRatingValue > initialRatingValue;

            let resultHTML = '<div style="margin-bottom: 20px;">';

            // Memory analysis
            if (rememberedMessage && !rememberedSource) {
                resultHTML += `
                    <p style="color: #ff9800; font-weight: bold; font-size: 1.2rem;">
                        Classic Sleeper Effect Pattern!
                    </p>
                    <p>
                        You remembered the MESSAGE but forgot the SOURCE. This is exactly how the
                        sleeper effect works‚Äîthe "discounting cue" (unreliable source) fades while
                        the message persists.
                    </p>
                `;
            } else if (rememberedMessage && rememberedSource) {
                resultHTML += `
                    <p style="color: #4caf50; font-weight: bold; font-size: 1.2rem;">
                        Strong Source Memory!
                    </p>
                    <p>
                        You remembered both the message AND the source. This would protect you from
                        the sleeper effect in real life‚Äîif you recall who said something dubious,
                        you can continue to discount it.
                    </p>
                `;
            } else {
                resultHTML += `
                    <p>
                        Interesting pattern! The sleeper effect depends on remembering the message
                        while forgetting the source. Your memory worked differently this time.
                    </p>
                `;
            }

            // Belief change
            const change = delayedRatingValue - initialRatingValue;
            resultHTML += `
                <p style="margin-top: 15px;">
                    <strong>Your belief change:</strong>
                    ${initialRatingValue}/10 ‚Üí ${delayedRatingValue}/10
                    (${change > 0 ? '+' : ''}${change} points)
                </p>
            `;

            if (change > 0 && !rememberedSource) {
                resultHTML += `
                    <p style="color: #ff9800;">
                        Your belief INCREASED after forgetting the unreliable source‚Äîthe sleeper
                        effect in action!
                    </p>
                `;
            }

            resultHTML += '</div>';
            document.getElementById('resultsContent').innerHTML = resultHTML;
        }

        function resetDemo() {
            document.getElementById('resultsSection').classList.remove('visible');
            document.getElementById('phase3').classList.remove('visible');
            document.getElementById('phase3').style.display = 'none';
            document.getElementById('phase2').style.display = 'none';
            document.getElementById('phase1').style.display = 'block';
            document.getElementById('phaseBadge').textContent = 'Phase 1: Read the Message';

            // Reset values
            document.getElementById('initialRating').value = 5;
            document.getElementById('delayedRating').value = 5;
            document.getElementById('initialRatingValue').textContent = '5 / 10';
            document.getElementById('delayedRatingValue').textContent = '5 / 10';
            initialRatingValue = 5;
            delayedRatingValue = 5;
            answers = { claim: null, source: null };

            // Reset options
            document.querySelectorAll('.memory-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'wrong');
            });
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
