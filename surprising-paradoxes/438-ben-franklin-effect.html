<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ben Franklin Effect | Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding-top: 20px;
        }

        h1 {
            font-size: 2.4em;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.3em;
            color: #87ceeb;
            font-style: italic;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #87ceeb;
            text-decoration: none;
            font-size: 1em;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .back-link:hover {
            opacity: 1;
        }

        .section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid rgba(255,215,0,0.3);
            padding-bottom: 10px;
        }

        h3 {
            color: #87ceeb;
            margin: 20px 0 15px 0;
            font-size: 1.2em;
        }

        p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #d0d0d0;
        }

        .highlight {
            color: #ffd700;
            font-weight: bold;
        }

        /* Scenario styles */
        .scenario-container {
            text-align: center;
            padding: 20px;
        }

        .character-display {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .character {
            text-align: center;
        }

        .character-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #444, #666);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            margin: 0 auto 15px;
            border: 4px solid #555;
            transition: all 0.3s;
        }

        .character-avatar.you {
            background: linear-gradient(135deg, #4a9eff, #2d7acc);
            border-color: #87ceeb;
        }

        .character-avatar.target {
            background: linear-gradient(135deg, #8b0000, #b22222);
            border-color: #ff6b6b;
        }

        .character-avatar.liked {
            border-color: #90ee90;
            box-shadow: 0 0 20px rgba(144,238,144,0.5);
        }

        .character-name {
            font-size: 1.2em;
            color: #fff;
            margin-bottom: 5px;
        }

        .character-desc {
            font-size: 0.9em;
            color: #888;
        }

        .scenario-text {
            background: rgba(0,0,0,0.3);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            font-size: 1.1em;
            line-height: 1.8;
            border-left: 4px solid #ffd700;
        }

        .scenario-text .speaker {
            color: #ffd700;
            font-weight: bold;
        }

        /* Liking meter */
        .liking-section {
            margin: 30px 0;
            text-align: center;
        }

        .liking-label {
            font-size: 1.1em;
            color: #87ceeb;
            margin-bottom: 15px;
        }

        .liking-meter {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }

        .meter-bar {
            width: 300px;
            height: 30px;
            background: linear-gradient(to right, #ff6b6b, #ffaa00, #90ee90);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .meter-indicator {
            position: absolute;
            width: 20px;
            height: 40px;
            background: #fff;
            border-radius: 5px;
            top: -5px;
            transform: translateX(-50%);
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
            transition: left 0.5s ease-out;
        }

        .meter-labels {
            display: flex;
            justify-content: space-between;
            width: 300px;
            margin: 10px auto;
            font-size: 0.85em;
            color: #888;
        }

        .liking-value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 15px 0;
        }

        .liking-value.negative {
            color: #ff6b6b;
        }

        .liking-value.neutral {
            color: #ffaa00;
        }

        .liking-value.positive {
            color: #90ee90;
        }

        /* Choice buttons */
        .choice-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .choice-btn {
            padding: 20px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 200px;
        }

        .choice-btn.help {
            background: linear-gradient(135deg, #90ee90, #5fa86a);
            color: #1a1a2e;
        }

        .choice-btn.decline {
            background: linear-gradient(135deg, #ff6b6b, #cc4444);
            color: #fff;
        }

        .choice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .btn {
            background: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%);
            color: #1a1a2e;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255,215,0,0.4);
        }

        .btn.secondary {
            background: linear-gradient(135deg, #87ceeb 0%, #5fa8d3 100%);
        }

        /* Results */
        .result-box {
            background: rgba(255,215,0,0.1);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .result-title {
            font-size: 1.5em;
            color: #ffd700;
            margin-bottom: 15px;
        }

        .change-arrow {
            font-size: 3em;
            margin: 20px 0;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .change-arrow.up {
            color: #90ee90;
        }

        .change-arrow.down {
            color: #ff6b6b;
        }

        .change-arrow.same {
            color: #888;
        }

        .comparison-display {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 20px 0;
        }

        .comparison-item {
            text-align: center;
        }

        .comparison-value {
            font-size: 2.5em;
            font-weight: bold;
        }

        .comparison-label {
            font-size: 0.9em;
            color: #888;
            margin-top: 5px;
        }

        /* Experiment diagram */
        .experiment-diagram {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .condition-box {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .condition-title {
            color: #87ceeb;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .condition-action {
            color: #aaa;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .condition-result {
            font-size: 1.8em;
            font-weight: bold;
        }

        .condition-result.high {
            color: #90ee90;
        }

        .condition-result.medium {
            color: #ffaa00;
        }

        .condition-result.low {
            color: #ff6b6b;
        }

        /* Info cards */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #87ceeb;
        }

        .info-card h4 {
            color: #87ceeb;
            margin-bottom: 10px;
        }

        /* Quote */
        .quote {
            font-style: italic;
            color: #aaa;
            border-left: 3px solid #ffd700;
            padding-left: 20px;
            margin: 25px 0;
            font-size: 1.1em;
        }

        .citation {
            font-size: 0.85em;
            color: #888;
            margin-top: 10px;
        }

        /* Progress steps */
        .progress-steps {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            opacity: 0.4;
        }

        .step.active {
            opacity: 1;
        }

        .step.completed {
            opacity: 0.7;
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .step.active .step-number {
            background: #ffd700;
            color: #1a1a2e;
        }

        .step.completed .step-number {
            background: #90ee90;
            color: #1a1a2e;
        }

        .step-label {
            font-size: 0.85em;
            color: #888;
        }

        .hidden {
            display: none !important;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .brain-diagram {
            max-width: 400px;
            margin: 30px auto;
            padding: 25px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            text-align: center;
        }

        .thought-bubble {
            background: rgba(255,215,0,0.1);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            font-style: italic;
            color: #ffdd77;
        }

        .arrow-down {
            font-size: 2em;
            color: #ffd700;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>The Ben Franklin Effect</h1>
            <p class="subtitle">Doing Favors Makes YOU Like THEM</p>
        </header>

        <!-- Introduction -->
        <div class="section" id="intro-section">
            <h2>The Counterintuitive Truth</h2>
            <p>
                Common sense tells us: we do favors for people we <em>like</em>.
                But Benjamin Franklin discovered something backwards:
            </p>

            <div class="quote">
                "He that has once done you a kindness will be more ready to do you another,
                than he whom you yourself have obliged."
                <div class="citation">‚Äî Benjamin Franklin, Autobiography (1791)</div>
            </div>

            <p>
                In other words: <span class="highlight">doing a favor for someone makes YOU like THEM more</span>,
                not the other way around. This seems absurd‚Äîshouldn't helping someone you dislike
                make you resent them more?
            </p>
            <p>
                In 1969, psychologists <strong>Jecker and Landy</strong> ran an experiment that proved
                Franklin right. When participants did a personal favor for an unlikeable researcher,
                they rated him <em>higher</em> than those who did nothing.
            </p>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="startExperiment()">Experience It</button>
            </div>
        </div>

        <!-- Scenario Phase -->
        <div class="section hidden" id="scenario-section">
            <h2>The Scenario</h2>

            <div class="progress-steps">
                <div class="step active" id="step1">
                    <div class="step-number">1</div>
                    <div class="step-label">Meet</div>
                </div>
                <div class="step" id="step2">
                    <div class="step-number">2</div>
                    <div class="step-label">Rate</div>
                </div>
                <div class="step" id="step3">
                    <div class="step-number">3</div>
                    <div class="step-label">Choose</div>
                </div>
                <div class="step" id="step4">
                    <div class="step-number">4</div>
                    <div class="step-label">Result</div>
                </div>
            </div>

            <div id="phase-meet" class="scenario-container">
                <p>Imagine you're a participant in a psychology study...</p>

                <div class="character-display">
                    <div class="character">
                        <div class="character-avatar you">üë§</div>
                        <div class="character-name">You</div>
                        <div class="character-desc">Study participant</div>
                    </div>
                    <div class="character">
                        <div class="character-avatar target" id="researcher-avatar">üßë‚Äçüî¨</div>
                        <div class="character-name">Dr. Marcus</div>
                        <div class="character-desc">Lead researcher</div>
                    </div>
                </div>

                <div class="scenario-text">
                    <p>You've just completed a quiz contest with cash prizes. During the experiment,
                    you noticed <span class="speaker">Dr. Marcus</span> was cold, dismissive, and somewhat rude.
                    He barely made eye contact and seemed impatient with your questions.</p>
                    <p>You won <strong>$20</strong> in the contest. You're about to leave when...</p>
                </div>

                <button class="btn" onclick="showInitialRating()">Continue</button>
            </div>

            <div id="phase-rate" class="scenario-container hidden">
                <h3>Before anything else happens...</h3>
                <p>How much do you like Dr. Marcus right now?</p>

                <div class="liking-section">
                    <div class="meter-bar">
                        <div class="meter-indicator" id="initial-indicator" style="left: 50%"></div>
                    </div>
                    <div class="meter-labels">
                        <span>Dislike</span>
                        <span>Neutral</span>
                        <span>Like</span>
                    </div>

                    <input type="range" min="1" max="10" value="5" id="initial-rating"
                           style="width: 300px; margin: 20px 0;"
                           oninput="updateInitialMeter()">

                    <div class="liking-value" id="initial-value">5</div>
                </div>

                <button class="btn" onclick="showRequest()">Confirm Rating</button>
            </div>

            <div id="phase-request" class="scenario-container hidden">
                <h3>The Request</h3>

                <div class="scenario-text">
                    <p><span class="speaker">Dr. Marcus</span> approaches you directly, looking uncomfortable.</p>
                    <p>"Excuse me... I have an awkward request. I've been funding these prize payouts
                    from my own pocket, and I'm running short. Would you be willing to return the $20?
                    It would really help me out personally."</p>
                </div>

                <p style="color: #87ceeb; margin: 20px 0;">What do you do?</p>

                <div class="choice-buttons">
                    <button class="choice-btn help" onclick="makeChoice('help')">
                        ü§ù Return the $20<br>
                        <small>Help him out</small>
                    </button>
                    <button class="choice-btn decline" onclick="makeChoice('decline')">
                        üö´ Keep the $20<br>
                        <small>You won it fair</small>
                    </button>
                </div>
            </div>

            <div id="phase-rerate" class="scenario-container hidden">
                <h3>Final Rating</h3>

                <div class="scenario-text" id="outcome-text">
                    <!-- Filled dynamically -->
                </div>

                <p>Now, how much do you like Dr. Marcus?</p>

                <div class="liking-section">
                    <div class="meter-bar">
                        <div class="meter-indicator" id="final-indicator" style="left: 50%"></div>
                    </div>
                    <div class="meter-labels">
                        <span>Dislike</span>
                        <span>Neutral</span>
                        <span>Like</span>
                    </div>

                    <input type="range" min="1" max="10" value="5" id="final-rating"
                           style="width: 300px; margin: 20px 0;"
                           oninput="updateFinalMeter()">

                    <div class="liking-value" id="final-value">5</div>
                    <p style="color: #888; font-size: 0.9em;">Your initial rating: <span id="initial-reminder"></span></p>
                </div>

                <button class="btn" onclick="showResult()">See Result</button>
            </div>

            <div id="phase-result" class="hidden">
                <div class="result-box">
                    <div class="result-title" id="result-title">Your Liking Changed!</div>

                    <div class="comparison-display">
                        <div class="comparison-item">
                            <div class="comparison-value" id="before-value" style="color: #888;">5</div>
                            <div class="comparison-label">Before</div>
                        </div>
                        <div class="change-arrow" id="change-arrow">‚Üí</div>
                        <div class="comparison-item">
                            <div class="comparison-value" id="after-value" style="color: #ffd700;">5</div>
                            <div class="comparison-label">After</div>
                        </div>
                    </div>

                    <p id="result-explanation" style="font-size: 1.1em; margin-top: 20px;"></p>
                </div>

                <div style="text-align: center;">
                    <button class="btn" onclick="showExperiment()">See the Real Experiment</button>
                </div>
            </div>
        </div>

        <!-- Original Experiment -->
        <div class="section hidden" id="experiment-section">
            <h2>The Jecker & Landy Experiment (1969)</h2>

            <p>
                In the original study, 74 participants completed a quiz contest with cash prizes.
                The lead researcher <em>deliberately</em> acted cold and unpleasant throughout.
                After the contest, participants were divided into three groups:
            </p>

            <div class="experiment-diagram">
                <div class="condition-box">
                    <div class="condition-title">Group A</div>
                    <div class="condition-action">Researcher personally asked them to return the money</div>
                    <div class="condition-result high">Liked him MOST</div>
                </div>
                <div class="condition-box">
                    <div class="condition-title">Group B</div>
                    <div class="condition-action">No request made</div>
                    <div class="condition-result medium">Middle rating</div>
                </div>
                <div class="condition-box">
                    <div class="condition-title">Group C</div>
                    <div class="condition-action">Secretary asked them to return money for department</div>
                    <div class="condition-result low">Liked him LEAST</div>
                </div>
            </div>

            <p>
                The stunning result: <span class="highlight">Doing the researcher a personal favor
                made participants like him MORE</span>‚Äîeven though he'd been rude to them!
                And critically, when a <em>third party</em> made the request, the effect disappeared.
            </p>

            <h3>Why Does This Happen?</h3>

            <div class="brain-diagram">
                <p style="color: #87ceeb; margin-bottom: 15px;">Your Brain's Logic:</p>
                <div class="thought-bubble">
                    "I just did a favor for Dr. Marcus..."
                </div>
                <div class="arrow-down">‚Üì</div>
                <div class="thought-bubble">
                    "I wouldn't help someone I dislike..."
                </div>
                <div class="arrow-down">‚Üì</div>
                <div class="thought-bubble">
                    "Therefore, I must like him!"
                </div>
            </div>

            <p>
                This is <strong>cognitive dissonance</strong> in action. When our actions contradict
                our attitudes, something has to give. It's easier to change how we feel about someone
                than to admit we did something irrational.
            </p>

            <div style="text-align: center; margin: 30px 0;">
                <button class="btn" onclick="showApplications()">Learn the Applications</button>
            </div>
        </div>

        <!-- Applications -->
        <div class="section hidden" id="applications-section">
            <h2>How to Use the Ben Franklin Effect</h2>

            <p>
                Franklin himself used this deliberately. When he had a rival in the Pennsylvania
                legislature, he didn't try to ingratiate himself. Instead, he asked to borrow a
                rare book from the man's library. After returning it with a thank-you note,
                the man became one of Franklin's closest allies.
            </p>

            <div class="info-grid">
                <div class="info-card">
                    <h4>üíº At Work</h4>
                    <p>Ask a difficult colleague for advice on something they know well.
                    The act of helping you will improve their attitude toward you.</p>
                </div>
                <div class="info-card">
                    <h4>ü§ù Making Friends</h4>
                    <p>Instead of offering to help newcomers, ask them for small favors.
                    This makes them feel valued AND increases their liking of you.</p>
                </div>
                <div class="info-card">
                    <h4>üíë Relationships</h4>
                    <p>Letting your partner do things for you isn't selfish‚Äîit deepens
                    their emotional investment and attachment to the relationship.</p>
                </div>
                <div class="info-card">
                    <h4>üìö Teaching</h4>
                    <p>Ask students to help explain concepts to each other.
                    The helpers develop more positive attitudes toward both subject and peers.</p>
                </div>
            </div>

            <h3>Key Conditions</h3>

            <ul style="margin: 20px 0; padding-left: 25px; line-height: 2; color: #d0d0d0;">
                <li><strong>Ask directly:</strong> Third-party requests don't create the effect</li>
                <li><strong>Keep it genuine:</strong> Obvious manipulation backfires</li>
                <li><strong>Make it personal:</strong> The favor should feel meaningful, not trivial</li>
                <li><strong>Express gratitude:</strong> Acknowledgment reinforces the positive feelings</li>
            </ul>

            <h3>The Deeper Insight</h3>

            <p>
                The Ben Franklin Effect reveals something profound: <span class="highlight">our attitudes
                often follow our actions, not the other way around</span>. We don't just help people
                because we like them‚Äîwe like people because we help them.
            </p>
            <p>
                This has implications for character development: want to become more generous?
                Start acting generously, and the feelings will follow. Want to care more about
                a cause? Get involved in it. Action shapes attitude.
            </p>

            <div class="quote">
                "We are what we repeatedly do."
                <div class="citation">‚Äî Will Durant, summarizing Aristotle</div>
            </div>

            <div class="citation" style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 10px;">
                <strong>Key Reference:</strong><br>
                Jecker, J., & Landy, D. (1969). Liking a person as a function of doing him a favour.
                <em>Human Relations, 22</em>(4), 371-378.
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="restartExperiment()">Experience It Again</button>
            </div>
        </div>
    </div>

    <script>
        let initialRating = 5;
        let finalRating = 5;
        let userChoice = null;

        function startExperiment() {
            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('scenario-section').classList.remove('hidden');
            document.getElementById('scenario-section').classList.add('fade-in');
        }

        function showInitialRating() {
            document.getElementById('phase-meet').classList.add('hidden');
            document.getElementById('phase-rate').classList.remove('hidden');
            document.getElementById('phase-rate').classList.add('fade-in');

            document.getElementById('step1').classList.remove('active');
            document.getElementById('step1').classList.add('completed');
            document.getElementById('step2').classList.add('active');
        }

        function updateInitialMeter() {
            const value = document.getElementById('initial-rating').value;
            const percent = ((value - 1) / 9) * 100;
            document.getElementById('initial-indicator').style.left = percent + '%';
            document.getElementById('initial-value').textContent = value;

            const valueEl = document.getElementById('initial-value');
            valueEl.className = 'liking-value';
            if (value <= 4) valueEl.classList.add('negative');
            else if (value <= 6) valueEl.classList.add('neutral');
            else valueEl.classList.add('positive');

            initialRating = parseInt(value);
        }

        function showRequest() {
            document.getElementById('phase-rate').classList.add('hidden');
            document.getElementById('phase-request').classList.remove('hidden');
            document.getElementById('phase-request').classList.add('fade-in');

            document.getElementById('step2').classList.remove('active');
            document.getElementById('step2').classList.add('completed');
            document.getElementById('step3').classList.add('active');
        }

        function makeChoice(choice) {
            userChoice = choice;

            document.getElementById('phase-request').classList.add('hidden');
            document.getElementById('phase-rerate').classList.remove('hidden');
            document.getElementById('phase-rerate').classList.add('fade-in');

            document.getElementById('step3').classList.remove('active');
            document.getElementById('step3').classList.add('completed');
            document.getElementById('step4').classList.add('active');

            const outcomeText = document.getElementById('outcome-text');
            if (choice === 'help') {
                outcomeText.innerHTML = `<p>You handed back the $20. Dr. Marcus seemed genuinely grateful.
                    <span class="speaker">"Thank you,"</span> he said quietly.
                    <span class="speaker">"I really appreciate this."</span></p>
                    <p>He gave you a small nod and walked away. The interaction is over.</p>`;
            } else {
                outcomeText.innerHTML = `<p>You politely declined. Dr. Marcus accepted it without argument,
                    though he seemed disappointed.</p>
                    <p><span class="speaker">"I understand,"</span> he said flatly, and walked away.
                    The interaction is over.</p>`;
            }

            // Set final rating slider to initial value
            document.getElementById('final-rating').value = initialRating;
            document.getElementById('initial-reminder').textContent = initialRating + '/10';
            updateFinalMeter();
        }

        function updateFinalMeter() {
            const value = document.getElementById('final-rating').value;
            const percent = ((value - 1) / 9) * 100;
            document.getElementById('final-indicator').style.left = percent + '%';
            document.getElementById('final-value').textContent = value;

            const valueEl = document.getElementById('final-value');
            valueEl.className = 'liking-value';
            if (value <= 4) valueEl.classList.add('negative');
            else if (value <= 6) valueEl.classList.add('neutral');
            else valueEl.classList.add('positive');

            finalRating = parseInt(value);
        }

        function showResult() {
            document.getElementById('phase-rerate').classList.add('hidden');
            document.getElementById('phase-result').classList.remove('hidden');
            document.getElementById('phase-result').classList.add('fade-in');

            document.getElementById('before-value').textContent = initialRating;
            document.getElementById('after-value').textContent = finalRating;

            const change = finalRating - initialRating;
            const arrow = document.getElementById('change-arrow');
            const title = document.getElementById('result-title');
            const explanation = document.getElementById('result-explanation');

            if (userChoice === 'help') {
                if (change > 0) {
                    arrow.textContent = '‚Üë';
                    arrow.className = 'change-arrow up';
                    title.textContent = 'You Experienced the Ben Franklin Effect!';
                    explanation.innerHTML = `After doing Dr. Marcus a favor, your liking increased by <strong>${change} point${change > 1 ? 's' : ''}</strong>.
                        This matches the original research perfectly: helping someone‚Äîeven someone you didn't particularly like‚Äîmakes you like them more.`;
                } else if (change === 0) {
                    arrow.textContent = '‚Üí';
                    arrow.className = 'change-arrow same';
                    title.textContent = 'Your Rating Stayed the Same';
                    explanation.innerHTML = `In the original study, most people who helped showed increased liking.
                        But the effect varies‚Äîperhaps you were already aware of how actions influence attitudes,
                        or you're resisting the natural tendency to justify your actions.`;
                } else {
                    arrow.textContent = '‚Üì';
                    arrow.className = 'change-arrow down';
                    title.textContent = 'You Liked Him Less?';
                    explanation.innerHTML = `Interesting! You helped but liked him less. This is unusual‚Äîperhaps you're
                        experiencing resentment rather than justification. Or you're aware of the effect and overcorrecting.
                        In the original study, helping almost always increased liking.`;
                }
            } else {
                if (change < 0) {
                    arrow.textContent = '‚Üì';
                    arrow.className = 'change-arrow down';
                    title.textContent = 'Declining Preserved Your Attitude';
                    explanation.innerHTML = `Without doing a favor, there's no action-attitude conflict to resolve.
                        Your initial impression stands‚Äîor perhaps refusing reinforced your negative view.
                        This is why the control group in the original study showed no increase in liking.`;
                } else if (change === 0) {
                    arrow.textContent = '‚Üí';
                    arrow.className = 'change-arrow same';
                    title.textContent = 'No Change‚ÄîAs Expected';
                    explanation.innerHTML = `Without doing a favor, there's no cognitive dissonance to resolve.
                        In the original experiment, the control group (who weren't asked for anything)
                        showed ratings between the helper group and the resentful group.`;
                } else {
                    arrow.textContent = '‚Üë';
                    arrow.className = 'change-arrow up';
                    title.textContent = 'Interesting‚ÄîLiking Increased Anyway';
                    explanation.innerHTML = `Even without helping, you liked him more. Perhaps the vulnerability
                        of asking for help humanized him? Or maybe you felt guilty for refusing.
                        The Ben Franklin Effect typically requires actually doing the favor, but social dynamics are complex.`;
                }
            }
        }

        function showExperiment() {
            document.getElementById('scenario-section').classList.add('hidden');
            document.getElementById('experiment-section').classList.remove('hidden');
            document.getElementById('experiment-section').classList.add('fade-in');
            window.scrollTo(0, 0);
        }

        function showApplications() {
            document.getElementById('experiment-section').classList.add('hidden');
            document.getElementById('applications-section').classList.remove('hidden');
            document.getElementById('applications-section').classList.add('fade-in');
            window.scrollTo(0, 0);
        }

        function restartExperiment() {
            document.getElementById('scenario-section').classList.add('hidden');
            document.getElementById('experiment-section').classList.add('hidden');
            document.getElementById('applications-section').classList.add('hidden');
            document.getElementById('intro-section').classList.remove('hidden');

            // Reset phases
            document.getElementById('phase-meet').classList.remove('hidden');
            document.getElementById('phase-rate').classList.add('hidden');
            document.getElementById('phase-request').classList.add('hidden');
            document.getElementById('phase-rerate').classList.add('hidden');
            document.getElementById('phase-result').classList.add('hidden');

            // Reset steps
            ['step1', 'step2', 'step3', 'step4'].forEach((id, i) => {
                const el = document.getElementById(id);
                el.classList.remove('active', 'completed');
                if (i === 0) el.classList.add('active');
            });

            // Reset values
            document.getElementById('initial-rating').value = 5;
            document.getElementById('final-rating').value = 5;
            updateInitialMeter();

            window.scrollTo(0, 0);
        }

        // Initialize
        updateInitialMeter();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
