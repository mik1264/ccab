<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Cocktail Party Effect - Surprising Paradoxes #441</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #FEFAE0 0%, #F4F1DE 50%, #EDE8D5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
            padding: 20px;
        }
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--moss);
            text-decoration: none;
            font-weight: 500;
            padding: 10px 20px;
            background: rgba(255,255,255,0.6);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            margin-bottom: 20px;
        }
        .back-link:hover { background: rgba(255,255,255,0.9); }
        .container { max-width: 900px; margin: 0 auto; }
        h1 {
            font-family: 'Lora', serif;
            font-size: 2.2rem;
            color: var(--moss);
            margin-bottom: 10px;
            text-align: center;
        }
        .subtitle {
            text-align: center;
            color: var(--terracotta);
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        .card {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        .experiment-phase { display: none; }
        .experiment-phase.active { display: block; }
        h2 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }
        p { line-height: 1.7; margin-bottom: 15px; }
        .btn {
            background: var(--moss);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        .btn:hover { background: var(--dark-moss); transform: translateY(-2px); }
        .btn:disabled { background: #ccc; cursor: not-allowed; transform: none; }
        .center { text-align: center; }

        /* Audio Stream Visualization */
        .streams-container {
            position: relative;
            height: 300px;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 20px;
            overflow: hidden;
            margin: 20px 0;
        }
        .stream {
            position: absolute;
            left: 0;
            right: 0;
            height: 60px;
            display: flex;
            align-items: center;
            overflow: hidden;
            padding: 0 20px;
        }
        .stream-1 { top: 30px; }
        .stream-2 { top: 120px; }
        .stream-3 { top: 210px; }
        .stream-label {
            position: absolute;
            left: 10px;
            width: 80px;
            font-size: 0.75rem;
            color: rgba(255,255,255,0.5);
            z-index: 10;
        }
        .word-container {
            display: flex;
            gap: 20px;
            animation: scrollWords 15s linear infinite;
        }
        @keyframes scrollWords {
            from { transform: translateX(100%); }
            to { transform: translateX(-200%); }
        }
        .word {
            font-size: 1.2rem;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0.4;
            transition: all 0.3s ease;
            padding: 5px 10px;
            border-radius: 5px;
        }
        .stream-1 .word { color: #ff6b6b; }
        .stream-2 .word { color: #4ecdc4; }
        .stream-3 .word { color: #ffe66d; }
        .target-stream .word { opacity: 1; font-size: 1.4rem; }
        .word.highlight {
            background: rgba(255,255,255,0.3);
            opacity: 1 !important;
            animation: pulse 0.5s ease;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        .focus-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 8px 15px;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            color: white;
            font-size: 0.85rem;
        }

        /* Name Input */
        .name-input {
            padding: 15px 20px;
            font-size: 1.1rem;
            border: 2px solid var(--sage);
            border-radius: 30px;
            width: 100%;
            max-width: 300px;
            font-family: 'Nunito', sans-serif;
            margin: 10px 0;
        }
        .name-input:focus {
            outline: none;
            border-color: var(--moss);
        }

        /* Quiz */
        .quiz-options {
            display: grid;
            gap: 10px;
            margin: 20px 0;
        }
        .quiz-option {
            padding: 15px 20px;
            background: rgba(255,255,255,0.8);
            border: 2px solid transparent;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }
        .quiz-option:hover { border-color: var(--sage); }
        .quiz-option.selected { border-color: var(--moss); background: rgba(138, 154, 91, 0.2); }
        .quiz-option.correct { border-color: #4a4; background: rgba(74,170,74,0.2); }
        .quiz-option.incorrect { border-color: #c44; background: rgba(204,68,68,0.2); }

        /* Results */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }
        .stat-box {
            padding: 25px;
            background: rgba(255,255,255,0.8);
            border-radius: 15px;
            text-align: center;
        }
        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--moss);
        }
        .stat-label {
            font-size: 0.9rem;
            color: var(--terracotta);
            margin-top: 5px;
        }

        .insight-box {
            background: linear-gradient(135deg, rgba(138, 154, 91, 0.2), rgba(221, 161, 94, 0.2));
            border-left: 4px solid var(--moss);
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin: 20px 0;
        }

        .essay-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }
        .essay-section h3 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin: 20px 0 10px;
        }

        .instruction-box {
            background: linear-gradient(135deg, rgba(78, 205, 196, 0.2), rgba(255, 107, 107, 0.2));
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }
        .target-word {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--moss);
            padding: 10px 20px;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
            display: inline-block;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Gallery</a>

    <div class="container">
        <h1>The Cocktail Party Effect</h1>
        <p class="subtitle">Paradox #441 • Colin Cherry, 1953</p>

        <div class="card">
            <!-- Phase 1: Introduction -->
            <div id="phase1" class="experiment-phase active">
                <h2>Selective Attention in a Noisy World</h2>
                <p>Imagine a crowded party. Dozens of conversations overlap. Yet somehow you can focus on just one voice—your friend talking right in front of you.</p>
                <p>But then someone across the room says your name. Suddenly your attention snaps to them, even though you weren't "listening" to that conversation at all.</p>
                <p><strong>How is this possible?</strong> In 1953, cognitive scientist Colin Cherry demonstrated that we filter most auditory input unconsciously—but certain stimuli (like our own name) can break through the filter.</p>
                <p>Let's test YOUR selective attention.</p>
                <div class="center" style="margin-top: 20px;">
                    <label style="display: block; margin-bottom: 10px;">First, enter your first name:</label>
                    <input type="text" id="userName" class="name-input" placeholder="Your first name" maxlength="15">
                    <br>
                    <button class="btn" onclick="startExperiment()" style="margin-top: 15px;">Begin Experiment</button>
                </div>
            </div>

            <!-- Phase 2: Focus Task -->
            <div id="phase2" class="experiment-phase">
                <h2>Task 1: Focus on the Target</h2>
                <div class="instruction-box">
                    <p>Three "audio streams" will play simultaneously. Focus ONLY on the <strong style="color: #4ecdc4;">TEAL stream (middle)</strong>.</p>
                    <p>Count how many times you see the word:</p>
                    <div class="target-word" id="targetWord">APPLE</div>
                    <p style="font-size: 0.9rem; opacity: 0.7;">Ignore the red and yellow streams completely.</p>
                </div>
                <div class="streams-container" id="streamsContainer">
                    <div class="focus-indicator">Focus: TEAL stream</div>
                    <div class="stream stream-1">
                        <span class="stream-label">Stream A</span>
                        <div class="word-container" id="stream1"></div>
                    </div>
                    <div class="stream stream-2 target-stream">
                        <span class="stream-label">TARGET →</span>
                        <div class="word-container" id="stream2"></div>
                    </div>
                    <div class="stream stream-3">
                        <span class="stream-label">Stream C</span>
                        <div class="word-container" id="stream3"></div>
                    </div>
                </div>
                <p id="streamStatus" class="center">Streams starting in 3...</p>
            </div>

            <!-- Phase 3: Count Question -->
            <div id="phase3" class="experiment-phase">
                <h2>How Many Times?</h2>
                <p>How many times did you see "<span id="targetWordEcho">APPLE</span>" in the TEAL stream?</p>
                <div class="quiz-options" id="countOptions"></div>
                <div class="center">
                    <button class="btn" id="submitCount" onclick="checkCount()" disabled>Submit Answer</button>
                </div>
            </div>

            <!-- Phase 4: Surprise Question -->
            <div id="phase4" class="experiment-phase">
                <h2>A Surprise Question</h2>
                <p>While you were focusing on the teal stream, the <strong style="color: #ff6b6b;">RED stream</strong> contained something unusual...</p>
                <p>Did you notice anything special in the red stream? What word appeared there that might have caught your attention?</p>
                <div class="quiz-options" id="surpriseOptions"></div>
                <div class="center">
                    <button class="btn" id="submitSurprise" onclick="checkSurprise()" disabled>Submit Answer</button>
                </div>
            </div>

            <!-- Phase 5: Results -->
            <div id="phase5" class="experiment-phase">
                <h2>The Cocktail Party Effect in Action</h2>

                <div class="stat-grid">
                    <div class="stat-box">
                        <div class="stat-value" id="countResult">-</div>
                        <div class="stat-label">Target Count</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="nameResult">-</div>
                        <div class="stat-label">Name Detection</div>
                    </div>
                </div>

                <div class="insight-box" id="resultMessage"></div>

                <div class="essay-section">
                    <h3>Cherry's Dichotic Listening Experiments (1953)</h3>
                    <p>Colin Cherry asked participants to listen to two different messages played simultaneously—one in each ear. They had to "shadow" (repeat aloud) one message while ignoring the other.</p>
                    <p>Remarkably, participants could NOT report what was in the ignored ear. They didn't notice when the language switched to German, when the speech was played backwards, or when the same word was repeated 35 times!</p>
                    <p>But they DID notice physical changes (pitch, gender of voice) and—crucially—their own name.</p>

                    <h3>The Filter Model</h3>
                    <p>Cherry's work inspired Donald Broadbent's Filter Theory (1958): attention works like a bottleneck. We can't process everything, so we filter based on physical characteristics (location, pitch). Only the attended channel gets semantic processing.</p>
                    <p>But the "own name" breakthrough suggested the filter isn't absolute—some personally relevant stimuli can slip through.</p>

                    <h3>Why Your Name Breaks Through</h3>
                    <p>Your name has been heard millions of times since infancy. It's deeply encoded, processed almost reflexively. Anne Treisman proposed that familiar stimuli have lower "thresholds" for activation—they can be triggered even with degraded input.</p>
                    <p>About 33% of people in Cherry's experiments detected their name in the unattended ear—not everyone, but far more than would detect any random word.</p>

                    <h3>Real-World Implications</h3>
                    <p>The cocktail party effect explains how we function in noisy environments: airports, restaurants, open offices. Our brains are constantly filtering, selecting, and—when necessary—redirecting attention to survival-relevant signals.</p>
                    <p>It also explains why it's so hard to ignore someone saying your name, even in a whisper across a crowded room.</p>
                </div>

                <div class="center" style="margin-top: 20px;">
                    <button class="btn" onclick="resetExperiment()">Try Again</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let userName = '';
        let targetWord = '';
        let actualTargetCount = 0;
        let userCountAnswer = null;
        let userSurpriseAnswer = null;
        let nameWasInStream = false;

        const targetWords = ['APPLE', 'RIVER', 'MUSIC', 'CLOUD', 'FOREST'];
        const stream1Words = ['dog', 'chair', 'book', 'phone', 'rain', 'blue', 'fast', 'tall', 'warm', 'soft', 'lamp', 'bread', 'clock', 'paint', 'glass'];
        const stream2Words = ['tree', 'water', 'happy', 'stone', 'light', 'green', 'bird', 'path', 'calm', 'wind', 'leaf', 'moon', 'quiet', 'peace', 'wave'];
        const stream3Words = ['car', 'table', 'song', 'lake', 'dream', 'red', 'slow', 'deep', 'cool', 'fresh', 'door', 'star', 'night', 'hope', 'road'];

        function shuffle(arr) {
            return [...arr].sort(() => Math.random() - 0.5);
        }

        function startExperiment() {
            userName = document.getElementById('userName').value.trim().toUpperCase();
            if (!userName) userName = 'FRIEND';

            targetWord = targetWords[Math.floor(Math.random() * targetWords.length)];
            document.getElementById('targetWord').textContent = targetWord;
            document.getElementById('targetWordEcho').textContent = targetWord;

            showPhase(2);
            setupStreams();
            startCountdown();
        }

        function setupStreams() {
            // Stream 1 (red) - includes user's name
            const s1 = shuffle(stream1Words).slice(0, 10);
            const namePosition = 3 + Math.floor(Math.random() * 4); // Insert name somewhere in middle
            s1.splice(namePosition, 0, userName);
            nameWasInStream = true;

            // Stream 2 (teal/target) - includes target word multiple times
            const s2 = shuffle(stream2Words).slice(0, 8);
            actualTargetCount = 2 + Math.floor(Math.random() * 3); // 2-4 times
            for (let i = 0; i < actualTargetCount; i++) {
                const pos = Math.floor(Math.random() * (s2.length + 1));
                s2.splice(pos, 0, targetWord);
            }

            // Stream 3 (yellow) - just filler
            const s3 = shuffle(stream3Words).slice(0, 12);

            // Render streams
            renderStream('stream1', s1);
            renderStream('stream2', s2);
            renderStream('stream3', s3);
        }

        function renderStream(id, words) {
            const container = document.getElementById(id);
            // Duplicate for seamless loop
            const allWords = [...words, ...words, ...words];
            container.innerHTML = allWords.map(w => {
                const isName = w === userName;
                const isTarget = w === targetWord;
                return `<span class="word ${isName ? 'highlight' : ''}">${w}</span>`;
            }).join('');
        }

        function startCountdown() {
            const status = document.getElementById('streamStatus');
            let count = 3;
            const interval = setInterval(() => {
                count--;
                if (count > 0) {
                    status.textContent = `Streams starting in ${count}...`;
                } else {
                    status.textContent = 'FOCUS on the TEAL stream!';
                    clearInterval(interval);
                    // Run for 10 seconds then ask question
                    setTimeout(() => {
                        showPhase(3);
                        setupCountQuestion();
                    }, 10000);
                }
            }, 1000);
        }

        function setupCountQuestion() {
            const options = document.getElementById('countOptions');
            const correctAnswer = actualTargetCount;

            // Generate plausible wrong answers
            const answers = [correctAnswer];
            while (answers.length < 4) {
                const wrong = correctAnswer + (Math.random() > 0.5 ? 1 : -1) * (1 + Math.floor(Math.random() * 2));
                if (wrong > 0 && !answers.includes(wrong)) {
                    answers.push(wrong);
                }
            }
            answers.sort((a, b) => a - b);

            options.innerHTML = answers.map(a =>
                `<div class="quiz-option" data-value="${a}" onclick="selectCount(this, ${a})">${a} time${a !== 1 ? 's' : ''}</div>`
            ).join('');
        }

        function selectCount(el, value) {
            document.querySelectorAll('#countOptions .quiz-option').forEach(o => o.classList.remove('selected'));
            el.classList.add('selected');
            userCountAnswer = value;
            document.getElementById('submitCount').disabled = false;
        }

        function checkCount() {
            // Show if correct
            document.querySelectorAll('#countOptions .quiz-option').forEach(o => {
                const val = parseInt(o.dataset.value);
                if (val === actualTargetCount) o.classList.add('correct');
                else if (o.classList.contains('selected')) o.classList.add('incorrect');
            });

            setTimeout(() => {
                showPhase(4);
                setupSurpriseQuestion();
            }, 1500);
        }

        function setupSurpriseQuestion() {
            const options = document.getElementById('surpriseOptions');
            const distractors = ['HELLO', 'DANGER', 'LISTEN', 'URGENT'];

            // Add user's name and shuffle
            const allOptions = shuffle([...distractors, userName]);

            options.innerHTML = allOptions.map(o =>
                `<div class="quiz-option" data-value="${o}" onclick="selectSurprise(this, '${o}')">${o}</div>`
            ).join('');
            options.innerHTML += `<div class="quiz-option" data-value="NONE" onclick="selectSurprise(this, 'NONE')">I didn't notice anything unusual</div>`;
        }

        function selectSurprise(el, value) {
            document.querySelectorAll('#surpriseOptions .quiz-option').forEach(o => o.classList.remove('selected'));
            el.classList.add('selected');
            userSurpriseAnswer = value;
            document.getElementById('submitSurprise').disabled = false;
        }

        function checkSurprise() {
            const detectedName = userSurpriseAnswer === userName;

            // Show correct answer
            document.querySelectorAll('#surpriseOptions .quiz-option').forEach(o => {
                if (o.dataset.value === userName) o.classList.add('correct');
            });

            // Update results
            document.getElementById('countResult').textContent =
                userCountAnswer === actualTargetCount ? '✓ Correct' : `${userCountAnswer} (was ${actualTargetCount})`;
            document.getElementById('nameResult').textContent = detectedName ? '✓ Detected!' : '✗ Missed';

            // Message
            const msg = document.getElementById('resultMessage');
            if (detectedName) {
                msg.innerHTML = `<strong>Classic Cocktail Party Effect!</strong> Even though you were focused on the teal stream, your name "${userName}" broke through from the unattended red stream. Your brain is constantly monitoring for personally relevant stimuli—even when you're consciously ignoring that input channel. About 33% of people in Cherry's experiments detected their name in the unattended ear.`;
            } else {
                msg.innerHTML = `<strong>Strong Selective Attention!</strong> You successfully filtered out the red stream—including your own name "${userName}" that appeared there. You're in the 67% who DON'T detect their name in unattended channels. This shows your attentional filter was working effectively. However, in real auditory experiments with spatial separation, the breakthrough rate is typically higher.`;
            }

            setTimeout(() => showPhase(5), 1500);
        }

        function resetExperiment() {
            userCountAnswer = null;
            userSurpriseAnswer = null;
            document.getElementById('submitCount').disabled = true;
            document.getElementById('submitSurprise').disabled = true;
            document.getElementById('userName').value = '';
            showPhase(1);
        }

        function showPhase(num) {
            document.querySelectorAll('.experiment-phase').forEach(p => p.classList.remove('active'));
            document.getElementById('phase' + num).classList.add('active');
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
