<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Pygmalion Effect | Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
            overflow-x: hidden;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #64b5f6;
            text-decoration: none;
            font-size: 14px;
            opacity: 0.8;
            transition: opacity 0.3s;
            z-index: 100;
        }

        .back-link:hover {
            opacity: 1;
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
            padding: 60px 20px 40px;
        }

        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #ffd700, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #aaa;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .intro-box {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
        }

        .intro-box h2 {
            color: #ffd700;
            margin-bottom: 15px;
        }

        .intro-box p {
            line-height: 1.7;
            color: #ccc;
        }

        /* Classroom Simulation */
        .simulation-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
        }

        .simulation-section h2 {
            color: #64b5f6;
            margin-bottom: 10px;
            text-align: center;
        }

        .simulation-description {
            text-align: center;
            color: #aaa;
            margin-bottom: 25px;
        }

        .classroom {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .student {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
            position: relative;
        }

        .student:hover {
            background: rgba(100, 181, 246, 0.1);
            border-color: rgba(100, 181, 246, 0.3);
        }

        .student.bloomer {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }

        .student.bloomer::after {
            content: '‚≠ê';
            position: absolute;
            top: -10px;
            right: -10px;
            font-size: 1.5em;
        }

        .student-emoji {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .student-name {
            font-weight: bold;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .student-score {
            font-size: 0.85em;
            color: #888;
        }

        .student-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin-top: 10px;
            overflow: hidden;
        }

        .student-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease-out;
            background: linear-gradient(90deg, #2196f3, #4caf50);
        }

        .student.bloomer .student-bar-fill {
            background: linear-gradient(90deg, #ffd700, #ff9800);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 25px 0;
        }

        .control-btn {
            padding: 12px 25px;
            border-radius: 25px;
            border: none;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .control-btn.primary {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
        }

        .control-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .status-panel {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .status-text {
            color: #64b5f6;
            font-size: 1.1em;
        }

        .week-counter {
            font-size: 0.9em;
            color: #888;
            margin-top: 5px;
        }

        /* Results Chart */
        .results-chart {
            margin-top: 25px;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .results-chart.visible {
            opacity: 1;
        }

        .chart-title {
            text-align: center;
            color: #aaa;
            margin-bottom: 15px;
        }

        .bar-comparison {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .bar-group {
            text-align: center;
            min-width: 120px;
        }

        .bar-container {
            height: 180px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            margin-bottom: 10px;
        }

        .result-bar {
            width: 60px;
            border-radius: 5px 5px 0 0;
            transition: height 1s ease-out;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 10px;
            font-weight: bold;
            color: white;
        }

        .result-bar.bloomers {
            background: linear-gradient(180deg, #ffd700, #ff9800);
            color: #1a1a2e;
        }

        .result-bar.regular {
            background: linear-gradient(180deg, #64b5f6, #1976d2);
        }

        .bar-label {
            color: #bbb;
            font-size: 0.9em;
        }

        /* Explanation */
        .explanation-box {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 25px;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .explanation-box.visible {
            opacity: 1;
        }

        .explanation-box h3 {
            color: #4caf50;
            margin-bottom: 10px;
        }

        .explanation-box p {
            color: #bbb;
            line-height: 1.7;
        }

        /* Original Study */
        .study-section {
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-top: 40px;
        }

        .study-section h2 {
            color: #ce93d8;
            margin-bottom: 20px;
        }

        .quote {
            font-style: italic;
            color: #bbb;
            border-left: 3px solid #9c27b0;
            padding-left: 20px;
            margin: 20px 0;
        }

        .study-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #ce93d8;
        }

        .stat-label {
            color: #888;
            font-size: 0.85em;
            margin-top: 5px;
        }

        .researchers {
            display: flex;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .researcher-card {
            flex: 1;
            min-width: 200px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .researcher-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #9c27b0, #7b1fa2);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }

        .researcher-card h4 {
            color: #ce93d8;
            margin-bottom: 5px;
        }

        .researcher-card p {
            color: #888;
            font-size: 0.85em;
        }

        /* Mechanism Section */
        .mechanism {
            margin-top: 40px;
        }

        .mechanism h2 {
            color: #00bcd4;
            margin-bottom: 25px;
            text-align: center;
        }

        .mechanism-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .mechanism-card {
            background: rgba(0, 188, 212, 0.1);
            border: 1px solid rgba(0, 188, 212, 0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s;
        }

        .mechanism-card:hover {
            transform: translateY(-5px);
        }

        .mechanism-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .mechanism-card h3 {
            color: #4dd0e1;
            margin-bottom: 10px;
        }

        .mechanism-card p {
            color: #bbb;
            font-size: 0.9em;
            line-height: 1.6;
        }

        /* Pygmalion vs Golem */
        .effects-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 40px;
        }

        @media (max-width: 600px) {
            .effects-comparison {
                grid-template-columns: 1fr;
            }
        }

        .effect-card {
            border-radius: 15px;
            padding: 25px;
        }

        .effect-card.pygmalion {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .effect-card.golem {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
        }

        .effect-card h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .effect-card.pygmalion h3 {
            color: #ffd700;
        }

        .effect-card.golem h3 {
            color: #f44336;
        }

        .effect-list {
            list-style: none;
        }

        .effect-list li {
            padding: 10px 0;
            color: #bbb;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .effect-list li:last-child {
            border-bottom: none;
        }

        /* Real World */
        .real-world {
            margin-top: 40px;
        }

        .real-world h2 {
            color: #ff9800;
            margin-bottom: 25px;
            text-align: center;
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .example-card {
            background: rgba(255, 152, 0, 0.1);
            border: 1px solid rgba(255, 152, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            transition: transform 0.3s;
        }

        .example-card:hover {
            transform: translateY(-5px);
        }

        .example-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .example-card h3 {
            color: #ffb74d;
            margin-bottom: 10px;
        }

        .example-card p {
            color: #bbb;
            font-size: 0.95em;
            line-height: 1.6;
        }

        /* Criticism */
        .criticism {
            background: rgba(255, 87, 34, 0.1);
            border: 1px solid rgba(255, 87, 34, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-top: 40px;
        }

        .criticism h2 {
            color: #ff8a65;
            margin-bottom: 15px;
        }

        .criticism p {
            color: #bbb;
            line-height: 1.7;
        }

        .criticism ul {
            margin: 15px 0 15px 20px;
            color: #bbb;
        }

        .criticism li {
            margin-bottom: 10px;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 1.8em;
            }

            .classroom {
                grid-template-columns: repeat(3, 1fr);
            }

            .student-emoji {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <h1>üåü The Pygmalion Effect</h1>
        <p class="subtitle">High expectations create high performers</p>

        <div class="intro-box">
            <h2>The Paradox</h2>
            <p>
                When teachers believe certain students will excel, those students actually <em>do</em> excel‚Äînot
                because of innate ability, but because the expectation itself changes teacher behavior in subtle
                ways: more attention, warmer feedback, more challenging material. The paradox:
                <strong>the prophecy creates its own fulfillment</strong>. Named after the Greek myth where
                Pygmalion's belief in his statue's perfection brought it to life.
            </p>
        </div>

        <div class="simulation-section">
            <h2>üè´ Classroom Experiment</h2>
            <p class="simulation-description">
                Click on students to label them as "intellectual bloomers" (‚≠ê), then run the semester to see what happens.
                <br><em>All students have identical starting abilities.</em>
            </p>

            <div class="status-panel">
                <div class="status-text" id="statusText">Click students to mark as "bloomers" ‚≠ê</div>
                <div class="week-counter" id="weekCounter">Week 0 of 16</div>
            </div>

            <div class="classroom" id="classroom">
                <!-- Students generated by JavaScript -->
            </div>

            <div class="controls">
                <button class="control-btn primary" id="runBtn">Run Semester</button>
                <button class="control-btn secondary" id="resetBtn">Reset Class</button>
            </div>

            <div class="results-chart" id="resultsChart">
                <div class="chart-title">Final Semester IQ Gains</div>
                <div class="bar-comparison">
                    <div class="bar-group">
                        <div class="bar-container">
                            <div class="result-bar bloomers" id="bloomerBar" style="height: 0">+0</div>
                        </div>
                        <div class="bar-label">"Bloomers" ‚≠ê<br>Average IQ Gain</div>
                    </div>
                    <div class="bar-group">
                        <div class="bar-container">
                            <div class="result-bar regular" id="regularBar" style="height: 0">+0</div>
                        </div>
                        <div class="bar-label">Regular Students<br>Average IQ Gain</div>
                    </div>
                </div>
            </div>

            <div class="explanation-box" id="explanationBox">
                <h3>üìä What Happened?</h3>
                <p id="explanationText">
                    The "bloomers" you labeled showed greater improvement‚Äîbut their initial abilities were
                    <em>identical</em> to everyone else. The only difference? Your expectation. In real
                    classrooms, teachers unconsciously provide more encouragement, wait longer for answers,
                    and offer more challenging material to students they believe will succeed.
                </p>
            </div>
        </div>

        <div class="study-section">
            <h2>üìö Rosenthal & Jacobson (1968)</h2>
            <p style="color: #bbb; line-height: 1.7;">
                Psychologists Robert Rosenthal and Lenore Jacobson told elementary school teachers that
                certain students‚Äîrandomly selected‚Äîhad been identified by a "Harvard Test of Inflected
                Acquisition" as likely to show unusual intellectual gains. <strong>The test was fake.
                The selection was random.</strong>
            </p>

            <div class="quote">
                "When teachers expected that certain children would show greater intellectual development,
                those children did show greater intellectual development."
            </div>

            <div class="study-stats">
                <div class="stat-card">
                    <div class="stat-value">+12</div>
                    <div class="stat-label">IQ points gain<br>(1st grade "bloomers")</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">+8</div>
                    <div class="stat-label">IQ points gain<br>(2nd grade "bloomers")</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">20%</div>
                    <div class="stat-label">of students labeled<br>as "bloomers"</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">8</div>
                    <div class="stat-label">months of<br>observation</div>
                </div>
            </div>

            <div class="researchers">
                <div class="researcher-card">
                    <div class="researcher-avatar">üéì</div>
                    <h4>Robert Rosenthal</h4>
                    <p>UC Riverside</p>
                    <p style="margin-top: 5px; color: #aaa;">Coined "experimenter effect"</p>
                </div>
                <div class="researcher-card">
                    <div class="researcher-avatar">üìñ</div>
                    <h4>Lenore Jacobson</h4>
                    <p>Spruce Elementary Principal</p>
                    <p style="margin-top: 5px; color: #aaa;">Conducted field study</p>
                </div>
            </div>
        </div>

        <div class="mechanism">
            <h2>üîß How Does It Work?</h2>
            <div class="mechanism-grid">
                <div class="mechanism-card">
                    <div class="mechanism-icon">üòä</div>
                    <h3>Climate</h3>
                    <p>Teachers create warmer, more supportive emotional environments for "high-potential" students.</p>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">üìö</div>
                    <h3>Input</h3>
                    <p>Teachers provide more challenging material and advanced content to students they expect to excel.</p>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">üí¨</div>
                    <h3>Output</h3>
                    <p>Teachers give "bloomers" more opportunities to respond and wait longer for their answers.</p>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">üëè</div>
                    <h3>Feedback</h3>
                    <p>Teachers provide more detailed, constructive feedback and greater praise for successes.</p>
                </div>
            </div>
        </div>

        <div class="effects-comparison">
            <div class="effect-card pygmalion">
                <h3>üåü Pygmalion Effect</h3>
                <ul class="effect-list">
                    <li>üìà High expectations ‚Üí High performance</li>
                    <li>ü§ù More attention and support</li>
                    <li>üìö More challenging assignments</li>
                    <li>üí™ Greater persistence encouraged</li>
                    <li>üèÜ Self-fulfilling success</li>
                </ul>
            </div>
            <div class="effect-card golem">
                <h3>üëπ Golem Effect</h3>
                <ul class="effect-list">
                    <li>üìâ Low expectations ‚Üí Low performance</li>
                    <li>üö´ Less attention and engagement</li>
                    <li>üìã Easier, less stimulating work</li>
                    <li>üòî Quick to accept failure</li>
                    <li>‚¨áÔ∏è Self-fulfilling failure</li>
                </ul>
            </div>
        </div>

        <div class="real-world">
            <h2>üåç Beyond the Classroom</h2>
            <div class="examples-grid">
                <div class="example-card">
                    <div class="example-icon">üíº</div>
                    <h3>Workplace</h3>
                    <p>
                        Managers who believe employees will succeed provide more mentoring, challenging
                        projects, and advancement opportunities‚Äîcreating actual high performers.
                    </p>
                </div>
                <div class="example-card">
                    <div class="example-icon">üèÉ</div>
                    <h3>Sports Coaching</h3>
                    <p>
                        Coaches who expect athletes to improve give more technique feedback and
                        playing time, actually developing better athletes.
                    </p>
                </div>
                <div class="example-card">
                    <div class="example-icon">üè•</div>
                    <h3>Medicine</h3>
                    <p>
                        Placebo effects: patients who believe a treatment will work often show
                        real physiological improvements‚Äîthe expectation heals.
                    </p>
                </div>
                <div class="example-card">
                    <div class="example-icon">üë™</div>
                    <h3>Parenting</h3>
                    <p>
                        Parents who expect their children to be competent provide more independence
                        and challenge, fostering actual competence.
                    </p>
                </div>
                <div class="example-card">
                    <div class="example-icon">ü™û</div>
                    <h3>Self-Expectations</h3>
                    <p>
                        Your beliefs about your own potential change your effort, persistence,
                        and ultimately your outcomes. Expect success, work harder.
                    </p>
                </div>
                <div class="example-card">
                    <div class="example-icon">üí∞</div>
                    <h3>Economics</h3>
                    <p>
                        Market expectations become reality: if investors expect growth, they
                        invest more, creating actual growth (and vice versa).
                    </p>
                </div>
            </div>
        </div>

        <div class="criticism">
            <h2>‚ö†Ô∏è Criticisms & Caveats</h2>
            <p>
                The original study has been controversial. Robert Thorndike criticized the IQ test used,
                and subsequent replications have found smaller effects. Modern meta-analyses suggest:
            </p>
            <ul>
                <li>Effects are <strong>real but small</strong>‚Äîtypically 0.1-0.3 standard deviations</li>
                <li>Effects are <strong>strongest in early grades</strong> and with new teachers</li>
                <li>After teachers know students well (2+ weeks), expectation induction has minimal effect</li>
                <li>Teacher expectations may simply be <strong>accurate predictions</strong> rather than causes</li>
            </ul>
            <p style="margin-top: 15px;">
                Still, even small effects compound over years of education, and the phenomenon reveals
                how subtly our beliefs shape reality‚Äîa profound lesson regardless of effect size.
            </p>
        </div>
    </div>

    <script>
        const studentEmojis = ['üë¶', 'üëß', 'üßí', 'üë±', 'üë©', 'üßë', 'üë®', 'üë©‚Äçü¶∞', 'üßë‚Äçü¶±', 'üë®‚Äçü¶≥', 'üë©‚Äçü¶≥', 'üßî'];
        const studentNames = ['Alex', 'Sam', 'Jordan', 'Casey', 'Riley', 'Morgan', 'Quinn', 'Taylor', 'Jamie', 'Drew', 'Avery', 'Skyler'];

        let students = [];
        let isRunning = false;
        let currentWeek = 0;

        function initializeStudents() {
            students = studentNames.map((name, i) => ({
                id: i,
                name: name,
                emoji: studentEmojis[i],
                isBloomer: false,
                baseAbility: 50 + Math.random() * 10 - 5, // 45-55, very similar
                currentScore: 50
            }));
            renderClassroom();
        }

        function renderClassroom() {
            const classroom = document.getElementById('classroom');
            classroom.innerHTML = students.map(s => `
                <div class="student ${s.isBloomer ? 'bloomer' : ''}"
                     data-id="${s.id}"
                     onclick="toggleBloomer(${s.id})">
                    <div class="student-emoji">${s.emoji}</div>
                    <div class="student-name">${s.name}</div>
                    <div class="student-score">Score: ${Math.round(s.currentScore)}</div>
                    <div class="student-bar">
                        <div class="student-bar-fill" style="width: ${s.currentScore}%"></div>
                    </div>
                </div>
            `).join('');
        }

        function toggleBloomer(id) {
            if (isRunning) return;

            const student = students.find(s => s.id === id);
            student.isBloomer = !student.isBloomer;
            renderClassroom();
            updateStatus();
        }

        function updateStatus() {
            const bloomerCount = students.filter(s => s.isBloomer).length;
            const statusText = document.getElementById('statusText');

            if (bloomerCount === 0) {
                statusText.textContent = 'Click students to mark as "bloomers" ‚≠ê';
            } else {
                statusText.textContent = `${bloomerCount} student${bloomerCount > 1 ? 's' : ''} marked as "bloomers" ‚≠ê`;
            }
        }

        async function runSemester() {
            const bloomerCount = students.filter(s => s.isBloomer).length;
            if (bloomerCount === 0) {
                document.getElementById('statusText').textContent = '‚ö†Ô∏è Please mark at least one student as a "bloomer" first!';
                return;
            }

            isRunning = true;
            document.getElementById('runBtn').disabled = true;
            document.getElementById('statusText').textContent = 'Running semester simulation...';

            // Simulate 16 weeks
            for (let week = 1; week <= 16; week++) {
                currentWeek = week;
                document.getElementById('weekCounter').textContent = `Week ${week} of 16`;

                students.forEach(s => {
                    // Base improvement for everyone
                    let improvement = 0.3 + Math.random() * 0.4;

                    // Bloomers get bonus (simulating teacher attention effects)
                    if (s.isBloomer) {
                        improvement += 0.4 + Math.random() * 0.3;
                    }

                    s.currentScore = Math.min(100, s.currentScore + improvement);
                });

                renderClassroom();
                await new Promise(r => setTimeout(r, 200));
            }

            showResults();
        }

        function showResults() {
            const bloomers = students.filter(s => s.isBloomer);
            const regulars = students.filter(s => !s.isBloomer);

            const bloomerAvgGain = bloomers.length > 0
                ? bloomers.reduce((sum, s) => sum + (s.currentScore - 50), 0) / bloomers.length
                : 0;
            const regularAvgGain = regulars.length > 0
                ? regulars.reduce((sum, s) => sum + (s.currentScore - 50), 0) / regulars.length
                : 0;

            // Show chart
            const resultsChart = document.getElementById('resultsChart');
            resultsChart.classList.add('visible');

            setTimeout(() => {
                const bloomerBar = document.getElementById('bloomerBar');
                const regularBar = document.getElementById('regularBar');

                bloomerBar.style.height = (bloomerAvgGain * 4) + 'px';
                bloomerBar.textContent = '+' + Math.round(bloomerAvgGain);

                regularBar.style.height = (regularAvgGain * 4) + 'px';
                regularBar.textContent = '+' + Math.round(regularAvgGain);
            }, 100);

            // Show explanation
            document.getElementById('explanationBox').classList.add('visible');
            document.getElementById('statusText').textContent = 'Semester complete! See results below.';
        }

        function resetClass() {
            isRunning = false;
            currentWeek = 0;
            document.getElementById('runBtn').disabled = false;
            document.getElementById('weekCounter').textContent = 'Week 0 of 16';
            document.getElementById('resultsChart').classList.remove('visible');
            document.getElementById('explanationBox').classList.remove('visible');
            document.getElementById('bloomerBar').style.height = '0';
            document.getElementById('regularBar').style.height = '0';
            initializeStudents();
            updateStatus();
        }

        document.getElementById('runBtn').addEventListener('click', runSemester);
        document.getElementById('resetBtn').addEventListener('click', resetClass);

        // Initialize
        initializeStudents();
    </script>
</body>
</html>
