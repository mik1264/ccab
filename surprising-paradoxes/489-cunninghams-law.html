<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cunningham's Law - Post Wrong to Get Right</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0e1217;
            min-height: 100vh;
            color: #c9d1d9;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #8b949e;
            text-decoration: none;
            font-size: 14px;
            z-index: 100;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: #58a6ff;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        h1 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: #58a6ff;
        }

        .subtitle {
            text-align: center;
            color: #8b949e;
            font-size: 1.1rem;
            margin-bottom: 40px;
            font-style: italic;
        }

        .intro-panel {
            background: #161b22;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid #30363d;
        }

        .intro-panel h2 {
            color: #58a6ff;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .intro-panel p {
            line-height: 1.7;
            color: #8b949e;
            margin-bottom: 12px;
        }

        .origin-box {
            background: #0d1117;
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid #f0883e;
            margin-top: 15px;
        }

        .origin-box strong {
            color: #f0883e;
        }

        .experiment-section {
            margin-top: 40px;
        }

        .experiment-section h2 {
            color: #58a6ff;
            margin-bottom: 20px;
            text-align: center;
        }

        .forum-container {
            background: #161b22;
            border-radius: 12px;
            border: 1px solid #30363d;
            overflow: hidden;
        }

        .forum-header {
            background: #21262d;
            padding: 15px 20px;
            border-bottom: 1px solid #30363d;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .forum-title {
            font-weight: 600;
            color: #c9d1d9;
        }

        .forum-stats {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            color: #8b949e;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat-value {
            font-weight: bold;
            color: #58a6ff;
        }

        .scenario-picker {
            padding: 20px;
            border-bottom: 1px solid #30363d;
        }

        .scenario-label {
            font-size: 0.9rem;
            color: #8b949e;
            margin-bottom: 10px;
        }

        .scenario-btns {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .scenario-btn {
            background: #21262d;
            border: 1px solid #30363d;
            padding: 10px 16px;
            border-radius: 6px;
            color: #c9d1d9;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .scenario-btn:hover {
            border-color: #58a6ff;
        }

        .scenario-btn.active {
            background: #388bfd26;
            border-color: #58a6ff;
            color: #58a6ff;
        }

        .post-area {
            padding: 20px;
        }

        .post-type-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .type-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid #30363d;
            background: #0d1117;
            color: #8b949e;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .type-btn:hover {
            border-color: #484f58;
        }

        .type-btn.active.question {
            border-color: #3fb950;
            background: #238636;
            color: white;
        }

        .type-btn.active.wrong {
            border-color: #f85149;
            background: #da3633;
            color: white;
        }

        .post-preview {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .post-preview-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #58a6ff, #a855f7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: white;
            font-weight: bold;
        }

        .username {
            font-weight: 600;
            color: #58a6ff;
        }

        .post-time {
            color: #484f58;
            font-size: 0.85rem;
        }

        .post-content {
            color: #c9d1d9;
            line-height: 1.6;
        }

        .post-btn {
            width: 100%;
            padding: 12px;
            background: #238636;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .post-btn:hover {
            background: #2ea043;
        }

        .post-btn.wrong-mode {
            background: #da3633;
        }

        .post-btn.wrong-mode:hover {
            background: #f85149;
        }

        .results-area {
            padding: 20px;
            display: none;
        }

        .results-area.show {
            display: block;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #30363d;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            animation: slideIn 0.4s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 5px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #30363d;
        }

        .timeline-item.reply::before {
            background: #58a6ff;
        }

        .timeline-item.correction::before {
            background: #f0883e;
        }

        .timeline-item.helpful::before {
            background: #3fb950;
        }

        .reply-card {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 12px;
        }

        .reply-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .reply-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: white;
            font-weight: bold;
        }

        .reply-username {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .reply-time {
            color: #484f58;
            font-size: 0.8rem;
            margin-left: auto;
        }

        .reply-badge {
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            font-weight: 600;
        }

        .badge-correction {
            background: #f0883e33;
            color: #f0883e;
        }

        .badge-helpful {
            background: #3fb95033;
            color: #3fb950;
        }

        .reply-content {
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .comparison-panel {
            margin-top: 30px;
            background: #161b22;
            border-radius: 12px;
            border: 1px solid #30363d;
            padding: 25px;
        }

        .comparison-panel h3 {
            color: #58a6ff;
            margin-bottom: 20px;
            text-align: center;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .comparison-card {
            background: #0d1117;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .comparison-card h4 {
            margin-bottom: 15px;
            font-size: 1rem;
        }

        .comparison-card.question h4 {
            color: #3fb950;
        }

        .comparison-card.wrong h4 {
            color: #f85149;
        }

        .metric {
            margin-bottom: 12px;
        }

        .metric-label {
            font-size: 0.85rem;
            color: #8b949e;
            margin-bottom: 4px;
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .metric-value.highlight {
            color: #f0883e;
        }

        .insight-box {
            margin-top: 30px;
            background: #388bfd26;
            border: 1px solid #58a6ff;
            border-radius: 8px;
            padding: 20px;
        }

        .insight-box h4 {
            color: #58a6ff;
            margin-bottom: 10px;
        }

        .insight-box p {
            line-height: 1.7;
            color: #8b949e;
        }

        .reset-btn {
            margin-top: 20px;
            padding: 12px 30px;
            background: #21262d;
            border: 1px solid #30363d;
            border-radius: 8px;
            color: #c9d1d9;
            cursor: pointer;
            font-size: 1rem;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .reset-btn:hover {
            border-color: #58a6ff;
        }

        .parallels {
            margin-top: 30px;
            background: #161b22;
            border-radius: 12px;
            border: 1px solid #30363d;
            padding: 25px;
        }

        .parallels h3 {
            color: #f0883e;
            margin-bottom: 15px;
        }

        .parallel-item {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #21262d;
        }

        .parallel-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .parallel-flag {
            font-size: 1.5rem;
        }

        .parallel-text strong {
            color: #c9d1d9;
        }

        .parallel-text span {
            display: block;
            font-size: 0.9rem;
            color: #8b949e;
            margin-top: 4px;
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.6rem; }
            .comparison-grid { grid-template-columns: 1fr; }
            .scenario-btns { flex-direction: column; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <h1>Cunningham's Law</h1>
        <p class="subtitle">"The best way to get the right answer on the internet is not to ask a question; it's to post the wrong answer."</p>

        <div class="intro-panel">
            <h2>The Counter-Intuitive Strategy</h2>
            <p>
                Named after Ward Cunningham, inventor of the wiki, this law captures a fundamental truth
                about human psychology: <strong>people are far more motivated to correct you than to help you</strong>.
            </p>
            <p>
                Ask a question politely on a forum, and you might wait days for a response. Post something
                confidently wrong, and corrections will flood in within minutes.
            </p>

            <div class="origin-box">
                <strong>Origin:</strong> Steven McGeady coined the term in 2010, based on advice Ward Cunningham
                gave him in the early 1980s about USENET. The principle has since generalized to all of the internet.
            </div>
        </div>

        <div class="experiment-section">
            <h2>Experience It: Forum Simulator</h2>

            <div class="forum-container">
                <div class="forum-header">
                    <span class="forum-title">r/AskReddit</span>
                    <div class="forum-stats">
                        <div class="stat-item">Replies: <span class="stat-value" id="reply-count">0</span></div>
                        <div class="stat-item">Time: <span class="stat-value" id="elapsed-time">0s</span></div>
                    </div>
                </div>

                <div class="scenario-picker">
                    <div class="scenario-label">Choose a topic:</div>
                    <div class="scenario-btns">
                        <button class="scenario-btn active" data-topic="programming">Programming</button>
                        <button class="scenario-btn" data-topic="history">History</button>
                        <button class="scenario-btn" data-topic="science">Science</button>
                        <button class="scenario-btn" data-topic="music">Music</button>
                    </div>
                </div>

                <div class="post-area" id="post-area">
                    <div class="post-type-toggle">
                        <button class="type-btn question active" data-type="question">Ask a Question</button>
                        <button class="type-btn wrong" data-type="wrong">Post Wrong Answer</button>
                    </div>

                    <div class="post-preview">
                        <div class="post-preview-header">
                            <div class="avatar">Y</div>
                            <span class="username">you_user_42</span>
                            <span class="post-time">just now</span>
                        </div>
                        <div class="post-content" id="post-content"></div>
                    </div>

                    <button class="post-btn" id="post-btn">Post to Forum</button>
                </div>

                <div class="results-area" id="results-area">
                    <div class="timeline" id="timeline"></div>
                </div>
            </div>

            <div class="comparison-panel" id="comparison-panel" style="display: none;">
                <h3>Results Comparison</h3>
                <div class="comparison-grid">
                    <div class="comparison-card question">
                        <h4>Polite Question</h4>
                        <div class="metric">
                            <div class="metric-label">Replies</div>
                            <div class="metric-value" id="q-replies">0</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Time to First Reply</div>
                            <div class="metric-value" id="q-time">-</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Helpful Answers</div>
                            <div class="metric-value" id="q-helpful">0</div>
                        </div>
                    </div>
                    <div class="comparison-card wrong">
                        <h4>Wrong Statement</h4>
                        <div class="metric">
                            <div class="metric-label">Replies</div>
                            <div class="metric-value highlight" id="w-replies">0</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Time to First Reply</div>
                            <div class="metric-value highlight" id="w-time">-</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Corrections (with explanations!)</div>
                            <div class="metric-value highlight" id="w-helpful">0</div>
                        </div>
                    </div>
                </div>

                <div class="insight-box">
                    <h4>Why Does This Work?</h4>
                    <p id="insight-text"></p>
                </div>

                <button class="reset-btn" onclick="resetExperiment()">Try Another Topic</button>
            </div>
        </div>

        <div class="parallels">
            <h3>Cultural Parallels</h3>
            <div class="parallel-item">
                <span class="parallel-flag">üá´üá∑</span>
                <div class="parallel-text">
                    <strong>"Pr√™cher le faux pour savoir le vrai"</strong>
                    <span>French: "Preach the falsehood to know the truth"</span>
                </div>
            </div>
            <div class="parallel-item">
                <span class="parallel-flag">üá®üá≥</span>
                <div class="parallel-text">
                    <strong>ÊããÁ£öÂºïÁéâ (PƒÅo zhuƒÅn y«ên y√π)</strong>
                    <span>Chinese: "Toss a brick to attract jade" ‚Äî offer something imperfect to get something valuable</span>
                </div>
            </div>
            <div class="parallel-item">
                <span class="parallel-flag">üåê</span>
                <div class="parallel-text">
                    <strong>Rubber Duck Debugging</strong>
                    <span>Often, explaining your (wrong) understanding reveals the correct answer</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        const scenarios = {
            programming: {
                question: "Does anyone know what the time complexity of JavaScript's Array.sort() is? I've searched everywhere but can't find a clear answer. Thanks in advance!",
                wrong: "Just so everyone knows: JavaScript's Array.sort() is O(n) because it uses counting sort under the hood. Super fast!",
                questionReplies: [
                    { delay: 45000, user: "helpful_dev", color: "#3fb950", content: "Check the MDN docs", badge: null, type: "reply" },
                    { delay: 120000, user: "stackoverflow_link", color: "#8b949e", content: "Asked and answered on SO: [link]", badge: null, type: "reply" }
                ],
                wrongReplies: [
                    { delay: 3000, user: "actually_guy", color: "#f85149", content: "Uh, no. It's O(n log n) using Timsort (in V8) or Mergesort. Counting sort is for integers only and requires knowing the range.", badge: "correction", type: "correction" },
                    { delay: 8000, user: "perf_nerd", color: "#f0883e", content: "To add: V8 switched from Quicksort to Timsort in 2018. SpiderMonkey uses Mergesort. Neither is O(n).", badge: "correction", type: "correction" },
                    { delay: 15000, user: "cs_prof", color: "#a855f7", content: "Here's the thing: comparison sorts CANNOT be faster than O(n log n) in the general case. This is provable. Counting sort works only when values are bounded integers.", badge: "helpful", type: "helpful" },
                    { delay: 22000, user: "engine_dev", color: "#58a6ff", content: "Fun fact: sort() is NOT stable in older browsers. ES2019 mandated stability. Also Timsort is adaptive - nearly-sorted arrays approach O(n).", badge: "helpful", type: "helpful" },
                    { delay: 35000, user: "benchmarker", color: "#f0883e", content: "I literally just ran benchmarks. 10M elements: 2.3 seconds. If it were O(n), that would be ~10ms. Case closed.", badge: "correction", type: "correction" }
                ]
            },
            history: {
                question: "Can someone tell me when the Great Wall of China was built? I'm trying to settle a debate. Thanks!",
                wrong: "The Great Wall of China was built in 200 BC by Emperor Qin Shi Huang as a single continuous project over 10 years.",
                questionReplies: [
                    { delay: 60000, user: "history_buff", color: "#3fb950", content: "Wikipedia has good info on this", badge: null, type: "reply" },
                ],
                wrongReplies: [
                    { delay: 4000, user: "sinologist", color: "#f85149", content: "Almost everything here is wrong. The wall was built over 2,000+ YEARS by multiple dynasties. Qin Shi Huang connected EXISTING walls. Most of what tourists see is Ming Dynasty (1368-1644 AD).", badge: "correction", type: "correction" },
                    { delay: 12000, user: "archaeologist", color: "#f0883e", content: "The earliest walls date to 7th century BC. Qin's contribution was mainly connecting segments. The \"Great Wall\" is really many walls with total length ~21,000 km.", badge: "correction", type: "correction" },
                    { delay: 20000, user: "china_history", color: "#a855f7", content: "To visualize: imagine if someone in year 4000 AD said \"the USA was built by George Washington in 1776.\" That's roughly the level of oversimplification.", badge: "helpful", type: "helpful" },
                    { delay: 28000, user: "myth_buster", color: "#58a6ff", content: "Also: you CANNOT see it from space with the naked eye. That's another myth. Astronauts have confirmed this repeatedly.", badge: "helpful", type: "helpful" }
                ]
            },
            science: {
                question: "How do vaccines work? Trying to understand the basic mechanism. Any immunologists here?",
                wrong: "Vaccines work by injecting a small amount of the disease to make you a little bit sick, so your body learns to fight it.",
                questionReplies: [
                    { delay: 90000, user: "bio_student", color: "#3fb950", content: "Try Khan Academy's immunology videos", badge: null, type: "reply" },
                ],
                wrongReplies: [
                    { delay: 5000, user: "immunologist_md", color: "#f85149", content: "No! Vaccines don't make you sick. They contain antigens (weakened, killed, or fragments) that TRAIN your immune system without causing disease. Big difference.", badge: "correction", type: "correction" },
                    { delay: 11000, user: "vaccine_researcher", color: "#f0883e", content: "Key distinction: antigen ‚â† pathogen. mRNA vaccines don't even contain virus parts‚Äîthey teach your cells to produce a harmless spike protein that triggers antibody production.", badge: "correction", type: "correction" },
                    { delay: 18000, user: "phd_immunology", color: "#a855f7", content: "The mechanism: 1) Antigen presented 2) B-cells produce antibodies 3) T-cells activated 4) Memory cells created. Next exposure = rapid response before infection establishes.", badge: "helpful", type: "helpful" },
                    { delay: 26000, user: "epidemiologist", color: "#58a6ff", content: "Worth noting: some vaccines (like oral polio) use attenuated live virus that CAN very rarely cause mild symptoms. But this is NOT \"making you sick with the disease.\"", badge: "helpful", type: "helpful" },
                    { delay: 38000, user: "science_writer", color: "#f0883e", content: "This misconception is why some people fear vaccines. The \"little bit sick\" framing is dangerous misinformation. Side effects (sore arm, mild fever) are immune response, not disease.", badge: "correction", type: "correction" }
                ]
            },
            music: {
                question: "What's the difference between major and minor keys in music? I'm learning guitar.",
                wrong: "Major and minor keys are basically the same, it's just that minor uses flat notes instead of sharps. That's why minor sounds sadder.",
                questionReplies: [
                    { delay: 75000, user: "guitar_teacher", color: "#3fb950", content: "Great question! Look up the circle of fifths", badge: null, type: "reply" },
                ],
                wrongReplies: [
                    { delay: 6000, user: "music_theory_nerd", color: "#f85149", content: "That's... not how any of this works. Major and minor differ in their INTERVAL patterns. Major: W-W-H-W-W-W-H. Minor: W-H-W-W-H-W-W. Nothing to do with sharps vs flats.", badge: "correction", type: "correction" },
                    { delay: 14000, user: "composer", color: "#f0883e", content: "The \"sadness\" comes from the flattened 3rd degree (and sometimes 6th and 7th). C major has E natural; C minor has Eb. This creates a different emotional color through harmonic relationships.", badge: "correction", type: "correction" },
                    { delay: 22000, user: "berklee_grad", color: "#a855f7", content: "Fun fact: there are actually 3 types of minor scales (natural, harmonic, melodic). Each has different uses. The harmonic minor's raised 7th creates that \"exotic\" sound you hear in metal.", badge: "helpful", type: "helpful" },
                    { delay: 30000, user: "acoustics_phd", color: "#58a6ff", content: "The physics: minor 3rds have a frequency ratio of 6:5, major 3rds are 5:4. The \"sadness\" perception is largely cultural‚Äîsome cultures associate minor with joy!", badge: "helpful", type: "helpful" }
                ]
            }
        };

        let currentTopic = 'programming';
        let postType = 'question';
        let simulationRunning = false;
        let questionResults = { replies: 0, time: null, helpful: 0 };
        let wrongResults = { replies: 0, time: null, helpful: 0 };
        let completedTypes = new Set();

        const insights = [
            "People aren't particularly keen on being helpful, but they have a strong desire to be recognized as the smartest person in the room. Correcting someone signals expertise.",
            "Seeing an error triggers what psychologists call 'error detection response'‚Äîan almost involuntary urge to fix what's wrong. Questions don't trigger this.",
            "A wrong statement is a challenge to one's identity as an expert. Questions ask for free labor. Corrections assert dominance while appearing helpful.",
            "The asymmetry is striking: questions are requests (easy to ignore), while wrong statements are provocations (hard to resist correcting)."
        ];

        function updatePostPreview() {
            const scenario = scenarios[currentTopic];
            const content = postType === 'question' ? scenario.question : scenario.wrong;
            document.getElementById('post-content').textContent = content;

            const postBtn = document.getElementById('post-btn');
            if (postType === 'wrong') {
                postBtn.classList.add('wrong-mode');
                postBtn.textContent = 'Post Wrong Statement';
            } else {
                postBtn.classList.remove('wrong-mode');
                postBtn.textContent = 'Ask Question';
            }
        }

        document.querySelectorAll('.scenario-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                if (simulationRunning) return;
                document.querySelectorAll('.scenario-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentTopic = btn.dataset.topic;
                updatePostPreview();
            });
        });

        document.querySelectorAll('.type-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                if (simulationRunning) return;
                document.querySelectorAll('.type-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                postType = btn.dataset.type;
                updatePostPreview();
            });
        });

        document.getElementById('post-btn').addEventListener('click', startSimulation);

        function startSimulation() {
            if (simulationRunning) return;
            simulationRunning = true;

            document.getElementById('post-area').style.display = 'none';
            document.getElementById('results-area').classList.add('show');

            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '';

            // Add original post
            const scenario = scenarios[currentTopic];
            const content = postType === 'question' ? scenario.question : scenario.wrong;

            const originalPost = document.createElement('div');
            originalPost.className = 'timeline-item';
            originalPost.innerHTML = `
                <div class="reply-card">
                    <div class="reply-header">
                        <div class="reply-avatar" style="background: linear-gradient(135deg, #58a6ff, #a855f7);">Y</div>
                        <span class="reply-username" style="color: #58a6ff;">you_user_42</span>
                        <span class="reply-time">0s</span>
                    </div>
                    <div class="reply-content">${content}</div>
                </div>
            `;
            timeline.appendChild(originalPost);

            const replies = postType === 'question' ? scenario.questionReplies : scenario.wrongReplies;
            const speedMultiplier = 0.05; // Speed up simulation
            let replyCount = 0;
            let elapsed = 0;
            let firstReplyTime = null;
            let helpfulCount = 0;

            const timer = setInterval(() => {
                elapsed += 500;
                document.getElementById('elapsed-time').textContent = Math.floor(elapsed / 1000) + 's';
            }, 500);

            replies.forEach(reply => {
                setTimeout(() => {
                    replyCount++;
                    if (firstReplyTime === null) {
                        firstReplyTime = Math.floor(reply.delay * speedMultiplier / 1000);
                    }
                    if (reply.type === 'helpful' || reply.type === 'correction') {
                        helpfulCount++;
                    }

                    document.getElementById('reply-count').textContent = replyCount;

                    const item = document.createElement('div');
                    item.className = `timeline-item ${reply.type}`;

                    let badgeHtml = '';
                    if (reply.badge === 'correction') {
                        badgeHtml = '<span class="reply-badge badge-correction">CORRECTION</span>';
                    } else if (reply.badge === 'helpful') {
                        badgeHtml = '<span class="reply-badge badge-helpful">DETAILED</span>';
                    }

                    item.innerHTML = `
                        <div class="reply-card">
                            <div class="reply-header">
                                <div class="reply-avatar" style="background: ${reply.color};">${reply.user[0].toUpperCase()}</div>
                                <span class="reply-username" style="color: ${reply.color};">${reply.user}</span>
                                ${badgeHtml}
                                <span class="reply-time">${Math.floor(reply.delay * speedMultiplier / 1000)}s</span>
                            </div>
                            <div class="reply-content">${reply.content}</div>
                        </div>
                    `;
                    timeline.appendChild(item);
                    item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, reply.delay * speedMultiplier);
            });

            // End simulation
            const totalTime = Math.max(...replies.map(r => r.delay)) * speedMultiplier + 2000;
            setTimeout(() => {
                clearInterval(timer);

                if (postType === 'question') {
                    questionResults = { replies: replyCount, time: firstReplyTime, helpful: helpfulCount };
                } else {
                    wrongResults = { replies: replyCount, time: firstReplyTime, helpful: helpfulCount };
                }

                completedTypes.add(postType);

                if (completedTypes.size === 2) {
                    showComparison();
                } else {
                    // Prompt to try the other type
                    const nextType = postType === 'question' ? 'wrong statement' : 'question';
                    const prompt = document.createElement('div');
                    prompt.className = 'timeline-item';
                    prompt.innerHTML = `
                        <div class="reply-card" style="background: #238636; border-color: #3fb950;">
                            <div class="reply-content" style="text-align: center;">
                                <strong>Now try posting a ${nextType} on the same topic to compare!</strong>
                                <br><button class="reset-btn" style="margin-top: 15px;" onclick="switchType()">Try ${nextType === 'question' ? 'Asking' : 'Posting Wrong'}</button>
                            </div>
                        </div>
                    `;
                    timeline.appendChild(prompt);
                }

                simulationRunning = false;
            }, totalTime);
        }

        function switchType() {
            document.getElementById('results-area').classList.remove('show');
            document.getElementById('post-area').style.display = 'block';
            document.getElementById('timeline').innerHTML = '';
            document.getElementById('reply-count').textContent = '0';
            document.getElementById('elapsed-time').textContent = '0s';

            // Switch type
            postType = postType === 'question' ? 'wrong' : 'question';
            document.querySelectorAll('.type-btn').forEach(b => {
                b.classList.toggle('active', b.dataset.type === postType);
            });
            updatePostPreview();
        }

        function showComparison() {
            document.getElementById('comparison-panel').style.display = 'block';
            document.getElementById('q-replies').textContent = questionResults.replies;
            document.getElementById('q-time').textContent = questionResults.time ? questionResults.time + 's' : 'No replies';
            document.getElementById('q-helpful').textContent = questionResults.helpful;

            document.getElementById('w-replies').textContent = wrongResults.replies;
            document.getElementById('w-time').textContent = wrongResults.time + 's';
            document.getElementById('w-helpful').textContent = wrongResults.helpful;

            document.getElementById('insight-text').textContent = insights[Math.floor(Math.random() * insights.length)];

            document.getElementById('comparison-panel').scrollIntoView({ behavior: 'smooth' });
        }

        function resetExperiment() {
            document.getElementById('results-area').classList.remove('show');
            document.getElementById('comparison-panel').style.display = 'none';
            document.getElementById('post-area').style.display = 'block';
            document.getElementById('timeline').innerHTML = '';
            document.getElementById('reply-count').textContent = '0';
            document.getElementById('elapsed-time').textContent = '0s';

            questionResults = { replies: 0, time: null, helpful: 0 };
            wrongResults = { replies: 0, time: null, helpful: 0 };
            completedTypes.clear();

            postType = 'question';
            document.querySelectorAll('.type-btn').forEach(b => {
                b.classList.toggle('active', b.dataset.type === 'question');
            });
            updatePostPreview();

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize
        updatePostPreview();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
