<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Ant on a Rubber Band - Infinite Stretching, Finite Journey</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a3a 50%, #0a0a2a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #ff6b9d;
            text-decoration: none;
            font-size: 0.9rem;
            z-index: 100;
            padding: 8px 16px;
            background: rgba(255,107,157,0.1);
            border-radius: 20px;
            border: 1px solid rgba(255,107,157,0.3);
            transition: all 0.3s;
        }
        .back-link:hover {
            background: rgba(255,107,157,0.2);
            transform: translateX(-3px);
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }
        h1 {
            text-align: center;
            font-size: 2.8rem;
            background: linear-gradient(135deg, #ff6b9d, #c44569, #ff9a56);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            font-size: 1.3rem;
            color: #9090b0;
            margin-bottom: 40px;
            font-style: italic;
        }
        .intro-box {
            background: rgba(255,107,157,0.1);
            border-left: 4px solid #ff6b9d;
            padding: 25px;
            border-radius: 0 15px 15px 0;
            margin-bottom: 40px;
            line-height: 1.8;
        }
        .intro-box strong {
            color: #ff9a56;
        }
        .simulation-container {
            background: rgba(255,255,255,0.03);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            border: 1px solid rgba(255,107,157,0.2);
        }
        .sim-title {
            text-align: center;
            font-size: 1.5rem;
            color: #ff6b9d;
            margin-bottom: 20px;
        }
        .canvas-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            overflow: hidden;
        }
        canvas {
            border-radius: 10px;
            background: #0d0d20;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        .stat-box {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        .stat-label {
            font-size: 0.9rem;
            color: #9090b0;
            margin-bottom: 5px;
        }
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #4ecdc4;
        }
        .stat-value.ant { color: #ff9a56; }
        .stat-value.band { color: #9b59b6; }
        .stat-value.progress { color: #2ecc71; }
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        button {
            padding: 12px 25px;
            font-size: 1rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }
        .btn-primary {
            background: linear-gradient(135deg, #ff6b9d, #c44569);
            color: white;
        }
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255,107,157,0.4);
        }
        .btn-secondary {
            background: rgba(78,205,196,0.2);
            color: #4ecdc4;
            border: 2px solid #4ecdc4;
        }
        .btn-secondary:hover:not(:disabled) {
            background: rgba(78,205,196,0.3);
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        .slider-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .slider-group label {
            font-size: 0.9rem;
            color: #9090b0;
        }
        input[type="range"] {
            width: 120px;
            accent-color: #ff6b9d;
        }
        .harmonic-section {
            background: rgba(78,205,196,0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }
        .harmonic-section h3 {
            color: #4ecdc4;
            margin-bottom: 15px;
            text-align: center;
        }
        .harmonic-display {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
            font-family: monospace;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }
        .harmonic-term {
            padding: 5px 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
        }
        .harmonic-term.current {
            background: rgba(255,107,157,0.3);
            border: 1px solid #ff6b9d;
        }
        .harmonic-sum {
            text-align: center;
            font-size: 1.3rem;
            color: #2ecc71;
        }
        .explanation-section {
            background: rgba(255,255,255,0.03);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 40px;
            border: 1px solid rgba(255,107,157,0.2);
        }
        .explanation-section h2 {
            color: #ff6b9d;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        .explanation-section h3 {
            color: #ff9a56;
            margin: 25px 0 15px;
            font-size: 1.3rem;
        }
        .explanation-section p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #c0c0d0;
        }
        .key-insight {
            background: linear-gradient(135deg, rgba(255,107,157,0.15), rgba(196,69,105,0.15));
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 4px solid #ff6b9d;
        }
        .key-insight h4 {
            color: #ff6b9d;
            margin-bottom: 10px;
        }
        .math-box {
            background: rgba(0,0,0,0.4);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-family: 'Times New Roman', serif;
            font-size: 1.2rem;
            margin: 20px 0;
            color: #4ecdc4;
        }
        .cosmic-box {
            background: linear-gradient(135deg, rgba(155,89,182,0.2), rgba(52,152,219,0.2));
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border: 1px solid rgba(155,89,182,0.4);
        }
        .cosmic-box h4 {
            color: #9b59b6;
            margin-bottom: 15px;
        }
        .timeline {
            position: relative;
            padding-left: 30px;
            margin: 20px 0;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, #ff6b9d, #4ecdc4);
        }
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding-left: 20px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ff6b9d;
        }
        .timeline-item strong {
            color: #ff9a56;
        }
        .completed-message {
            display: none;
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, rgba(46,204,113,0.2), rgba(39,174,96,0.2));
            border-radius: 15px;
            border: 2px solid #2ecc71;
            margin: 20px 0;
        }
        .completed-message h3 {
            color: #2ecc71;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <div class="container">
        <h1>The Ant on a Rubber Band</h1>
        <p class="subtitle">Infinite stretching, but the journey always ends</p>

        <div class="intro-box">
            <p>An ant starts at one end of a <strong>1-meter rubber band</strong>, crawling at <strong>1 cm/second</strong>. But here's the catch: every second, the rubber band <strong>stretches by 1 meter</strong>!</p>
            <p>After 1 second, the band is 2 meters. After 2 seconds, 3 meters. The band grows faster than the ant walks. <strong>Can the ant ever reach the other end?</strong></p>
            <p>Intuition screams "impossible!" But mathematics says... <strong>yes, always!</strong></p>
        </div>

        <div class="simulation-container">
            <h3 class="sim-title">Interactive Simulation</h3>

            <div class="canvas-container">
                <canvas id="simulation" width="800" height="200"></canvas>
            </div>

            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-label">Time (seconds)</div>
                    <div class="stat-value" id="timeDisplay">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Band Length</div>
                    <div class="stat-value band" id="lengthDisplay">1 m</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Ant Position</div>
                    <div class="stat-value ant" id="positionDisplay">0 cm</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Progress</div>
                    <div class="stat-value progress" id="progressDisplay">0%</div>
                </div>
            </div>

            <div class="controls">
                <button class="btn-primary" id="startBtn">Start Simulation</button>
                <button class="btn-secondary" id="stepBtn">Step Forward</button>
                <button class="btn-secondary" id="resetBtn">Reset</button>
            </div>

            <div class="slider-container">
                <div class="slider-group">
                    <label>Speed:</label>
                    <input type="range" id="speedSlider" min="1" max="100" value="50">
                    <span id="speedValue">1x</span>
                </div>
                <div class="slider-group">
                    <label>Scale (simplified):</label>
                    <input type="range" id="scaleSlider" min="1" max="10" value="5">
                </div>
            </div>

            <div class="harmonic-section">
                <h3>The Harmonic Series: Why It Works</h3>
                <div class="harmonic-display" id="harmonicDisplay">
                    <span class="harmonic-term">1</span>
                    <span>+</span>
                    <span class="harmonic-term">1/2</span>
                    <span>+</span>
                    <span class="harmonic-term">1/3</span>
                    <span>+</span>
                    <span class="harmonic-term">1/4</span>
                    <span>+</span>
                    <span class="harmonic-term">...</span>
                </div>
                <div class="harmonic-sum">
                    Current sum: <span id="harmonicSum">0</span> | Progress fraction: <span id="progressFraction">0</span>
                </div>
            </div>

            <div class="completed-message" id="completedMessage">
                <h3>The Ant Made It!</h3>
                <p>Against all odds, through infinite stretching, the ant reached the end.</p>
                <p>Time taken: <span id="completionTime">0</span> seconds</p>
            </div>
        </div>

        <div class="explanation-section">
            <h2>The Mathematics of the Impossible</h2>

            <div class="key-insight">
                <h4>The Key Insight</h4>
                <p>When the rubber band stretches, <strong>both the part behind AND in front of the ant stretch equally</strong>. This means the ant's <em>proportional position</em> is preserved during stretching - it never loses ground to the stretch!</p>
            </div>

            <h3>Second by Second</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <strong>Second 1:</strong> Ant walks 1 cm on a 1 m band. Progress: 1/100 = <strong>1%</strong>
                </div>
                <div class="timeline-item">
                    <strong>Band stretches to 2 m:</strong> Ant is carried to 2 cm. Still 1%!
                </div>
                <div class="timeline-item">
                    <strong>Second 2:</strong> Ant walks 1 cm more. Now at 3 cm of 2 m. Progress: 1% + 1/200 = <strong>1.5%</strong>
                </div>
                <div class="timeline-item">
                    <strong>Band stretches to 3 m:</strong> Ant carried to 4.5 cm. Still 1.5%!
                </div>
                <div class="timeline-item">
                    <strong>Pattern continues...</strong> Each second adds 1/(100×n) to progress
                </div>
            </div>

            <h3>The Harmonic Series Connection</h3>
            <p>The ant's fractional progress after n seconds is:</p>

            <div class="math-box">
                Progress = (v/L) × (1 + 1/2 + 1/3 + ... + 1/n) = (v/L) × H<sub>n</sub>
            </div>

            <p>Where v = ant speed, L = initial band length, and H<sub>n</sub> is the n-th <strong>harmonic number</strong>.</p>

            <p>The harmonic series <strong>diverges</strong> - it grows without bound! This means H<sub>n</sub> eventually exceeds any number, including L/v. The ant reaches 100% progress... eventually.</p>

            <div class="math-box">
                1 + 1/2 + 1/3 + 1/4 + ... → ∞ (diverges!)
            </div>

            <h3>How Long Does It Take?</h3>
            <p>For a 1 km band stretching 1 km/second with an ant walking 1 cm/second:</p>

            <div class="math-box">
                Time ≈ e<sup>100,000</sup> - 1 ≈ 10<sup>43,429</sup> seconds
            </div>

            <p>That's a number with <strong>43,429 digits</strong> - far longer than the age of the universe (about 4×10<sup>17</sup> seconds). But it's <em>finite</em>!</p>
        </div>

        <div class="explanation-section">
            <h2>Cosmic Connection: The Expanding Universe</h2>

            <div class="cosmic-box">
                <h4>Light and the Expanding Universe</h4>
                <p>The ant is like <strong>light from a distant galaxy</strong>. The rubber band is <strong>the fabric of space itself</strong>, which is constantly expanding.</p>
                <p>Even though space expands faster than light can travel through it (for very distant objects), light that started its journey early enough <em>will</em> eventually reach us - just like the ant.</p>
                <p>This explains why we can see the <strong>Cosmic Microwave Background</strong> from 13.8 billion years ago, even though the "edge" of the observable universe is now 46 billion light-years away!</p>
            </div>

            <h3>When Does the Ant Fail?</h3>
            <p>The ant succeeds because the band stretches at a <strong>constant rate</strong>. But if the stretching <em>accelerates</em> (like exponential expansion), the ant may never reach the end.</p>
            <p>This mirrors the <strong>accelerating expansion of the universe</strong> - galaxies beyond a certain distance are receding so fast that their light will <em>never</em> reach us, no matter how long we wait.</p>

            <div class="key-insight">
                <h4>The Deep Truth</h4>
                <p>The ant on a rubber band teaches us that <strong>infinity is subtle</strong>. The harmonic series grows without bound, but <em>very slowly</em>. Slow enough that the answer is finite, but large enough that it exceeds imagination.</p>
                <p>What seems impossible is merely improbable. Mathematics finds a way.</p>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('simulation');
        const ctx = canvas.getContext('2d');

        // Simulation parameters (simplified for visualization)
        let time = 0;
        let bandLength = 100; // Start with 100 units for easy visualization
        let antPosition = 0;
        let antSpeed = 1; // units per time step
        let stretchRate = 10; // units per time step
        let running = false;
        let animationId = null;
        let harmonicSum = 0;
        let simSpeed = 1;
        let scale = 5;

        // Colors
        const COLORS = {
            band: '#9b59b6',
            ant: '#ff9a56',
            start: '#2ecc71',
            end: '#e74c3c',
            text: '#ffffff',
            grid: '#2a2a4a'
        };

        function getProgress() {
            return bandLength > 0 ? antPosition / bandLength : 0;
        }

        function updateDisplay() {
            document.getElementById('timeDisplay').textContent = time;
            document.getElementById('lengthDisplay').textContent = bandLength.toFixed(1) + ' units';
            document.getElementById('positionDisplay').textContent = antPosition.toFixed(2) + ' units';
            document.getElementById('progressDisplay').textContent = (getProgress() * 100).toFixed(4) + '%';
            document.getElementById('harmonicSum').textContent = harmonicSum.toFixed(6);
            document.getElementById('progressFraction').textContent = (harmonicSum * antSpeed / 100).toFixed(6);
        }

        function updateHarmonicDisplay() {
            const container = document.getElementById('harmonicDisplay');
            let html = '';
            const maxTerms = Math.min(time + 1, 8);

            for (let i = 1; i <= maxTerms; i++) {
                const isCurrent = i === time;
                html += `<span class="harmonic-term${isCurrent ? ' current' : ''}">1/${i}</span>`;
                if (i < maxTerms) html += '<span>+</span>';
            }

            if (time >= 8) {
                html += '<span>+</span><span class="harmonic-term">...</span>';
            }

            container.innerHTML = html;
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const padding = 50;
            const bandY = canvas.height / 2;
            const maxVisualLength = canvas.width - 2 * padding;

            // Calculate visual scale - band always fits in view
            const visualScale = maxVisualLength / Math.max(bandLength, 100);
            const visualBandLength = bandLength * visualScale;
            const visualAntPos = antPosition * visualScale;

            // Draw background grid
            ctx.strokeStyle = COLORS.grid;
            ctx.lineWidth = 0.5;
            for (let x = padding; x <= padding + visualBandLength; x += 20) {
                ctx.beginPath();
                ctx.moveTo(x, bandY - 30);
                ctx.lineTo(x, bandY + 30);
                ctx.stroke();
            }

            // Draw rubber band
            const bandGradient = ctx.createLinearGradient(padding, 0, padding + visualBandLength, 0);
            bandGradient.addColorStop(0, '#2ecc71');
            bandGradient.addColorStop(1, '#e74c3c');

            ctx.strokeStyle = bandGradient;
            ctx.lineWidth = 12;
            ctx.lineCap = 'round';
            ctx.beginPath();
            ctx.moveTo(padding, bandY);
            ctx.lineTo(padding + visualBandLength, bandY);
            ctx.stroke();

            // Draw stretch markers
            ctx.fillStyle = 'rgba(255,255,255,0.3)';
            ctx.font = '10px sans-serif';
            const numMarkers = Math.min(Math.floor(bandLength / 20), 20);
            for (let i = 0; i <= numMarkers; i++) {
                const markerX = padding + (visualBandLength * i / numMarkers);
                ctx.beginPath();
                ctx.arc(markerX, bandY, 3, 0, Math.PI * 2);
                ctx.fill();
            }

            // Draw ant
            const antX = padding + visualAntPos;

            // Ant body
            ctx.fillStyle = COLORS.ant;
            ctx.beginPath();
            ctx.ellipse(antX, bandY - 20, 12, 8, 0, 0, Math.PI * 2);
            ctx.fill();

            // Ant head
            ctx.beginPath();
            ctx.arc(antX + 10, bandY - 22, 5, 0, Math.PI * 2);
            ctx.fill();

            // Ant legs
            ctx.strokeStyle = COLORS.ant;
            ctx.lineWidth = 2;
            for (let i = -1; i <= 1; i++) {
                ctx.beginPath();
                ctx.moveTo(antX + i * 6, bandY - 14);
                ctx.lineTo(antX + i * 6 - 4, bandY - 5);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(antX + i * 6, bandY - 14);
                ctx.lineTo(antX + i * 6 + 4, bandY - 5);
                ctx.stroke();
            }

            // Labels
            ctx.fillStyle = COLORS.text;
            ctx.font = 'bold 14px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('START', padding, bandY + 50);
            ctx.fillText('END', padding + visualBandLength, bandY + 50);

            // Progress bar
            const progressWidth = 200;
            const progressX = canvas.width / 2 - progressWidth / 2;
            const progressY = 20;

            ctx.fillStyle = 'rgba(0,0,0,0.5)';
            ctx.fillRect(progressX, progressY, progressWidth, 20);

            ctx.fillStyle = '#2ecc71';
            ctx.fillRect(progressX, progressY, progressWidth * getProgress(), 20);

            ctx.strokeStyle = 'rgba(255,255,255,0.3)';
            ctx.lineWidth = 1;
            ctx.strokeRect(progressX, progressY, progressWidth, 20);

            ctx.fillStyle = COLORS.text;
            ctx.font = '12px sans-serif';
            ctx.fillText((getProgress() * 100).toFixed(2) + '%', canvas.width / 2, progressY + 14);
        }

        function step() {
            time++;

            // Ant walks first (on current band length)
            const progressGain = antSpeed / bandLength;
            antPosition += antSpeed;

            // Update harmonic sum
            harmonicSum += 1 / time;

            // Then band stretches - ant is carried proportionally
            const oldLength = bandLength;
            bandLength += stretchRate;
            antPosition = antPosition * (bandLength / oldLength);

            updateDisplay();
            updateHarmonicDisplay();
            draw();

            // Check if ant reached the end
            if (getProgress() >= 1) {
                running = false;
                document.getElementById('startBtn').textContent = 'Start Simulation';
                document.getElementById('completedMessage').style.display = 'block';
                document.getElementById('completionTime').textContent = time;
                return true;
            }
            return false;
        }

        function animate() {
            if (!running) return;

            for (let i = 0; i < simSpeed; i++) {
                if (step()) {
                    running = false;
                    return;
                }
            }

            animationId = requestAnimationFrame(animate);
        }

        function reset() {
            running = false;
            if (animationId) cancelAnimationFrame(animationId);

            time = 0;
            bandLength = 100;
            antPosition = 0;
            harmonicSum = 0;

            document.getElementById('startBtn').textContent = 'Start Simulation';
            document.getElementById('completedMessage').style.display = 'none';

            updateDisplay();
            updateHarmonicDisplay();
            draw();
        }

        // Event listeners
        document.getElementById('startBtn').addEventListener('click', () => {
            running = !running;
            document.getElementById('startBtn').textContent = running ? 'Pause' : 'Resume';
            if (running) animate();
        });

        document.getElementById('stepBtn').addEventListener('click', () => {
            if (!running) step();
        });

        document.getElementById('resetBtn').addEventListener('click', reset);

        document.getElementById('speedSlider').addEventListener('input', (e) => {
            simSpeed = Math.pow(2, e.target.value / 20);
            document.getElementById('speedValue').textContent = simSpeed.toFixed(1) + 'x';
        });

        document.getElementById('scaleSlider').addEventListener('input', (e) => {
            scale = parseInt(e.target.value);
            stretchRate = scale * 2;
            reset();
        });

        // Initialize
        draw();
        updateDisplay();
    </script>
</body>
</html>
