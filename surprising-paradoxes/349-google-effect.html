<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Google Effect (Digital Amnesia) - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #4285f4;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 30px;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: #5a9cff;
        }

        h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            text-align: center;
            margin-bottom: 10px;
        }

        .google-title {
            display: inline;
        }

        .google-title .g1 { color: #4285f4; }
        .google-title .o1 { color: #ea4335; }
        .google-title .o2 { color: #fbbc05; }
        .google-title .g2 { color: #4285f4; }
        .google-title .l { color: #34a853; }
        .google-title .e { color: #ea4335; }
        .google-title .effect { color: #e0e0e0; }

        .subtitle {
            text-align: center;
            color: #9e9e9e;
            font-size: 1.2rem;
            margin-bottom: 40px;
        }

        .researcher-badge {
            display: inline-block;
            background: linear-gradient(135deg, #4285f4, #34a853);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            margin-bottom: 30px;
        }

        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section h2 {
            color: #4285f4;
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-finding {
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.2), rgba(52, 168, 83, 0.1));
            border-left: 4px solid #4285f4;
            padding: 20px;
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #4285f4;
        }

        .stat-label {
            color: #9e9e9e;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Trivia Memory Test */
        .test-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
        }

        .search-bar-mock {
            display: flex;
            max-width: 600px;
            margin: 0 auto 30px;
            background: white;
            border-radius: 30px;
            padding: 5px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .search-icon {
            width: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9e9e9e;
        }

        .search-input {
            flex: 1;
            border: none;
            font-size: 1.1rem;
            padding: 10px;
            background: transparent;
            outline: none;
            color: #333;
        }

        .trivia-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: border-color 0.3s;
        }

        .trivia-card.saved {
            border-color: #34a853;
        }

        .trivia-card.not-saved {
            border-color: #ea4335;
        }

        .trivia-question {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #fff;
        }

        .trivia-answer {
            font-size: 1.5rem;
            color: #4285f4;
            font-weight: bold;
            margin-bottom: 20px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s;
        }

        .trivia-answer.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        .save-indicator {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .save-indicator.saved {
            background: rgba(52, 168, 83, 0.2);
            color: #34a853;
        }

        .save-indicator.not-saved {
            background: rgba(234, 67, 53, 0.2);
            color: #ea4335;
        }

        .btn {
            background: linear-gradient(135deg, #4285f4, #34a853);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(66, 133, 244, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            border-color: #4285f4;
            box-shadow: 0 10px 30px rgba(66, 133, 244, 0.2);
        }

        /* Memory Test Phase */
        .memory-test {
            display: none;
        }

        .memory-test.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .recall-input {
            width: 100%;
            max-width: 400px;
            padding: 15px 20px;
            border: 3px solid #4285f4;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            font-size: 1.1rem;
            margin: 15px 0;
            text-align: center;
        }

        .recall-input:focus {
            outline: none;
            box-shadow: 0 0 20px rgba(66, 133, 244, 0.5);
        }

        .folder-question {
            margin: 20px 0;
        }

        .folder-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }

        .folder-btn {
            padding: 12px 25px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .folder-btn:hover {
            border-color: #4285f4;
            background: rgba(66, 133, 244, 0.2);
        }

        .folder-btn.selected {
            border-color: #4285f4;
            background: rgba(66, 133, 244, 0.3);
        }

        .folder-btn.correct {
            border-color: #34a853;
            background: rgba(52, 168, 83, 0.3);
        }

        .folder-btn.incorrect {
            border-color: #ea4335;
            background: rgba(234, 67, 53, 0.3);
        }

        /* Results Display */
        .results-container {
            display: none;
        }

        .results-container.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .result-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .result-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .result-box h4 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #9e9e9e;
        }

        .result-percent {
            font-size: 3rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .result-percent.high {
            color: #34a853;
        }

        .result-percent.low {
            color: #ea4335;
        }

        .result-label {
            color: #9e9e9e;
            font-size: 0.9rem;
        }

        /* Transactive Memory Diagram */
        .transactive-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .memory-node {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            text-align: center;
            padding: 15px;
            transition: transform 0.3s;
        }

        .memory-node:hover {
            transform: scale(1.1);
        }

        .memory-node.brain {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .memory-node.internet {
            background: linear-gradient(135deg, #4285f4, #34a853);
        }

        .memory-node.partner {
            background: linear-gradient(135deg, #ea4335, #fbbc05);
        }

        .connection-arrow {
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Brain Offloading Animation */
        .offload-viz {
            position: relative;
            height: 200px;
            margin: 30px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .brain-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50% 50% 45% 45%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .cloud-icon {
            width: 80px;
            height: 50px;
            background: linear-gradient(135deg, #4285f4, #34a853);
            border-radius: 25px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .data-packet {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #fbbc05;
            border-radius: 50%;
            animation: dataFlow 2s infinite;
        }

        @keyframes dataFlow {
            0% { left: 100px; opacity: 1; }
            100% { left: 250px; opacity: 0; }
        }

        /* Strategy Cards */
        .strategy-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .strategy-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s;
        }

        .strategy-card:hover {
            transform: translateY(-5px);
        }

        .strategy-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4285f4, #34a853);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .strategy-card h4 {
            color: #4285f4;
            margin-bottom: 10px;
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        /* Progress indicator */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4285f4, #34a853);
            border-radius: 3px;
            transition: width 0.5s;
        }

        .phase-indicator {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
        }

        .phase {
            color: #9e9e9e;
            position: relative;
        }

        .phase.active {
            color: #4285f4;
            font-weight: bold;
        }

        .phase.completed {
            color: #34a853;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }

            .section {
                padding: 20px;
            }

            .transactive-diagram {
                flex-direction: column;
            }

            .connection-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">
            <span>&#8592;</span> Back to Surprising Paradoxes
        </a>

        <h1>
            <span class="google-title">
                <span class="g1">G</span><span class="o1">o</span><span class="o2">o</span><span class="g2">g</span><span class="l">l</span><span class="e">e</span>
                <span class="effect"> Effect</span>
            </span>
        </h1>
        <p class="subtitle">Digital Amnesia: We Remember Where to Find It, Not What It Is</p>

        <div style="text-align: center;">
            <span class="researcher-badge">Sparrow, Liu & Wegner, Science 2011</span>
        </div>

        <div class="section">
            <h2>The Discovery</h2>
            <p>In 2011, Columbia psychologist Betsy Sparrow made a startling discovery: the internet has fundamentally changed how we remember. We're not remembering less—we're remembering <em>differently</em>.</p>

            <div class="key-finding">
                <strong>The Core Finding:</strong> When people expect to have access to information later (like via Google), they have <span style="color: #ea4335;">lower recall of the information itself</span> but <span style="color: #34a853;">enhanced recall for WHERE to find it</span>.
                <br><br>
                We've outsourced our memory to the internet.
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Experiments in the study</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">~50%</div>
                    <div class="stat-label">Lower fact recall when saved</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">+25%</div>
                    <div class="stat-label">Better folder location recall</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Experience It Yourself</h2>
            <p>Take this trivia test. Some facts will be "saved to a folder"—some won't. Then we'll test what you remember.</p>

            <div class="test-container">
                <!-- Learning Phase -->
                <div id="learning-phase">
                    <div class="search-bar-mock">
                        <div class="search-icon">&#128269;</div>
                        <input type="text" class="search-input" placeholder="Searching trivia facts..." readonly>
                    </div>

                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>

                    <div class="phase-indicator">
                        <span class="phase active" id="phase1">Learning</span>
                        <span class="phase" id="phase2">Memory Test</span>
                        <span class="phase" id="phase3">Results</span>
                    </div>

                    <div id="trivia-display">
                        <p style="color: #9e9e9e; margin-bottom: 20px;">Click "Start" to begin learning trivia facts</p>
                        <button class="btn" id="start-btn">Start Learning</button>
                    </div>
                </div>

                <!-- Memory Test Phase -->
                <div class="memory-test" id="memory-test">
                    <h3 style="margin-bottom: 20px;">Memory Test</h3>
                    <p id="test-instructions">Answer as many questions as you can remember.</p>

                    <div id="test-questions"></div>
                </div>

                <!-- Results Phase -->
                <div class="results-container" id="results-container">
                    <h3 style="margin-bottom: 20px;">Your Results</h3>

                    <div class="result-comparison">
                        <div class="result-box">
                            <h4>NOT Saved Facts</h4>
                            <div class="result-percent high" id="not-saved-score">0%</div>
                            <div class="result-label">Recall accuracy</div>
                        </div>
                        <div class="result-box">
                            <h4>SAVED Facts</h4>
                            <div class="result-percent low" id="saved-score">0%</div>
                            <div class="result-label">Recall accuracy</div>
                        </div>
                    </div>

                    <div class="result-comparison" style="margin-top: 20px;">
                        <div class="result-box">
                            <h4>Folder Location Memory</h4>
                            <div class="result-percent high" id="folder-score">0%</div>
                            <div class="result-label">Where you saved facts</div>
                        </div>
                    </div>

                    <div id="result-interpretation" style="margin: 30px 0; padding: 20px; background: rgba(66, 133, 244, 0.1); border-radius: 15px;"></div>

                    <button class="btn btn-secondary" id="reset-btn">Try Again</button>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Transactive Memory: Your Extended Mind</h2>
            <p>The internet isn't just a tool—it's become part of your memory system. This is called <strong>transactive memory</strong>: sharing cognitive labor with external sources.</p>

            <div class="transactive-diagram">
                <div class="memory-node brain">
                    <span style="font-size: 1.5rem;">&#129504;</span>
                    <span>Your Brain</span>
                    <span style="font-size: 0.8rem; opacity: 0.8;">Meta-memory</span>
                </div>
                <span class="connection-arrow">&#8596;</span>
                <div class="memory-node internet">
                    <span style="font-size: 1.5rem;">&#9729;</span>
                    <span>Internet</span>
                    <span style="font-size: 0.8rem; opacity: 0.8;">Fact storage</span>
                </div>
                <span class="connection-arrow">&#8596;</span>
                <div class="memory-node partner">
                    <span style="font-size: 1.5rem;">&#128101;</span>
                    <span>Other People</span>
                    <span style="font-size: 0.8rem; opacity: 0.8;">Expertise areas</span>
                </div>
            </div>

            <p style="text-align: center; color: #9e9e9e; margin-top: 20px;">
                Just as couples divide "who remembers what" (you remember birthdays, your partner remembers passwords), we now divide memory with computers.
            </p>
        </div>

        <div class="section">
            <h2>Cognitive Offloading in Action</h2>
            <p>When you save a phone number to contacts, bookmark a recipe, or screenshot instructions, your brain says: "No need to store this—I know where to find it."</p>

            <div class="key-finding">
                <strong>The Original Study Setup:</strong>
                <br><br>
                Participants typed 40 trivia statements into a computer. Half were told the information would be <strong>saved</strong>; half were told it would be <strong>erased</strong>.
                <br><br>
                When tested, people who thought facts were saved remembered <strong>significantly fewer facts</strong> but were better at remembering <strong>which computer folder</strong> stored them.
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">91%</div>
                    <div class="stat-label">Americans own a smartphone</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">8.5B</div>
                    <div class="stat-label">Google searches per day</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">52%</div>
                    <div class="stat-label">Can't remember friends' phone numbers</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>The Paradox: Are We Getting Dumber?</h2>
            <p>Not necessarily. We're <em>reallocating</em> cognitive resources.</p>

            <div class="key-finding">
                <strong>The Upside:</strong> Freed from memorizing facts, we can focus on higher-order thinking—analysis, creativity, synthesis.
                <br><br>
                <strong>The Downside:</strong> Without internet access, we're cognitively impaired. Our memory is now <em>distributed</em>, not <em>internal</em>.
            </div>

            <div class="strategy-cards" style="margin-top: 20px;">
                <div class="strategy-card">
                    <div class="strategy-icon">&#9989;</div>
                    <h4>What We Gain</h4>
                    <ul style="color: #9e9e9e; padding-left: 20px;">
                        <li>Access to infinite knowledge</li>
                        <li>Freed mental bandwidth</li>
                        <li>Instant fact-checking</li>
                        <li>Reduced cognitive load</li>
                    </ul>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon" style="background: linear-gradient(135deg, #ea4335, #fbbc05);">&#10060;</div>
                    <h4>What We Lose</h4>
                    <ul style="color: #9e9e9e; padding-left: 20px;">
                        <li>Deep memory formation</li>
                        <li>Offline knowledge</li>
                        <li>Connection-making</li>
                        <li>Independent thinking</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Protecting Your Memory</h2>

            <div class="strategy-cards">
                <div class="strategy-card">
                    <div class="strategy-icon">&#128218;</div>
                    <h4>Deliberate Encoding</h4>
                    <p>For important information, consciously decide to remember it. Say it aloud, write it down by hand, create associations.</p>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">&#128683;</div>
                    <h4>Digital Sabbaths</h4>
                    <p>Regular periods without internet access force your brain to rely on internal memory again, strengthening those pathways.</p>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">&#128172;</div>
                    <h4>Teach Others</h4>
                    <p>Explaining information to someone else requires deep processing and creates stronger memory traces than passive consumption.</p>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">&#129504;</div>
                    <h4>Active Recall</h4>
                    <p>Before Googling, spend 30 seconds trying to remember. Even failed attempts strengthen memory retrieval pathways.</p>
                </div>
            </div>
        </div>

        <div class="section" style="text-align: center;">
            <h2>The New Reality</h2>
            <p style="font-size: 1.2rem; line-height: 1.8; max-width: 800px; margin: 0 auto;">
                We've evolved from memorizing facts to memorizing search strategies. Our ancestors knew hundreds of plants, animal tracks, and tribal histories by heart. We know how to find that same information in seconds.
            </p>
            <br>
            <p style="color: #4285f4; font-size: 1.3rem; font-weight: bold;">
                The question isn't whether this is good or bad—it's whether we're aware of the trade-off.
            </p>
            <p style="color: #9e9e9e; margin-top: 20px; font-style: italic;">
                Right now, your brain is deciding whether to remember this page... or just remember you can Google "digital amnesia" later.
            </p>
        </div>
    </div>

    <script>
        // Trivia facts with folders
        const triviaFacts = [
            { question: "What is the capital of Australia?", answer: "Canberra", folder: "Geography" },
            { question: "How many bones are in the human hand?", answer: "27", folder: "Science" },
            { question: "What year was the Eiffel Tower completed?", answer: "1889", folder: "History" },
            { question: "What is the chemical symbol for gold?", answer: "Au", folder: "Science" },
            { question: "What is the largest planet in our solar system?", answer: "Jupiter", folder: "Science" },
            { question: "Who painted the Mona Lisa?", answer: "Leonardo da Vinci", folder: "Arts" },
            { question: "How many chromosomes do humans have?", answer: "46", folder: "Science" },
            { question: "What year did World War I begin?", answer: "1914", folder: "History" }
        ];

        const folders = ["Geography", "Science", "History", "Arts"];
        let currentFact = 0;
        let savedFacts = [];
        let notSavedFacts = [];
        let userAnswers = [];
        let folderAnswers = [];

        // DOM elements
        const startBtn = document.getElementById('start-btn');
        const triviaDisplay = document.getElementById('trivia-display');
        const progressFill = document.getElementById('progress-fill');
        const memoryTest = document.getElementById('memory-test');
        const resultsContainer = document.getElementById('results-container');
        const testQuestions = document.getElementById('test-questions');

        // Shuffle array
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Start learning phase
        startBtn.addEventListener('click', () => {
            shuffle(triviaFacts);
            // Randomly assign half to be "saved"
            triviaFacts.forEach((fact, i) => {
                fact.saved = i < triviaFacts.length / 2;
            });
            shuffle(triviaFacts); // Shuffle again so saved/not-saved are mixed

            savedFacts = triviaFacts.filter(f => f.saved);
            notSavedFacts = triviaFacts.filter(f => !f.saved);

            showNextFact();
        });

        function showNextFact() {
            if (currentFact >= triviaFacts.length) {
                startMemoryTest();
                return;
            }

            const fact = triviaFacts[currentFact];
            const progress = ((currentFact + 1) / triviaFacts.length) * 100;
            progressFill.style.width = progress + '%';

            triviaDisplay.innerHTML = `
                <div class="trivia-card ${fact.saved ? 'saved' : 'not-saved'}">
                    <div class="trivia-question">${fact.question}</div>
                    <div class="trivia-answer" id="answer-reveal">${fact.answer}</div>
                    <div class="save-indicator ${fact.saved ? 'saved' : 'not-saved'}">
                        ${fact.saved
                            ? `&#128190; Saved to "${fact.folder}" folder`
                            : '&#10060; NOT saved - remember this!'}
                    </div>
                </div>
                <p style="color: #9e9e9e; margin: 15px 0;">Fact ${currentFact + 1} of ${triviaFacts.length}</p>
                <button class="btn" id="next-btn" disabled>Next</button>
            `;

            // Reveal answer after delay
            setTimeout(() => {
                document.getElementById('answer-reveal').classList.add('revealed');
                document.getElementById('next-btn').disabled = false;
            }, 1000);

            document.getElementById('next-btn').addEventListener('click', () => {
                currentFact++;
                showNextFact();
            });
        }

        function startMemoryTest() {
            document.getElementById('phase1').classList.remove('active');
            document.getElementById('phase1').classList.add('completed');
            document.getElementById('phase2').classList.add('active');

            document.getElementById('learning-phase').style.display = 'none';
            memoryTest.classList.add('active');

            userAnswers = [];
            folderAnswers = [];

            // Create test questions
            let testHTML = '<div style="margin-bottom: 30px;"><h4>Part 1: What do you remember?</h4></div>';

            shuffle(triviaFacts);
            triviaFacts.forEach((fact, i) => {
                testHTML += `
                    <div class="trivia-card" style="margin: 15px 0;">
                        <div class="trivia-question">${fact.question}</div>
                        <input type="text" class="recall-input" id="answer-${i}" placeholder="Your answer...">
                    </div>
                `;
            });

            testHTML += `
                <div style="margin: 30px 0; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 30px;">
                    <h4>Part 2: Where was each fact saved?</h4>
                    <p style="color: #9e9e9e; margin-bottom: 20px;">For facts that WERE saved, which folder contained them?</p>
                </div>
            `;

            savedFacts.forEach((fact, i) => {
                testHTML += `
                    <div class="folder-question">
                        <p style="margin-bottom: 10px;">"${fact.question}" was saved in:</p>
                        <div class="folder-options" id="folder-options-${i}">
                            ${folders.map(f => `<button class="folder-btn" data-folder="${f}" data-index="${i}">${f}</button>`).join('')}
                        </div>
                    </div>
                `;
            });

            testHTML += '<button class="btn" id="submit-test" style="margin-top: 20px;">Submit Answers</button>';

            testQuestions.innerHTML = testHTML;

            // Folder button listeners
            document.querySelectorAll('.folder-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = e.target.dataset.index;
                    const optionsDiv = document.getElementById(`folder-options-${index}`);
                    optionsDiv.querySelectorAll('.folder-btn').forEach(b => b.classList.remove('selected'));
                    e.target.classList.add('selected');
                });
            });

            // Submit listener
            document.getElementById('submit-test').addEventListener('click', calculateResults);
        }

        function calculateResults() {
            // Collect answers
            triviaFacts.forEach((fact, i) => {
                const userAnswer = document.getElementById(`answer-${i}`).value.toLowerCase().trim();
                userAnswers.push({
                    correct: userAnswer === fact.answer.toLowerCase(),
                    saved: fact.saved,
                    question: fact.question
                });
            });

            // Collect folder answers
            savedFacts.forEach((fact, i) => {
                const selectedBtn = document.querySelector(`#folder-options-${i} .folder-btn.selected`);
                folderAnswers.push({
                    correct: selectedBtn ? selectedBtn.dataset.folder === fact.folder : false,
                    actualFolder: fact.folder
                });
            });

            // Calculate scores
            const savedAnswers = userAnswers.filter(a => a.saved);
            const notSavedAnswers = userAnswers.filter(a => !a.saved);

            const savedCorrect = savedAnswers.filter(a => a.correct).length;
            const notSavedCorrect = notSavedAnswers.filter(a => a.correct).length;
            const folderCorrect = folderAnswers.filter(a => a.correct).length;

            const savedPercent = Math.round((savedCorrect / savedAnswers.length) * 100);
            const notSavedPercent = Math.round((notSavedCorrect / notSavedAnswers.length) * 100);
            const folderPercent = Math.round((folderCorrect / folderAnswers.length) * 100);

            // Show results
            document.getElementById('phase2').classList.remove('active');
            document.getElementById('phase2').classList.add('completed');
            document.getElementById('phase3').classList.add('active');

            memoryTest.classList.remove('active');
            resultsContainer.classList.add('active');

            document.getElementById('saved-score').textContent = savedPercent + '%';
            document.getElementById('not-saved-score').textContent = notSavedPercent + '%';
            document.getElementById('folder-score').textContent = folderPercent + '%';

            // Interpretation
            let interpretation = '';
            if (notSavedPercent > savedPercent) {
                interpretation = `<strong style="color: #34a853;">You demonstrated the Google Effect!</strong> You remembered ${notSavedPercent - savedPercent}% more of the facts that WEREN'T saved. Your brain treated saved information as "not worth memorizing."`;
            } else if (savedPercent > notSavedPercent) {
                interpretation = `<strong style="color: #fbbc05;">Interesting!</strong> You actually remembered saved facts better. This can happen when you consciously try to resist the effect—or when you have strong memory strategies.`;
            } else {
                interpretation = `<strong>Equal recall!</strong> You remembered saved and unsaved facts equally well. The Google Effect wasn't pronounced in your case.`;
            }

            if (folderPercent > 50) {
                interpretation += `<br><br>However, you remembered folder locations well (${folderPercent}%)—the hallmark of "meta-memory" over content memory.`;
            }

            document.getElementById('result-interpretation').innerHTML = interpretation;

            // Color code percentages
            if (savedPercent <= notSavedPercent) {
                document.getElementById('saved-score').classList.add('low');
                document.getElementById('saved-score').classList.remove('high');
            }
            if (notSavedPercent >= savedPercent) {
                document.getElementById('not-saved-score').classList.add('high');
                document.getElementById('not-saved-score').classList.remove('low');
            }
        }

        // Reset
        document.getElementById('reset-btn').addEventListener('click', () => {
            currentFact = 0;
            userAnswers = [];
            folderAnswers = [];

            document.getElementById('phase1').classList.add('active');
            document.getElementById('phase1').classList.remove('completed');
            document.getElementById('phase2').classList.remove('active', 'completed');
            document.getElementById('phase3').classList.remove('active', 'completed');

            progressFill.style.width = '0%';
            resultsContainer.classList.remove('active');
            memoryTest.classList.remove('active');
            document.getElementById('learning-phase').style.display = 'block';

            triviaDisplay.innerHTML = `
                <p style="color: #9e9e9e; margin-bottom: 20px;">Click "Start" to begin learning trivia facts</p>
                <button class="btn" id="start-btn">Start Learning</button>
            `;

            document.getElementById('start-btn').addEventListener('click', () => {
                shuffle(triviaFacts);
                triviaFacts.forEach((fact, i) => {
                    fact.saved = i < triviaFacts.length / 2;
                });
                shuffle(triviaFacts);
                savedFacts = triviaFacts.filter(f => f.saved);
                notSavedFacts = triviaFacts.filter(f => !f.saved);
                showNextFact();
            });
        });
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
