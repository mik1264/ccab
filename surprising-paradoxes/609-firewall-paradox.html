<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Hole Firewall Paradox (AMPS) - The End of Smooth Horizons</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #0a0505 0%, #150808 50%, #0a0a15 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 1px solid rgba(255, 100, 50, 0.3);
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.4em;
            background: linear-gradient(135deg, #ff6430, #ff9060);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #888;
            font-style: italic;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        @media (max-width: 1000px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .visualization-section {
            background: rgba(30, 15, 15, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 100, 50, 0.3);
        }

        canvas {
            width: 100%;
            border-radius: 10px;
            background: #020102;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }

        button {
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            border: none;
            border-radius: 25px;
            background: linear-gradient(135deg, #ff6430, #cc4020);
            color: white;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 100, 50, 0.4);
        }

        button.active {
            background: linear-gradient(135deg, #30ff64, #20cc40);
            color: #000;
        }

        .principles {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .principle-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            font-size: 11px;
        }

        .principle-box.active {
            background: rgba(100, 255, 100, 0.2);
            border: 1px solid rgba(100, 255, 100, 0.5);
        }

        .principle-box.violated {
            background: rgba(255, 100, 100, 0.2);
            border: 1px solid rgba(255, 100, 100, 0.5);
        }

        .principle-label {
            color: #888;
            margin-bottom: 5px;
        }

        .principle-value {
            font-weight: bold;
            color: #ff9060;
        }

        .scenario-info {
            text-align: center;
            padding: 15px;
            margin-top: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .essay-section {
            background: rgba(30, 15, 15, 0.6);
            border-radius: 15px;
            padding: 30px;
            border: 1px solid rgba(255, 100, 50, 0.2);
            max-height: 800px;
            overflow-y: auto;
        }

        .essay-section h2 {
            color: #ff6430;
            margin: 25px 0 15px 0;
            font-size: 1.4em;
        }

        .essay-section h2:first-child {
            margin-top: 0;
        }

        .essay-section p {
            line-height: 1.8;
            margin-bottom: 15px;
            text-align: justify;
        }

        .equation {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            font-size: 14px;
            overflow-x: auto;
        }

        .highlight {
            color: #ff9060;
            font-weight: bold;
        }

        .warning {
            color: #ff6666;
            font-weight: bold;
        }

        .diagram {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            line-height: 1.4;
            white-space: pre;
            overflow-x: auto;
        }

        .sources {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 100, 50, 0.3);
            font-size: 0.9em;
        }

        .sources h3 {
            color: #ff6430;
            margin-bottom: 10px;
        }

        .sources ul {
            list-style: none;
            padding: 0;
        }

        .sources li {
            margin: 8px 0;
            padding-left: 15px;
            border-left: 2px solid #cc4020;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #ff6430;
            text-decoration: none;
            font-size: 14px;
        }

        .back-link:hover {
            color: #ff9060;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <header>
            <h1>Black Hole Firewall Paradox</h1>
            <p class="subtitle">The AMPS argument: Three reasonable principles cannot all be true</p>
        </header>

        <div class="main-content">
            <div class="visualization-section">
                <canvas id="canvas" width="600" height="400"></canvas>

                <div class="controls">
                    <button id="btnClassical" class="active">Classical View</button>
                    <button id="btnFirewall">Firewall Scenario</button>
                    <button id="btnComplement">Complementarity</button>
                </div>

                <div class="principles">
                    <div class="principle-box" id="principle1">
                        <div class="principle-label">Unitarity</div>
                        <div class="principle-value">Information Preserved</div>
                    </div>
                    <div class="principle-box" id="principle2">
                        <div class="principle-label">EFT Valid</div>
                        <div class="principle-value">Low-E Physics Works</div>
                    </div>
                    <div class="principle-box" id="principle3">
                        <div class="principle-label">No Drama</div>
                        <div class="principle-value">Smooth Horizon</div>
                    </div>
                </div>

                <div class="scenario-info" id="scenarioInfo">
                    Classical view: Infalling observer crosses smooth horizon
                </div>
            </div>

            <div class="essay-section">
                <h2>A 9 on the Richter Scale</h2>
                <p>
                    In 2012, four physicists‚Äî<span class="highlight">Ahmed Almheiri, Donald Marolf,
                    Joseph Polchinski, and James Sully</span>‚Äîpublished a paper that sent shockwaves
                    through theoretical physics. Their argument, known as the <span class="highlight">
                    AMPS firewall paradox</span>, showed that three seemingly reasonable principles
                    about black holes cannot all be true simultaneously.
                </p>

                <p>
                    One physicist described it as <span class="warning">"a 9 on the Richter earthquake
                    scale‚Äîby far the most shocking thing in my career."</span>
                </p>

                <h2>The Three Principles</h2>
                <p>
                    The AMPS argument involves three postulates that physicists believed were all true:
                </p>

                <div class="diagram">
    (1) UNITARITY: Black hole evaporation preserves quantum information
        - Hawking radiation is in a pure state
        - No information is truly lost
        - Required by quantum mechanics

    (2) EFFECTIVE FIELD THEORY: Low-energy physics works near the horizon
        - Semiclassical gravity valid outside Planck scale
        - Hawking's calculations apply
        - No exotic effects at large scales

    (3) NO DRAMA: Infalling observer sees nothing special at horizon
        - Equivalence principle: free fall is locally like flat space
        - No infinite energies or singular behavior
        - Einstein's happiest thought preserved
                </div>

                <p>
                    AMPS showed that <span class="warning">at most two of these can be true</span>.
                    At least one must be violated!
                </p>

                <h2>The Argument</h2>
                <p>
                    The key insight involves <span class="highlight">entanglement</span>. For an old
                    black hole that has radiated away more than half its mass:
                </p>

                <div class="equation">
Early Hawking radiation (E) is maximally entangled
with late Hawking radiation (L)
[Required for information preservation - Principle 1]

But for smooth horizon, late radiation (L) must be
entangled with interior modes (I)
[Required for no drama - Principle 3]

Monogamy of entanglement: A qubit cannot be maximally
entangled with TWO different systems!

L cannot be entangled with BOTH E and I ‚Üí CONTRADICTION
                </div>

                <p>
                    The entanglement required for information preservation (unitarity) conflicts
                    with the entanglement required for a smooth horizon (no drama).
                </p>

                <h2>The Firewall Resolution</h2>
                <p>
                    AMPS argued that the most "conservative" resolution is to give up Principle 3.
                    Instead of a smooth horizon, there would be a <span class="highlight">firewall</span>‚Äî
                    a wall of high-energy particles that would incinerate anything crossing the horizon.
                </p>

                <p>
                    Polchinski described it: <span class="warning">"The firewall is kind of a wall of
                    energy‚Äîit could be the end of spacetime itself."</span>
                </p>

                <div class="diagram">
    CLASSICAL BLACK HOLE          FIREWALL BLACK HOLE
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
         ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ                     ‚ï≠~~~~~~~‚ïÆ
        ‚ï±         ‚ï≤                   ‚ï±~FIRE~~~‚ï≤
       ‚îÇ  Smooth   ‚îÇ                 ‚îÇ~~WALL~~~‚îÇ
       ‚îÇ  crossing ‚îÇ                 ‚îÇ~BURNS~~~‚îÇ
       ‚îÇ     ‚Üì     ‚îÇ                 ‚îÇ~~YOU~~~‚îÇ
        ‚ï≤         ‚ï±                   ‚ï≤~~~~~~~‚ï±
         ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ                     ‚ï∞~~~~~~~‚ïØ

    Observer falls                 Observer destroyed
    through normally               at horizon
                </div>

                <h2>Why This Matters</h2>
                <p>
                    The firewall paradox strikes at the heart of physics. If firewalls exist:
                </p>

                <p>
                    <span class="highlight">General Relativity fails:</span> The equivalence principle‚Äî
                    Einstein's "happiest thought"‚Äîwould be violated. Free fall at the horizon would
                    NOT be like empty space.
                </p>

                <p>
                    <span class="highlight">Spacetime may end:</span> The horizon wouldn't be a mere
                    coordinate boundary but a physical barrier where spacetime terminates.
                </p>

                <p>
                    <span class="highlight">Information paradox deepens:</span> If we reject firewalls
                    to save smooth horizons, we must sacrifice either unitarity or effective field theory‚Äî
                    each with profound implications.
                </p>

                <h2>Alternative Resolutions</h2>
                <p>
                    Physicists have proposed various escapes from the paradox:
                </p>

                <p>
                    <span class="highlight">ER=EPR:</span> Maldacena and Susskind proposed that
                    entanglement creates wormholes. The early radiation might be connected to
                    the black hole interior through a quantum wormhole (Einstein-Rosen bridge).
                </p>

                <p>
                    <span class="highlight">Soft Hair:</span> Hawking, Perry, and Strominger suggested
                    black holes have "soft hair"‚Äîquantum information stored on the horizon in soft
                    graviton and photon modes.
                </p>

                <p>
                    <span class="highlight">Fuzzball:</span> In string theory, the black hole interior
                    might be replaced by a "fuzzball" of strings with no horizon at all.
                </p>

                <h2>The Deeper Lesson</h2>
                <p>
                    The firewall paradox reveals that we don't fully understand how gravity and
                    quantum mechanics coexist. Something fundamental about our picture of black
                    holes‚Äîsmooth horizons, preserved information, or semiclassical physics‚Äîmust
                    be wrong.
                </p>

                <div class="equation">
"One of the deepest problems in theoretical physics."
‚Äî Joseph Polchinski (1954-2018)
                </div>

                <p>
                    Over a decade later, the paradox remains unresolved. It continues to drive
                    research into quantum gravity, holography, and the nature of spacetime itself.
                </p>

                <div class="sources">
                    <h3>Sources</h3>
                    <ul>
                        <li>Almheiri, Marolf, Polchinski, Sully (2012). "Black Holes: Complementarity or Firewalls?" - arXiv:1207.3123</li>
                        <li>AMPS+ (2013). "An Apologia for Firewalls" - arXiv:1304.6483</li>
                        <li>Maldacena, Susskind (2013). "Cool horizons for entangled black holes" (ER=EPR)</li>
                        <li>Scientific American: "Black Hole Firewalls Confound Theoretical Physicists"</li>
                        <li>Wikipedia: Firewall (physics)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        // High DPI support
        const dpr = window.devicePixelRatio || 1;
        const rect = canvas.getBoundingClientRect();
        canvas.width = rect.width * dpr;
        canvas.height = rect.height * dpr;
        ctx.scale(dpr, dpr);
        const width = rect.width;
        const height = rect.height;

        // State
        let mode = 'classical'; // classical, firewall, complement
        let time = 0;

        // Hawking particles
        let particles = [];

        // Infalling observer
        let observer = { x: width * 0.8, y: height * 0.2, alive: true };

        // Black hole
        const bhX = width * 0.35;
        const bhY = height * 0.5;
        const bhRadius = 80;
        const horizonRadius = bhRadius * 1.3;

        // Initialize Hawking particles
        function initParticles() {
            particles = [];
            for (let i = 0; i < 30; i++) {
                const angle = Math.random() * Math.PI * 2;
                const dist = horizonRadius + Math.random() * 50;
                particles.push({
                    x: bhX + Math.cos(angle) * dist,
                    y: bhY + Math.sin(angle) * dist,
                    vx: Math.cos(angle) * (0.5 + Math.random()),
                    vy: Math.sin(angle) * (0.5 + Math.random()),
                    entangled: Math.random() < 0.5, // entangled with early radiation
                    life: 1
                });
            }
        }

        // Draw black hole
        function drawBlackHole() {
            // Event horizon glow
            const glowGradient = ctx.createRadialGradient(
                bhX, bhY, bhRadius * 0.8,
                bhX, bhY, horizonRadius * 1.5
            );

            if (mode === 'firewall') {
                glowGradient.addColorStop(0, 'rgba(0, 0, 0, 1)');
                glowGradient.addColorStop(0.5, 'rgba(255, 100, 0, 0.8)');
                glowGradient.addColorStop(0.7, 'rgba(255, 200, 0, 0.5)');
                glowGradient.addColorStop(1, 'transparent');
            } else {
                glowGradient.addColorStop(0, 'rgba(0, 0, 0, 1)');
                glowGradient.addColorStop(0.7, 'rgba(50, 30, 80, 0.3)');
                glowGradient.addColorStop(1, 'transparent');
            }

            ctx.fillStyle = glowGradient;
            ctx.beginPath();
            ctx.arc(bhX, bhY, horizonRadius * 1.5, 0, Math.PI * 2);
            ctx.fill();

            // Singularity
            ctx.fillStyle = '#000';
            ctx.beginPath();
            ctx.arc(bhX, bhY, bhRadius, 0, Math.PI * 2);
            ctx.fill();

            // Firewall effect
            if (mode === 'firewall') {
                ctx.strokeStyle = `rgba(255, ${150 + Math.sin(time * 0.1) * 50}, 0, 0.8)`;
                ctx.lineWidth = 5 + Math.sin(time * 0.15) * 2;
                ctx.beginPath();
                ctx.arc(bhX, bhY, horizonRadius, 0, Math.PI * 2);
                ctx.stroke();

                // Fire particles
                for (let i = 0; i < 20; i++) {
                    const angle = (i / 20) * Math.PI * 2 + time * 0.02;
                    const flicker = Math.sin(time * 0.1 + i) * 5;
                    const fx = bhX + Math.cos(angle) * (horizonRadius + flicker);
                    const fy = bhY + Math.sin(angle) * (horizonRadius + flicker);

                    ctx.fillStyle = `rgba(255, ${100 + Math.random() * 100}, 0, ${0.5 + Math.random() * 0.5})`;
                    ctx.beginPath();
                    ctx.arc(fx, fy, 3 + Math.random() * 3, 0, Math.PI * 2);
                    ctx.fill();
                }
            } else {
                // Smooth horizon
                ctx.strokeStyle = 'rgba(100, 100, 150, 0.5)';
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.arc(bhX, bhY, horizonRadius, 0, Math.PI * 2);
                ctx.stroke();
                ctx.setLineDash([]);
            }

            // Label
            ctx.fillStyle = '#888';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Black Hole', bhX, bhY + horizonRadius + 25);

            if (mode === 'firewall') {
                ctx.fillStyle = '#ff6430';
                ctx.fillText('FIREWALL', bhX, bhY + horizonRadius + 40);
            }
        }

        // Draw Hawking radiation
        function drawHawkingRadiation() {
            particles.forEach(p => {
                // Update position
                p.x += p.vx;
                p.y += p.vy;
                p.life -= 0.003;

                // Draw particle
                if (p.life > 0) {
                    ctx.globalAlpha = p.life;

                    // Entanglement visualization
                    if (p.entangled && mode !== 'classical') {
                        // Draw entanglement line to "early radiation" (off screen)
                        ctx.strokeStyle = 'rgba(100, 200, 255, 0.3)';
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(p.x, p.y);
                        ctx.lineTo(width + 50, p.y + (Math.random() - 0.5) * 100);
                        ctx.stroke();
                    }

                    ctx.fillStyle = p.entangled ? '#64c8ff' : '#ff6464';
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, 4, 0, Math.PI * 2);
                    ctx.fill();

                    ctx.globalAlpha = 1;
                }
            });

            // Remove dead particles and add new ones
            particles = particles.filter(p => p.life > 0);
            while (particles.length < 30) {
                const angle = Math.random() * Math.PI * 2;
                const dist = horizonRadius + 5;
                particles.push({
                    x: bhX + Math.cos(angle) * dist,
                    y: bhY + Math.sin(angle) * dist,
                    vx: Math.cos(angle) * (0.5 + Math.random()),
                    vy: Math.sin(angle) * (0.5 + Math.random()),
                    entangled: Math.random() < 0.5,
                    life: 1
                });
            }
        }

        // Draw observer
        function drawObserver() {
            // Trajectory
            ctx.strokeStyle = 'rgba(150, 150, 150, 0.3)';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(width * 0.85, height * 0.1);
            ctx.quadraticCurveTo(width * 0.5, height * 0.3, bhX, bhY);
            ctx.stroke();
            ctx.setLineDash([]);

            // Observer position
            const t = (time * 0.001) % 1;
            const pathT = Math.min(t * 1.5, 1);

            // Bezier curve position
            const startX = width * 0.85, startY = height * 0.1;
            const ctrlX = width * 0.5, ctrlY = height * 0.3;
            const endX = bhX, endY = bhY;

            observer.x = Math.pow(1-pathT, 2) * startX + 2 * (1-pathT) * pathT * ctrlX + Math.pow(pathT, 2) * endX;
            observer.y = Math.pow(1-pathT, 2) * startY + 2 * (1-pathT) * pathT * ctrlY + Math.pow(pathT, 2) * endY;

            // Check if at horizon
            const distToCenter = Math.sqrt(Math.pow(observer.x - bhX, 2) + Math.pow(observer.y - bhY, 2));
            const atHorizon = distToCenter < horizonRadius + 10;

            if (mode === 'firewall' && atHorizon) {
                // Explosion effect
                for (let i = 0; i < 10; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const dist = Math.random() * 20;
                    ctx.fillStyle = `rgba(255, ${100 + Math.random() * 100}, 0, ${0.8 - dist/30})`;
                    ctx.beginPath();
                    ctx.arc(
                        observer.x + Math.cos(angle) * dist,
                        observer.y + Math.sin(angle) * dist,
                        3, 0, Math.PI * 2
                    );
                    ctx.fill();
                }

                ctx.fillStyle = '#ff6430';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('INCINERATED!', observer.x, observer.y - 30);
            } else {
                // Draw observer
                ctx.fillStyle = '#64ff64';
                ctx.beginPath();
                ctx.arc(observer.x, observer.y, 8, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = '#fff';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('üë§', observer.x, observer.y + 4);
            }

            // Label
            ctx.fillStyle = '#888';
            ctx.font = '11px Arial';
            ctx.textAlign = 'left';
            ctx.fillText('Infalling Observer', width * 0.7, height * 0.15);
        }

        // Draw early radiation indicator
        function drawEarlyRadiation() {
            ctx.fillStyle = 'rgba(100, 200, 255, 0.2)';
            ctx.fillRect(width - 60, 0, 60, height);

            ctx.fillStyle = '#64c8ff';
            ctx.font = '11px Arial';
            ctx.textAlign = 'center';
            ctx.save();
            ctx.translate(width - 20, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Early Radiation (escaped)', 0, 0);
            ctx.restore();
        }

        // Main draw
        function draw() {
            ctx.fillStyle = '#020102';
            ctx.fillRect(0, 0, width, height);

            // Title
            ctx.fillStyle = '#ff6430';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('AMPS Firewall Paradox', width/2, 25);

            drawEarlyRadiation();
            drawBlackHole();
            drawHawkingRadiation();
            drawObserver();

            // Mode-specific info
            ctx.fillStyle = '#888';
            ctx.font = '11px Arial';
            ctx.textAlign = 'left';

            if (mode === 'firewall') {
                ctx.fillText('Late radiation entangled with early ‚Üí No smooth horizon', 10, height - 10);
            } else if (mode === 'complement') {
                ctx.fillText('Black hole complementarity: Different observers see different physics', 10, height - 10);
            } else {
                ctx.fillText('Classical view: Smooth horizon, information lost?', 10, height - 10);
            }
        }

        // Update principles display
        function updatePrinciples() {
            const p1 = document.getElementById('principle1');
            const p2 = document.getElementById('principle2');
            const p3 = document.getElementById('principle3');

            p1.className = 'principle-box';
            p2.className = 'principle-box';
            p3.className = 'principle-box';

            if (mode === 'firewall') {
                p1.classList.add('active');
                p2.classList.add('active');
                p3.classList.add('violated');
            } else if (mode === 'complement') {
                p1.classList.add('active');
                p2.classList.add('violated');
                p3.classList.add('active');
            } else {
                // Classical - all seem fine but paradox lurks
                p1.classList.add('active');
                p2.classList.add('active');
                p3.classList.add('active');
            }

            const info = document.getElementById('scenarioInfo');
            if (mode === 'firewall') {
                info.textContent = 'FIREWALL: Observer destroyed at horizon. Information preserved!';
            } else if (mode === 'complement') {
                info.textContent = 'COMPLEMENTARITY: Different observers, different descriptions. (Challenged by AMPS)';
            } else {
                info.textContent = 'CLASSICAL: Smooth horizon crossing. But where does information go?';
            }
        }

        // Animation loop
        function animate() {
            time++;
            draw();
            requestAnimationFrame(animate);
        }

        // Event handlers
        document.getElementById('btnClassical').addEventListener('click', function() {
            mode = 'classical';
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            updatePrinciples();
        });

        document.getElementById('btnFirewall').addEventListener('click', function() {
            mode = 'firewall';
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            updatePrinciples();
        });

        document.getElementById('btnComplement').addEventListener('click', function() {
            mode = 'complement';
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            updatePrinciples();
        });

        // Initialize
        initParticles();
        updatePrinciples();
        animate();
    </script>
</body>
</html>
