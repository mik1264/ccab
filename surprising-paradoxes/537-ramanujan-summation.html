<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramanujan Summation: 1+2+3+... = -1/12 - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a0a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e0e0e0;
            min-height: 100vh;
            line-height: 1.6;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #f39c12;
            text-decoration: none;
            font-size: 14px;
            z-index: 100;
            padding: 8px 16px;
            background: rgba(243, 156, 18, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }

        .back-link:hover {
            background: rgba(243, 156, 18, 0.2);
        }

        header {
            text-align: center;
            padding: 70px 20px 30px;
        }

        h1 {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            margin-bottom: 10px;
        }

        .equation {
            font-size: clamp(2rem, 6vw, 4rem);
            font-weight: bold;
            background: linear-gradient(135deg, #f39c12, #e74c3c, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 20px 0;
            font-family: 'Times New Roman', serif;
        }

        .subtitle {
            font-size: 1rem;
            color: #9e9e9e;
            max-width: 700px;
            margin: 0 auto;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .step {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin: 25px 0;
            backdrop-filter: blur(10px);
        }

        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #f39c12, #e74c3c);
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            margin-right: 15px;
            font-size: 1.2rem;
        }

        .step h2 {
            display: inline;
            font-size: 1.4rem;
            color: #f39c12;
        }

        .step-content {
            margin-top: 20px;
        }

        .math-block {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 12px;
            font-family: 'Times New Roman', serif;
            font-size: 1.3rem;
            text-align: center;
            margin: 15px 0;
            overflow-x: auto;
        }

        .result {
            color: #e74c3c;
            font-weight: bold;
        }

        .highlight {
            color: #f39c12;
        }

        canvas {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        button {
            padding: 10px 25px;
            font-size: 1rem;
            background: linear-gradient(135deg, #f39c12, #e74c3c);
            border: none;
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(243, 156, 18, 0.3);
        }

        .stat-display {
            text-align: center;
            font-size: 1.5rem;
            margin: 10px 0;
            font-family: monospace;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.2), rgba(155, 89, 182, 0.2));
            border-left: 4px solid #e74c3c;
            padding: 20px;
            border-radius: 0 12px 12px 0;
            margin: 20px 0;
        }

        .warning-box h3 {
            color: #e74c3c;
            margin-bottom: 10px;
        }

        .insight-box {
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.1), rgba(155, 89, 182, 0.1));
            border-left: 4px solid #f39c12;
            padding: 20px;
            border-radius: 0 12px 12px 0;
            margin: 20px 0;
        }

        .physics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .physics-card {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(243, 156, 18, 0.3);
        }

        .physics-card h4 {
            color: #f39c12;
            margin-bottom: 10px;
        }

        .derivation {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .derivation-line {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
        }

        .derivation-label {
            min-width: 80px;
            color: #9b59b6;
            font-size: 0.9rem;
        }

        .derivation-eq {
            font-family: 'Times New Roman', serif;
            font-size: 1.1rem;
        }

        footer {
            text-align: center;
            padding: 40px 20px;
            color: #616161;
            font-size: 0.85rem;
        }

        footer a {
            color: #f39c12;
            text-decoration: none;
        }

        @media (max-width: 600px) {
            .derivation-line {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <header>
        <h1>The Ramanujan Summation</h1>
        <div class="equation">1 + 2 + 3 + 4 + ... = −1/12</div>
        <p class="subtitle">
            How can adding all positive integers give a small negative fraction?
            This "absurd" result is used in string theory and quantum physics.
            Let's explore the mathematics behind this mind-bending claim.
        </p>
    </header>

    <div class="container">
        <!-- Step 1: The Divergent Sum -->
        <div class="step">
            <span class="step-number">1</span>
            <h2>The Obvious Truth: This Sum Diverges</h2>
            <div class="step-content">
                <p>Let's be clear: if you add positive integers the normal way, the sum grows without bound.</p>
                <canvas id="divergentCanvas" width="700" height="250"></canvas>
                <div class="controls">
                    <button onclick="animateDivergent()">Watch It Grow</button>
                    <button onclick="resetDivergent()">Reset</button>
                </div>
                <div class="stat-display">
                    Partial sum S(<span id="nValue">0</span>) = <span id="partialSum">0</span>
                </div>
                <div class="warning-box">
                    <h3>Important Caveat</h3>
                    <p>The statement "1+2+3+... = -1/12" is <strong>not</strong> true in the traditional sense of infinite sums.
                    The partial sums S(n) = n(n+1)/2 grow to infinity. What we're about to explore is a different way
                    of <em>assigning a value</em> to this divergent series—a technique called <strong>regularization</strong>.</p>
                </div>
            </div>
        </div>

        <!-- Step 2: Grandi's Series -->
        <div class="step">
            <span class="step-number">2</span>
            <h2>The Grandi Series: 1 − 1 + 1 − 1 + ... = ?</h2>
            <div class="step-content">
                <p>Before tackling 1+2+3+..., let's look at a simpler paradox:</p>
                <div class="math-block">
                    G = 1 − 1 + 1 − 1 + 1 − 1 + ...
                </div>
                <canvas id="grandiCanvas" width="700" height="200"></canvas>
                <div class="stat-display" id="grandiStat">Partial sums oscillate: 1, 0, 1, 0, 1, 0, ...</div>

                <div class="derivation">
                    <div class="derivation-line">
                        <span class="derivation-label">Trick:</span>
                        <span class="derivation-eq">G = 1 − (1 − 1 + 1 − 1 + ...) = 1 − G</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Solving:</span>
                        <span class="derivation-eq">2G = 1, therefore <span class="result">G = 1/2</span></span>
                    </div>
                </div>

                <div class="insight-box">
                    <p><strong>Cesàro Summation:</strong> The average of partial sums (1, 0.5, 0.67, 0.5, 0.6, 0.5, ...)
                    converges to <strong>1/2</strong>. This is one rigorous way to assign a value to this divergent series.</p>
                </div>
            </div>
        </div>

        <!-- Step 3: Alternating Series -->
        <div class="step">
            <span class="step-number">3</span>
            <h2>The Alternating Sum: 1 − 2 + 3 − 4 + ... = 1/4</h2>
            <div class="step-content">
                <p>Now consider this alternating series:</p>
                <div class="math-block">
                    A = 1 − 2 + 3 − 4 + 5 − 6 + ...
                </div>

                <div class="derivation">
                    <div class="derivation-line">
                        <span class="derivation-label">Write A−A:</span>
                        <span class="derivation-eq">A − A = 0</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Shift A:</span>
                        <span class="derivation-eq">&nbsp;&nbsp;A = &nbsp;&nbsp;1 − 2 + 3 − 4 + 5 − ...</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label"></span>
                        <span class="derivation-eq">−A = &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;−1 + 2 − 3 + 4 − ...</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Add:</span>
                        <span class="derivation-eq">2A = 1 − 1 + 1 − 1 + 1 − ... = G = 1/2</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Result:</span>
                        <span class="derivation-eq result">A = 1/4</span>
                    </div>
                </div>

                <canvas id="alternatingCanvas" width="700" height="200"></canvas>
                <p style="text-align: center; color: #9e9e9e; margin-top: 10px;">
                    Abel summation: lim<sub>x→1⁻</sub> Σ(-1)ⁿ⁺¹n·xⁿ = <strong>1/4</strong>
                </p>
            </div>
        </div>

        <!-- Step 4: Ramanujan's Derivation -->
        <div class="step">
            <span class="step-number">4</span>
            <h2>Ramanujan's Algebraic Magic</h2>
            <div class="step-content">
                <p>Now, let S = 1 + 2 + 3 + 4 + 5 + ... (our target sum)</p>

                <div class="derivation">
                    <div class="derivation-line">
                        <span class="derivation-label">Define:</span>
                        <span class="derivation-eq">S = 1 + 2 + 3 + 4 + 5 + 6 + ...</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Compute S−A:</span>
                        <span class="derivation-eq">S = 1 + 2 + 3 + 4 + 5 + 6 + ...</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label"></span>
                        <span class="derivation-eq">A = 1 − 2 + 3 − 4 + 5 − 6 + ...</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Subtract:</span>
                        <span class="derivation-eq">S − A = 0 + 4 + 0 + 8 + 0 + 12 + ... = 4(1 + 2 + 3 + ...) = 4S</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Solve:</span>
                        <span class="derivation-eq">S − A = 4S → −A = 3S → S = −A/3</span>
                    </div>
                    <div class="derivation-line">
                        <span class="derivation-label">Using A=1/4:</span>
                        <span class="derivation-eq result" style="font-size: 1.4rem;">S = −(1/4)/3 = −1/12</span>
                    </div>
                </div>

                <canvas id="resultCanvas" width="700" height="200"></canvas>
            </div>
        </div>

        <!-- Step 5: Riemann Zeta Function -->
        <div class="step">
            <span class="step-number">5</span>
            <h2>The Rigorous Foundation: Riemann Zeta Function</h2>
            <div class="step-content">
                <p>The mathematically rigorous explanation uses <strong>analytic continuation</strong>:</p>

                <div class="math-block">
                    ζ(s) = 1 + 1/2<sup>s</sup> + 1/3<sup>s</sup> + 1/4<sup>s</sup> + ... &nbsp; (converges for Re(s) > 1)
                </div>

                <canvas id="zetaCanvas" width="700" height="280"></canvas>
                <div class="controls">
                    <button onclick="animateZeta()">Trace ζ(s) to s = −1</button>
                </div>

                <div class="insight-box">
                    <p>The zeta function can be <em>analytically continued</em> to all complex numbers except s=1.
                    When we evaluate at s = −1:</p>
                    <div class="math-block">
                        ζ(−1) = <span class="result">−1/12</span>
                    </div>
                    <p>This is NOT the same as saying the series converges to −1/12. Rather, it's the unique
                    analytic continuation of the function defined by that series.</p>
                </div>
            </div>
        </div>

        <!-- Step 6: Physical Applications -->
        <div class="step">
            <span class="step-number">6</span>
            <h2>Why Physicists Care: Real-World Applications</h2>
            <div class="step-content">
                <p>This "absurd" result appears in actual physics calculations:</p>

                <div class="physics-grid">
                    <div class="physics-card">
                        <h4>The Casimir Effect</h4>
                        <p>When calculating the vacuum energy between two metal plates,
                        the sum 1+2+3+... appears. Using −1/12 gives predictions that
                        <strong>match experiments precisely</strong>!</p>
                    </div>
                    <div class="physics-card">
                        <h4>String Theory</h4>
                        <p>The bosonic string only works consistently in <strong>26 dimensions</strong>.
                        This number comes directly from regularizing 1+2+3+... to −1/12.
                        The calculation: 1 − 26·(−1/12) = 1 + 26/12 = 0 (required for consistency).</p>
                    </div>
                    <div class="physics-card">
                        <h4>Quantum Field Theory</h4>
                        <p>Renormalization often requires assigning finite values to
                        divergent sums. Zeta regularization (using ζ(−1) = −1/12)
                        is one standard technique.</p>
                    </div>
                    <div class="physics-card">
                        <h4>The Takeaway</h4>
                        <p>−1/12 is not what the series "sums to" in ordinary terms.
                        It's a <em>meaningful value</em> that can be consistently associated
                        with the divergent series—and nature seems to agree.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="warning-box" style="background: linear-gradient(135deg, rgba(155, 89, 182, 0.2), rgba(243, 156, 18, 0.2)); border-left-color: #9b59b6;">
            <h3>The Deep Truth</h3>
            <p>"The sum of all positive integers equals −1/12" is a provocative statement that captures attention,
            but it requires careful interpretation. The series 1+2+3+... <strong>does not converge</strong> in any
            traditional sense. However, through techniques like analytic continuation and zeta regularization,
            we can assign it the value −1/12 in a consistent, useful way—one that even predicts correct physics!</p>
            <p style="margin-top: 15px; font-style: italic; color: #ce93d8;">
                "Sometimes in mathematics and physics, the 'wrong' answer turns out to be profoundly right."
            </p>
        </div>
    </div>

    <footer>
        <p>Part of <a href="index.html">Surprising Paradoxes</a> |
           Named after Srinivasa Ramanujan (1887-1920), the self-taught mathematical genius</p>
    </footer>

    <script>
        // Canvas 1: Divergent sum animation
        const divCanvas = document.getElementById('divergentCanvas');
        const divCtx = divCanvas.getContext('2d');
        let divN = 0;
        let divAnimating = false;

        function drawDivergent() {
            const width = divCanvas.width;
            const height = divCanvas.height;
            divCtx.clearRect(0, 0, width, height);

            // Draw axes
            divCtx.strokeStyle = '#444';
            divCtx.lineWidth = 1;
            divCtx.beginPath();
            divCtx.moveTo(50, 30);
            divCtx.lineTo(50, height - 30);
            divCtx.lineTo(width - 30, height - 30);
            divCtx.stroke();

            // Draw partial sums
            const maxN = Math.max(divN, 10);
            const maxSum = maxN * (maxN + 1) / 2;
            const xScale = (width - 100) / maxN;
            const yScale = (height - 80) / maxSum;

            divCtx.beginPath();
            divCtx.strokeStyle = '#f39c12';
            divCtx.lineWidth = 2;

            for (let i = 1; i <= divN; i++) {
                const sum = i * (i + 1) / 2;
                const x = 50 + i * xScale;
                const y = height - 30 - sum * yScale;
                if (i === 1) {
                    divCtx.moveTo(x, y);
                } else {
                    divCtx.lineTo(x, y);
                }
            }
            divCtx.stroke();

            // Draw points
            divCtx.fillStyle = '#e74c3c';
            for (let i = 1; i <= divN; i++) {
                const sum = i * (i + 1) / 2;
                const x = 50 + i * xScale;
                const y = height - 30 - sum * yScale;
                divCtx.beginPath();
                divCtx.arc(x, y, 4, 0, Math.PI * 2);
                divCtx.fill();
            }

            // Labels
            divCtx.fillStyle = '#888';
            divCtx.font = '12px sans-serif';
            divCtx.textAlign = 'center';
            divCtx.fillText('n', width - 20, height - 25);
            divCtx.fillText('S(n)', 30, 25);

            // Update display
            const sum = divN > 0 ? divN * (divN + 1) / 2 : 0;
            document.getElementById('nValue').textContent = divN;
            document.getElementById('partialSum').textContent = sum.toLocaleString();
        }

        function animateDivergent() {
            if (divAnimating) return;
            divAnimating = true;

            function step() {
                if (divN < 50) {
                    divN++;
                    drawDivergent();
                    setTimeout(step, 100);
                } else {
                    divAnimating = false;
                }
            }
            step();
        }

        function resetDivergent() {
            divAnimating = false;
            divN = 0;
            drawDivergent();
        }

        // Canvas 2: Grandi series
        const grandiCanvas = document.getElementById('grandiCanvas');
        const grandiCtx = grandiCanvas.getContext('2d');

        function drawGrandi() {
            const width = grandiCanvas.width;
            const height = grandiCanvas.height;
            grandiCtx.clearRect(0, 0, width, height);

            const n = 20;
            const xScale = (width - 100) / n;
            const centerY = height / 2;

            // Draw 0 and 1 lines
            grandiCtx.strokeStyle = '#444';
            grandiCtx.setLineDash([5, 5]);
            grandiCtx.beginPath();
            grandiCtx.moveTo(50, centerY + 40);
            grandiCtx.lineTo(width - 30, centerY + 40);
            grandiCtx.moveTo(50, centerY - 40);
            grandiCtx.lineTo(width - 30, centerY - 40);
            grandiCtx.stroke();
            grandiCtx.setLineDash([]);

            // Draw 1/2 line
            grandiCtx.strokeStyle = '#e74c3c';
            grandiCtx.lineWidth = 2;
            grandiCtx.beginPath();
            grandiCtx.moveTo(50, centerY);
            grandiCtx.lineTo(width - 30, centerY);
            grandiCtx.stroke();

            // Labels
            grandiCtx.fillStyle = '#888';
            grandiCtx.font = '12px sans-serif';
            grandiCtx.fillText('0', 35, centerY + 44);
            grandiCtx.fillText('1', 35, centerY - 36);
            grandiCtx.fillStyle = '#e74c3c';
            grandiCtx.fillText('1/2', 30, centerY + 4);

            // Draw oscillating partial sums
            grandiCtx.beginPath();
            grandiCtx.strokeStyle = '#f39c12';
            grandiCtx.lineWidth = 2;

            let sum = 0;
            for (let i = 1; i <= n; i++) {
                sum += (i % 2 === 1) ? 1 : -1;
                const x = 50 + i * xScale;
                const y = centerY - (sum - 0.5) * 80;
                if (i === 1) {
                    grandiCtx.moveTo(x, y);
                } else {
                    grandiCtx.lineTo(x, y);
                }
            }
            grandiCtx.stroke();

            // Points
            sum = 0;
            grandiCtx.fillStyle = '#9b59b6';
            for (let i = 1; i <= n; i++) {
                sum += (i % 2 === 1) ? 1 : -1;
                const x = 50 + i * xScale;
                const y = centerY - (sum - 0.5) * 80;
                grandiCtx.beginPath();
                grandiCtx.arc(x, y, 5, 0, Math.PI * 2);
                grandiCtx.fill();
            }
        }

        // Canvas 3: Alternating series
        const altCanvas = document.getElementById('alternatingCanvas');
        const altCtx = altCanvas.getContext('2d');

        function drawAlternating() {
            const width = altCanvas.width;
            const height = altCanvas.height;
            altCtx.clearRect(0, 0, width, height);

            const n = 20;
            const xScale = (width - 100) / n;
            const centerY = height / 2 + 30;

            // Draw 1/4 line
            altCtx.strokeStyle = '#e74c3c';
            altCtx.lineWidth = 2;
            altCtx.beginPath();
            const y14 = centerY - 0.25 * 150;
            altCtx.moveTo(50, y14);
            altCtx.lineTo(width - 30, y14);
            altCtx.stroke();

            // Label
            altCtx.fillStyle = '#e74c3c';
            altCtx.font = '12px sans-serif';
            altCtx.fillText('1/4', 30, y14 + 4);

            // Draw partial sums of 1-2+3-4+...
            altCtx.beginPath();
            altCtx.strokeStyle = '#f39c12';
            altCtx.lineWidth = 2;

            let sum = 0;
            for (let i = 1; i <= n; i++) {
                sum += (i % 2 === 1) ? i : -i;
                const x = 50 + i * xScale;
                const y = centerY - sum * 15;
                if (i === 1) {
                    altCtx.moveTo(x, y);
                } else {
                    altCtx.lineTo(x, y);
                }
            }
            altCtx.stroke();

            // Points
            sum = 0;
            altCtx.fillStyle = '#9b59b6';
            for (let i = 1; i <= n; i++) {
                sum += (i % 2 === 1) ? i : -i;
                const x = 50 + i * xScale;
                const y = centerY - sum * 15;
                altCtx.beginPath();
                altCtx.arc(x, y, 4, 0, Math.PI * 2);
                altCtx.fill();
            }
        }

        // Canvas 4: Result visualization
        const resultCanvas = document.getElementById('resultCanvas');
        const resultCtx = resultCanvas.getContext('2d');

        function drawResult() {
            const width = resultCanvas.width;
            const height = resultCanvas.height;
            resultCtx.clearRect(0, 0, width, height);

            const centerX = width / 2;
            const centerY = height / 2;

            // Draw the "equation" visually
            resultCtx.font = 'bold 28px Times New Roman';
            resultCtx.textAlign = 'center';

            // 1+2+3+... growing
            const gradient = resultCtx.createLinearGradient(100, 0, 350, 0);
            gradient.addColorStop(0, '#f39c12');
            gradient.addColorStop(1, '#e74c3c');
            resultCtx.fillStyle = gradient;
            resultCtx.fillText('1 + 2 + 3 + 4 + ...', 200, centerY);

            // Equals sign
            resultCtx.fillStyle = '#fff';
            resultCtx.fillText('=', centerX, centerY);

            // -1/12
            resultCtx.font = 'bold 48px Times New Roman';
            const gradient2 = resultCtx.createLinearGradient(450, 0, 600, 0);
            gradient2.addColorStop(0, '#e74c3c');
            gradient2.addColorStop(1, '#9b59b6');
            resultCtx.fillStyle = gradient2;
            resultCtx.fillText('−1/12', 530, centerY + 10);

            // Subtitle
            resultCtx.font = '14px sans-serif';
            resultCtx.fillStyle = '#888';
            resultCtx.fillText('(via Ramanujan summation / zeta regularization)', centerX, centerY + 50);
        }

        // Canvas 5: Zeta function
        const zetaCanvas = document.getElementById('zetaCanvas');
        const zetaCtx = zetaCanvas.getContext('2d');
        let zetaAnimating = false;
        let zetaProgress = 0;

        function drawZeta(progress = 1) {
            const width = zetaCanvas.width;
            const height = zetaCanvas.height;
            zetaCtx.clearRect(0, 0, width, height);

            const centerX = width / 2;
            const originX = centerX + 50;
            const originY = height / 2 + 20;
            const scale = 40;

            // Draw axes
            zetaCtx.strokeStyle = '#444';
            zetaCtx.lineWidth = 1;
            zetaCtx.beginPath();
            zetaCtx.moveTo(50, originY);
            zetaCtx.lineTo(width - 30, originY);
            zetaCtx.moveTo(originX, 30);
            zetaCtx.lineTo(originX, height - 30);
            zetaCtx.stroke();

            // Labels
            zetaCtx.fillStyle = '#888';
            zetaCtx.font = '12px sans-serif';
            zetaCtx.textAlign = 'center';
            zetaCtx.fillText('Re(s)', width - 50, originY - 10);
            zetaCtx.fillText('ζ(s)', originX + 20, 40);

            // Mark important points
            zetaCtx.fillStyle = '#666';
            zetaCtx.fillText('s=1', originX + scale, originY + 20);
            zetaCtx.fillText('s=-1', originX - 2*scale, originY + 20);
            zetaCtx.fillText('s=2', originX + 2*scale, originY + 20);

            // Draw convergence region (Re(s) > 1)
            zetaCtx.fillStyle = 'rgba(243, 156, 18, 0.1)';
            zetaCtx.fillRect(originX + scale, 30, width - originX - scale - 30, height - 60);
            zetaCtx.fillStyle = '#f39c12';
            zetaCtx.font = '11px sans-serif';
            zetaCtx.fillText('Series converges', originX + 3*scale, 50);

            // Draw zeta function curve (simplified real part)
            const points = [];
            for (let s = -2; s <= 3; s += 0.05) {
                if (Math.abs(s - 1) < 0.1) continue; // pole at s=1
                let zeta;
                if (s > 1) {
                    // Approximate zeta for s > 1
                    zeta = 1 + 1/Math.pow(2, s) + 1/Math.pow(3, s) + 1/Math.pow(4, s);
                } else if (s > 0) {
                    // Transition region
                    zeta = 1 / (s - 1) + 0.5; // rough approximation near pole
                } else {
                    // Negative integers: use known values
                    zeta = -s / 12 - 0.1; // very rough, just for visualization
                    if (Math.abs(s - (-1)) < 0.1) zeta = -1/12;
                }
                points.push({ s, zeta: Math.max(-2, Math.min(3, zeta)) });
            }

            // Draw curve up to progress
            const drawCount = Math.floor(points.length * progress);
            if (drawCount > 1) {
                zetaCtx.beginPath();
                zetaCtx.strokeStyle = '#9b59b6';
                zetaCtx.lineWidth = 3;

                for (let i = 0; i < drawCount; i++) {
                    const x = originX + points[i].s * scale;
                    const y = originY - points[i].zeta * scale;
                    if (i === 0) {
                        zetaCtx.moveTo(x, y);
                    } else {
                        zetaCtx.lineTo(x, y);
                    }
                }
                zetaCtx.stroke();
            }

            // Highlight ζ(-1) = -1/12
            if (progress > 0.3) {
                const x = originX - 1 * scale;
                const y = originY + (1/12) * scale;

                zetaCtx.beginPath();
                zetaCtx.arc(x, y, 8, 0, Math.PI * 2);
                zetaCtx.fillStyle = '#e74c3c';
                zetaCtx.fill();

                zetaCtx.fillStyle = '#e74c3c';
                zetaCtx.font = 'bold 14px sans-serif';
                zetaCtx.fillText('ζ(-1) = -1/12', x, y - 20);
            }
        }

        function animateZeta() {
            if (zetaAnimating) return;
            zetaAnimating = true;
            zetaProgress = 0;

            function step() {
                if (zetaProgress < 1) {
                    zetaProgress += 0.02;
                    drawZeta(zetaProgress);
                    requestAnimationFrame(step);
                } else {
                    zetaAnimating = false;
                }
            }
            step();
        }

        // Initial draws
        drawDivergent();
        drawGrandi();
        drawAlternating();
        drawResult();
        drawZeta(1);
    </script>
</body>
</html>
