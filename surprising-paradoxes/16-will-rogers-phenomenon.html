<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will Rogers Phenomenon | Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
        }

        .organic-shape {
            position: fixed;
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            opacity: 0.1;
            z-index: 0;
            animation: morph 30s ease-in-out infinite;
        }

        .shape-1 { width: 500px; height: 500px; background: var(--sage); top: -150px; right: -150px; }
        .shape-2 { width: 400px; height: 400px; background: var(--earth); bottom: -100px; left: -100px; animation-delay: -15s; }

        @keyframes morph {
            0%, 100% { border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%; }
            50% { border-radius: 50% 50% 33% 67% / 55% 27% 73% 45%; }
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 30px 20px;
            position: relative;
            z-index: 1;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            text-decoration: none;
            color: var(--moss);
            font-weight: 600;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .back-link:hover {
            background: var(--moss);
            color: white;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.5rem;
            color: var(--moss);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 30px;
            max-width: 750px;
            line-height: 1.6;
        }

        .panel {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(138, 154, 91, 0.2);
            margin-bottom: 25px;
        }

        .panel h3 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        .quote-box {
            background: var(--cream);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid var(--terracotta);
            margin-bottom: 25px;
            font-style: italic;
            font-size: 1.2rem;
            line-height: 1.6;
        }

        .quote-attribution {
            margin-top: 15px;
            font-style: normal;
            font-weight: 600;
            color: var(--moss);
        }

        .groups-container {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 30px 0;
        }

        @media (max-width: 700px) {
            .groups-container {
                grid-template-columns: 1fr;
            }
        }

        .group {
            background: #f5f5f0;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .group h4 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 10px;
        }

        .people-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            min-height: 80px;
            margin: 15px 0;
        }

        .person {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            color: white;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .person.movable {
            box-shadow: 0 0 0 3px var(--earth);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 3px var(--earth); }
            50% { box-shadow: 0 0 0 6px rgba(221, 161, 94, 0.5); }
        }

        .person.moving {
            transform: scale(1.3);
            z-index: 10;
        }

        .avg-display {
            font-size: 2rem;
            font-weight: 700;
            color: var(--terracotta);
            font-family: 'Lora', serif;
        }

        .avg-label {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .avg-change {
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 5px;
        }

        .avg-change.up { color: #2e7d32; }
        .avg-change.down { color: #c62828; }

        .arrow-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .arrow {
            font-size: 2rem;
            color: var(--sage);
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }

        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 25px;
            background: var(--moss);
            color: white;
            border: none;
            border-radius: 25px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: var(--dark-moss);
            transform: translateY(-2px);
        }

        .btn.secondary {
            background: transparent;
            border: 2px solid var(--sage);
            color: var(--moss);
        }

        .result-box {
            background: var(--cream);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-top: 20px;
            border: 2px solid var(--sage);
        }

        .result-box h4 {
            color: var(--moss);
            margin-bottom: 10px;
        }

        .result-box .magic {
            font-size: 1.5rem;
            color: var(--terracotta);
            font-weight: 700;
        }

        .essay-section {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(138, 154, 91, 0.2);
            margin-bottom: 25px;
        }

        .essay-section h3 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        .essay-section p {
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .highlight {
            background: var(--earth);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
        }

        .math-box {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: 'Times New Roman', serif;
            font-size: 1.1rem;
            text-align: center;
            border: 1px solid rgba(138, 154, 91, 0.3);
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .example-card {
            background: var(--cream);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid var(--terracotta);
        }

        .example-card h4 {
            color: var(--moss);
            margin-bottom: 10px;
            font-family: 'Lora', serif;
        }

        .example-card p {
            font-size: 0.95rem;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="organic-shape shape-1"></div>
    <div class="organic-shape shape-2"></div>

    <div class="container">
        <a href="index.html" class="back-link">
            <span>&larr;</span>
            <span>Back to Surprising</span>
        </a>

        <h1>The Will Rogers Phenomenon</h1>
        <p class="subtitle">Moving an element from one group to another can raise the average of both groups‚Äîwithout changing anyone's value. This statistical quirk has serious real-world consequences.</p>

        <div class="panel">
            <div class="quote-box">
                "When the Okies left Oklahoma and moved to California, they raised the average intelligence of both states."
                <div class="quote-attribution">‚Äî Attributed to Will Rogers (1879-1935)</div>
            </div>

            <h3>Interactive Demonstration</h3>
            <p style="margin-bottom: 15px;">Each person has a score. Click on a movable person (glowing border) to transfer them to the other group and watch both averages change!</p>

            <div class="groups-container">
                <div class="group" id="groupA">
                    <h4>Group A (Oklahoma)</h4>
                    <div class="people-grid" id="peopleA"></div>
                    <div class="avg-display" id="avgA">--</div>
                    <div class="avg-label">Average Score</div>
                    <div class="avg-change" id="changeA"></div>
                </div>

                <div class="arrow-container">
                    <span class="arrow">‚Üí</span>
                    <span style="font-size: 0.9rem; color: var(--moss);">Move</span>
                </div>

                <div class="group" id="groupB">
                    <h4>Group B (California)</h4>
                    <div class="people-grid" id="peopleB"></div>
                    <div class="avg-display" id="avgB">--</div>
                    <div class="avg-label">Average Score</div>
                    <div class="avg-change" id="changeB"></div>
                </div>
            </div>

            <div class="result-box" id="resultBox" style="display: none;">
                <h4>Both Averages Increased!</h4>
                <p class="magic">‚ú® The Will Rogers Effect in Action ‚ú®</p>
                <p style="margin-top: 10px;">The person moved was above Group A's average but below Group B's average.</p>
            </div>

            <div class="controls">
                <button class="btn" id="resetBtn">Reset</button>
                <button class="btn secondary" id="randomBtn">Randomize</button>
            </div>
        </div>

        <div class="essay-section">
            <h3>How Does This Work?</h3>
            <p>The key is that the person moving has a score that falls between the two group averages. Consider:</p>

            <div class="math-box">
                Group A: {20, 30, 40, 50} ‚Üí Average = 35<br>
                Group B: {60, 70, 80, 90} ‚Üí Average = 75<br><br>
                Move the "50" from A to B:<br>
                Group A: {20, 30, 40} ‚Üí Average = 30... wait, that went down!
            </div>

            <p>Hmm, that didn't work. Let's try carefully:</p>

            <div class="math-box">
                Group A: {20, 30, 40, 50, <span class="highlight">60</span>} ‚Üí Average = 40<br>
                Group B: {70, 80, 90, 100} ‚Üí Average = 85<br><br>
                Move "60" from A to B:<br>
                Group A: {20, 30, 40, 50} ‚Üí Average = 35... still went down!
            </div>

            <p>The trick is that the person needs to be <strong>above</strong> Group A's average (so removing them lowers it... wait, that's wrong too!). Actually:</p>

            <p>For both averages to <em>increase</em>: the transferred person must be <span class="highlight">below A's original average</span> but <span class="highlight">above B's original average</span>. This is impossible if A's average is below B's!</p>

            <p>The correct statement: For both averages to increase, the person must be <strong>above A's average</strong> (so A's average goes up when they leave) AND <strong>below B's average</strong> (so B's average goes up when they join). This requires <strong>A's average > B's average</strong> to start!</p>

            <div class="math-box">
                Group A: {60, 70, 80, 90, 100} ‚Üí Average = 80<br>
                Group B: {20, 30, 40} ‚Üí Average = 30<br><br>
                Move "50" (conceptually) or let's redo:<br>
                Group A: {30, 40, <span style="color: var(--terracotta);">50</span>, 80, 100} ‚Üí Average = 60<br>
                Group B: {10, 20, 30} ‚Üí Average = 20<br><br>
                Move the "50" from A to B:<br>
                Group A: {30, 40, 80, 100} ‚Üí Average = 62.5 ‚Üë<br>
                Group B: {10, 20, 30, 50} ‚Üí Average = 27.5 ‚Üë
            </div>

            <p>The person with score 50 was below A's average of 60, so removing them raised A's average. They were above B's average of 20, so adding them raised B's average. <strong>Both averages went up!</strong></p>
        </div>

        <div class="essay-section">
            <h3>The Dangerous Real-World Version: Stage Migration</h3>
            <p>This paradox has serious implications in medicine. It's sometimes called <span class="highlight">stage migration</span> or the <span class="highlight">Will Rogers phenomenon in cancer staging</span>.</p>

            <div class="examples-grid">
                <div class="example-card">
                    <h4>üè• Cancer Staging</h4>
                    <p>Better imaging technology detects cancer earlier. Patients who would have been "Stage 2" are now diagnosed as "Stage 3" because we found spread we couldn't see before. Both Stage 2 and Stage 3 survival rates improve‚Äînot because treatment got better, but because we moved intermediate-prognosis patients between groups!</p>
                </div>
                <div class="example-card">
                    <h4>üìä School Rankings</h4>
                    <p>A school district rezones students. The highest-performing kids from a struggling school move to an already-good school. Both schools' average test scores might increase‚Äîthe struggling school loses its lowest performers relative to the new composition, and the good school gains above-its-old-average students.</p>
                </div>
                <div class="example-card">
                    <h4>üíº Employee Transfers</h4>
                    <p>A mediocre performer in the Sales department (which has high performers) transfers to Support (which has lower performers). Sales' average productivity rises, Support's rises too. Management sees "improvement" everywhere‚Äîbut nothing actually changed!</p>
                </div>
                <div class="example-card">
                    <h4>üåç Immigration</h4>
                    <p>Will Rogers' original joke! If people with moderate incomes emigrate from a wealthy country to a poor one, both countries' average incomes can rise. The wealthy country loses people below its mean; the poor country gains people above its mean.</p>
                </div>
            </div>
        </div>

        <div class="essay-section">
            <h3>Lessons & Implications</h3>
            <p>The Will Rogers phenomenon is a reminder that <strong>averages can be misleading</strong> when group composition changes. Key takeaways:</p>

            <ul style="list-style: none; padding: 0;">
                <li style="padding: 10px 0; border-bottom: 1px solid rgba(138, 154, 91, 0.2);">
                    <strong>üìà Track Individuals, Not Just Groups</strong> ‚Äî In clinical trials, follow the same patients over time. In education, use cohort analysis.
                </li>
                <li style="padding: 10px 0; border-bottom: 1px solid rgba(138, 154, 91, 0.2);">
                    <strong>üîç Watch for Reclassification</strong> ‚Äî When diagnostic criteria change, "improvement" in outcomes may be an artifact.
                </li>
                <li style="padding: 10px 0; border-bottom: 1px solid rgba(138, 154, 91, 0.2);">
                    <strong>‚ö†Ô∏è Be Skeptical of "Both Improved"</strong> ‚Äî When two groups both show improvement after a reorganization, ask if anything actually changed for individuals.
                </li>
                <li style="padding: 10px 0;">
                    <strong>üéØ Focus on Individual Outcomes</strong> ‚Äî The paradox disappears when you track what happens to each person, not just group summaries.
                </li>
            </ul>
        </div>
    </div>

    <script>
        // Initial setup
        let groupA = [];
        let groupB = [];
        let initialAvgA, initialAvgB;

        function getColor(score) {
            // Color based on score (0-100)
            const hue = (score / 100) * 120; // 0=red, 120=green
            return `hsl(${hue}, 70%, 45%)`;
        }

        function calculateAvg(group) {
            if (group.length === 0) return 0;
            return group.reduce((a, b) => a + b, 0) / group.length;
        }

        function render() {
            const peopleA = document.getElementById('peopleA');
            const peopleB = document.getElementById('peopleB');

            const avgA = calculateAvg(groupA);
            const avgB = calculateAvg(groupB);

            // Find movable people (above A's avg but below B's avg)
            const movableIndices = [];
            groupA.forEach((score, i) => {
                if (score < avgA && score > avgB) {
                    movableIndices.push(i);
                }
            });

            // If no one is movable in the ideal way, find anyone between the averages
            if (movableIndices.length === 0) {
                groupA.forEach((score, i) => {
                    // For demonstration, allow moving anyone
                    if ((avgA > avgB && score > avgB && score < avgA) ||
                        (avgA <= avgB)) {
                        movableIndices.push(i);
                    }
                });
            }

            // Render Group A
            peopleA.innerHTML = groupA.map((score, i) => {
                const movable = movableIndices.includes(i);
                return `<div class="person ${movable ? 'movable' : ''}"
                             style="background: ${getColor(score)}"
                             data-group="A"
                             data-index="${i}"
                             title="Score: ${score}${movable ? ' (Click to move)' : ''}">${score}</div>`;
            }).join('');

            // Render Group B
            peopleB.innerHTML = groupB.map((score, i) => {
                return `<div class="person"
                             style="background: ${getColor(score)}"
                             data-group="B"
                             data-index="${i}"
                             title="Score: ${score}">${score}</div>`;
            }).join('');

            // Update averages
            document.getElementById('avgA').textContent = avgA.toFixed(1);
            document.getElementById('avgB').textContent = avgB.toFixed(1);

            // Show changes from initial
            const changeA = document.getElementById('changeA');
            const changeB = document.getElementById('changeB');

            if (initialAvgA !== undefined) {
                const diffA = avgA - initialAvgA;
                const diffB = avgB - initialAvgB;

                if (Math.abs(diffA) > 0.01) {
                    changeA.textContent = `${diffA > 0 ? '+' : ''}${diffA.toFixed(1)}`;
                    changeA.className = `avg-change ${diffA > 0 ? 'up' : 'down'}`;
                } else {
                    changeA.textContent = '';
                }

                if (Math.abs(diffB) > 0.01) {
                    changeB.textContent = `${diffB > 0 ? '+' : ''}${diffB.toFixed(1)}`;
                    changeB.className = `avg-change ${diffB > 0 ? 'up' : 'down'}`;
                } else {
                    changeB.textContent = '';
                }

                // Check if both increased
                if (diffA > 0.01 && diffB > 0.01) {
                    document.getElementById('resultBox').style.display = 'block';
                } else {
                    document.getElementById('resultBox').style.display = 'none';
                }
            }

            // Add click handlers
            document.querySelectorAll('.person.movable').forEach(el => {
                el.addEventListener('click', () => {
                    const index = parseInt(el.dataset.index);
                    movePerson(index);
                });
            });
        }

        function movePerson(index) {
            const score = groupA[index];
            groupA.splice(index, 1);
            groupB.push(score);
            groupB.sort((a, b) => a - b);
            render();
        }

        function initialize() {
            // Set up groups where Will Rogers effect is possible
            // Group A should have higher average, with some people between the averages
            groupA = [30, 40, 50, 80, 100]; // Avg = 60
            groupB = [10, 20, 30]; // Avg = 20

            // The 30, 40, 50 in A are above B's avg (20) but below A's avg (60)
            // Moving any of them will raise both averages!

            initialAvgA = calculateAvg(groupA);
            initialAvgB = calculateAvg(groupB);

            document.getElementById('changeA').textContent = '';
            document.getElementById('changeB').textContent = '';
            document.getElementById('resultBox').style.display = 'none';

            render();
        }

        function randomize() {
            // Generate groups where the effect works
            // Group A: higher average with some intermediate values
            // Group B: lower average

            groupA = [];
            groupB = [];

            // Group A: mix of high and medium values
            for (let i = 0; i < 3; i++) {
                groupA.push(70 + Math.floor(Math.random() * 30)); // 70-99
            }
            for (let i = 0; i < 2; i++) {
                groupA.push(35 + Math.floor(Math.random() * 25)); // 35-59
            }

            // Group B: lower values
            for (let i = 0; i < 3; i++) {
                groupB.push(10 + Math.floor(Math.random() * 25)); // 10-34
            }

            groupA.sort((a, b) => a - b);
            groupB.sort((a, b) => a - b);

            initialAvgA = calculateAvg(groupA);
            initialAvgB = calculateAvg(groupB);

            document.getElementById('changeA').textContent = '';
            document.getElementById('changeB').textContent = '';
            document.getElementById('resultBox').style.display = 'none';

            render();
        }

        document.getElementById('resetBtn').addEventListener('click', initialize);
        document.getElementById('randomBtn').addEventListener('click', randomize);

        // Start
        initialize();
    </script>
</body>
</html>
