<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Jevons Paradox - When Efficiency Backfires</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a0a 0%, #2a2a1a 50%, #1a2a1a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.4em;
            background: linear-gradient(135deg, #ffaa00, #ff6600, #ff0066);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.3em;
            color: #aaa;
            font-style: italic;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #ffaa00;
            text-decoration: none;
            font-size: 1.1em;
            z-index: 100;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: #ff6600;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        @media (max-width: 1000px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(30, 30, 20, 0.9);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 170, 0, 0.2);
        }

        .panel h2 {
            color: #ffaa00;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .panel h3 {
            color: #ff8844;
            margin: 15px 0 10px 0;
            font-size: 1.1em;
        }

        .canvas-container {
            position: relative;
            background: #111;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #333;
        }

        canvas {
            display: block;
            width: 100%;
        }

        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        button {
            padding: 12px 25px;
            font-size: 1em;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ffaa00, #ff6600);
            color: #000;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 170, 0, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #555, #333);
            color: #fff;
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 8px;
            color: #aaa;
        }

        .slider-container input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #333;
            outline: none;
            -webkit-appearance: none;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffaa00, #ff6600);
            cursor: pointer;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .stat-box {
            background: rgba(0,0,0,0.4);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-box .value {
            font-size: 1.6em;
            font-weight: bold;
        }

        .stat-box .label {
            font-size: 0.8em;
            color: #888;
            margin-top: 5px;
        }

        .stat-box.efficiency .value { color: #00ff88; }
        .stat-box.consumption .value { color: #ff4444; }
        .stat-box.rebound .value { color: #ffaa00; }

        .paradox-box {
            background: linear-gradient(135deg, rgba(255, 100, 0, 0.1), rgba(255, 170, 0, 0.1));
            border: 1px solid rgba(255, 170, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .paradox-box h3 {
            color: #ff6600;
            margin-bottom: 10px;
        }

        .explanation {
            line-height: 1.8;
            color: #ccc;
        }

        .explanation p {
            margin-bottom: 15px;
        }

        .highlight {
            background: rgba(255, 170, 0, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            color: #ffaa00;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .example-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        @media (max-width: 800px) {
            .example-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .example-card {
            background: rgba(0,0,0,0.4);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .example-card:hover {
            border-color: #ffaa00;
        }

        .example-card.active {
            border-color: #ff6600;
            background: rgba(255, 100, 0, 0.2);
        }

        .example-card .icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .example-card h4 {
            color: #ffaa00;
            font-size: 0.95em;
            margin-bottom: 5px;
        }

        .example-card p {
            font-size: 0.8em;
            color: #888;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
            margin: 20px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #ffaa00;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 20px;
            width: 10px;
            height: 10px;
            background: #ffaa00;
            border-radius: 50%;
        }

        .timeline-item .year {
            color: #ffaa00;
            font-weight: bold;
            font-size: 1.1em;
        }

        .source-link {
            color: #ffaa00;
            text-decoration: none;
        }

        .source-link:hover {
            text-decoration: underline;
        }

        .formula-box {
            background: rgba(0,0,0,0.5);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 15px 0;
            font-family: 'Times New Roman', serif;
            font-size: 1.2em;
        }

        .formula-box .main-formula {
            color: #ffaa00;
            font-size: 1.4em;
            margin-bottom: 10px;
        }

        .policy-box {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 200, 100, 0.1));
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .policy-box h3 {
            color: #00ff88;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>The Jevons Paradox</h1>
            <p class="subtitle">When efficiency improvements INCREASE total consumption</p>
        </header>

        <div class="main-grid">
            <!-- Main Simulation -->
            <div class="panel">
                <h2>The Efficiency Trap</h2>

                <div class="canvas-container">
                    <canvas id="mainChart" width="600" height="300"></canvas>
                </div>

                <div class="chart-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #00ff88;"></div>
                        <span>Efficiency</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ff4444;"></div>
                        <span>Total Consumption</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffaa00;"></div>
                        <span>Expected (naive)</span>
                    </div>
                </div>

                <div class="slider-container">
                    <label>Efficiency Improvement: <span id="efficiencyValue">50%</span></label>
                    <input type="range" id="efficiencySlider" min="10" max="90" value="50">
                </div>

                <div class="slider-container">
                    <label>Price Elasticity: <span id="elasticityValue">-1.5</span> (how much demand rises when price falls)</label>
                    <input type="range" id="elasticitySlider" min="5" max="30" value="15">
                </div>

                <div class="stats-grid">
                    <div class="stat-box efficiency">
                        <div class="value" id="effStat">50%</div>
                        <div class="label">More Efficient</div>
                    </div>
                    <div class="stat-box consumption">
                        <div class="value" id="consStat">+25%</div>
                        <div class="label">More Consumed</div>
                    </div>
                    <div class="stat-box rebound">
                        <div class="value" id="reboundStat">150%</div>
                        <div class="label">Rebound Effect</div>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn-primary" id="animateBtn">Animate History</button>
                    <button class="btn-secondary" id="resetBtn">Reset</button>
                </div>
            </div>

            <!-- Examples -->
            <div class="panel">
                <h2>Modern Examples</h2>

                <div class="example-grid">
                    <div class="example-card active" data-example="cars">
                        <div class="icon">üöó</div>
                        <h4>Fuel-Efficient Cars</h4>
                        <p>We drive MORE miles</p>
                    </div>
                    <div class="example-card" data-example="lights">
                        <div class="icon">üí°</div>
                        <h4>LED Lighting</h4>
                        <p>We install MORE lights</p>
                    </div>
                    <div class="example-card" data-example="computing">
                        <div class="icon">üíª</div>
                        <h4>Computing</h4>
                        <p>We compute MORE</p>
                    </div>
                    <div class="example-card" data-example="ai">
                        <div class="icon">ü§ñ</div>
                        <h4>AI Models</h4>
                        <p>We run MORE queries</p>
                    </div>
                </div>

                <div class="paradox-box" id="exampleDetail">
                    <h3>Fuel-Efficient Cars</h3>
                    <p><strong>The Promise:</strong> A car that gets 50 MPG instead of 25 MPG should use half the fuel!</p>
                    <p><strong>The Reality:</strong> Cheaper driving ‚Üí drive more miles ‚Üí often use MORE total fuel</p>
                    <p><strong>Data:</strong> Studies show 10-30% of fuel savings are "rebounded" through increased driving.</p>
                </div>

                <div class="formula-box">
                    <div class="main-formula">Rebound = (ŒîConsumption / ŒîEfficiency) √ó 100%</div>
                    <div style="color: #888; font-size: 0.9em;">If rebound > 100%, efficiency INCREASES total consumption</div>
                </div>
            </div>

            <!-- Historical Context -->
            <div class="panel">
                <h2>The Original Discovery (1865)</h2>

                <div class="timeline">
                    <div class="timeline-item">
                        <div class="year">1712</div>
                        <p>Thomas Newcomen invents the steam engine. Very inefficient‚Äîuses enormous amounts of coal.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="year">1769</div>
                        <p>James Watt patents an improved steam engine that uses <strong>75% less coal</strong> per unit of work.</p>
                    </div>
                    <div class="timeline-item">
                        <div class="year">1800-1860</div>
                        <p>UK coal consumption EXPLODES. More efficient engines make coal power economical for factories, railways, ships...</p>
                    </div>
                    <div class="timeline-item">
                        <div class="year">1865</div>
                        <p>William Stanley Jevons publishes "The Coal Question" warning that efficiency won't save coal‚Äîit will exhaust it faster!</p>
                    </div>
                </div>

                <div class="paradox-box">
                    <h3>Jevons' Insight</h3>
                    <p>"It is wholly a confusion of ideas to suppose that the economical use of fuel is equivalent to a diminished consumption. The very contrary is the truth."</p>
                    <p style="text-align: right; margin-top: 10px; color: #888;">‚Äî W.S. Jevons, 1865</p>
                </div>
            </div>

            <!-- Why It Happens -->
            <div class="panel">
                <h2>Why Does This Happen?</h2>

                <div class="explanation">
                    <h3>1. Direct Rebound</h3>
                    <p>More efficient = cheaper to use = use more. If driving costs half as much per mile, you might drive twice as many miles.</p>

                    <h3>2. Indirect Rebound</h3>
                    <p>Money saved on fuel gets spent elsewhere‚Äîoften on other energy-intensive goods or activities.</p>

                    <h3>3. Economy-Wide Effects</h3>
                    <p>Efficiency improvements drive economic growth. A more productive economy consumes more resources overall.</p>

                    <h3>4. New Applications</h3>
                    <p>Cheaper energy enables entirely new uses that weren't economical before. LEDs made 24/7 decorative lighting practical.</p>
                </div>

                <div class="policy-box">
                    <h3>Policy Solutions</h3>
                    <p>Efficiency alone won't solve resource depletion. Economists suggest:</p>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #aaa;">
                        <li><strong>Carbon taxes:</strong> Keep the price of use constant even as efficiency rises</li>
                        <li><strong>Cap and trade:</strong> Set hard limits on total consumption</li>
                        <li><strong>Efficiency standards + consumption limits:</strong> Address both sides</li>
                    </ul>
                </div>
            </div>

            <!-- Full Explanation -->
            <div class="panel full-width">
                <h2>Understanding the Paradox</h2>

                <div class="explanation">
                    <h3>The Intuitive Error</h3>
                    <p>Most people assume: "If we make cars 50% more efficient, we'll use 50% less fuel." This treats demand as fixed. But demand responds to price‚Äîand efficiency is equivalent to a price cut.</p>

                    <h3>The Economic Reality</h3>
                    <p>Efficiency improvements lower the <em>effective cost</em> of using a resource. This triggers increased demand through multiple channels:</p>
                    <ul style="margin-left: 20px; color: #aaa;">
                        <li><span class="highlight">Substitution effect:</span> The resource becomes relatively cheaper compared to alternatives</li>
                        <li><span class="highlight">Income effect:</span> Savings free up money for more consumption</li>
                        <li><span class="highlight">Growth effect:</span> More efficient production enables economic expansion</li>
                    </ul>

                    <h3>When Does Backfire Occur?</h3>
                    <p>Full "backfire" (rebound > 100%) happens when:</p>
                    <ul style="margin-left: 20px; color: #aaa;">
                        <li>Demand is highly elastic (people respond strongly to price changes)</li>
                        <li>The resource enables many potential uses that were previously uneconomical</li>
                        <li>Economy-wide growth effects amplify direct consumption increases</li>
                    </ul>

                    <h3>Modern Implications</h3>
                    <p>The Jevons Paradox is critically important for climate policy. Relying solely on efficiency improvements to reduce emissions may backfire. <span class="highlight">Efficiency must be paired with absolute consumption limits</span> (carbon taxes, caps) to achieve net reductions.</p>
                </div>
            </div>
        </div>

        <p style="text-align: center; color: #666; margin-top: 30px; font-size: 0.9em;">
            Based on <a href="https://en.wikipedia.org/wiki/Jevons_paradox" class="source-link" target="_blank">William Stanley Jevons (1865)</a>.
            See also: <a href="https://www.sciencedirect.com/science/article/abs/pii/S0301421508007428" class="source-link" target="_blank">Sorrell (2009) on backfire</a>.
        </p>
    </div>

    <script>
        const canvas = document.getElementById('mainChart');
        const ctx = canvas.getContext('2d');

        let efficiency = 50; // percent improvement
        let elasticity = 1.5; // price elasticity of demand
        let animating = false;
        let animationFrame = 0;

        const examples = {
            cars: {
                title: 'Fuel-Efficient Cars',
                promise: 'A car that gets 50 MPG instead of 25 MPG should use half the fuel!',
                reality: 'Cheaper driving ‚Üí drive more miles ‚Üí often use MORE total fuel',
                data: 'Studies show 10-30% of fuel savings are "rebounded" through increased driving.'
            },
            lights: {
                title: 'LED Lighting',
                promise: 'LEDs use 80% less electricity than incandescent bulbs!',
                reality: 'Cheap lighting ‚Üí install MORE lights, leave them on longer',
                data: 'Outdoor lighting has increased 49% since 2012 despite LED adoption.'
            },
            computing: {
                title: 'Computing Power',
                promise: 'Moore\'s Law: computers get exponentially more efficient!',
                reality: 'Cheaper computing ‚Üí compute MORE (AI, streaming, crypto)',
                data: 'Data center energy use grows ~10% yearly despite efficiency gains.'
            },
            ai: {
                title: 'AI Models',
                promise: 'Smaller, more efficient AI models should use less energy!',
                reality: 'Efficient AI ‚Üí MORE queries, MORE applications, MORE training runs',
                data: 'DeepSeek showed 10x efficiency... leading to 10x more AI demand.'
            }
        };

        function setupCanvas() {
            const dpr = window.devicePixelRatio || 1;
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
        }

        function drawChart(animProgress = 1) {
            const w = canvas.width / (window.devicePixelRatio || 1);
            const h = canvas.height / (window.devicePixelRatio || 1);

            ctx.fillStyle = '#111';
            ctx.fillRect(0, 0, w, h);

            const padding = 50;
            const chartW = w - padding * 2;
            const chartH = h - padding * 1.5;

            // Draw axes
            ctx.strokeStyle = '#444';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding / 2);
            ctx.lineTo(padding, h - padding);
            ctx.lineTo(w - padding / 2, h - padding);
            ctx.stroke();

            // Labels
            ctx.fillStyle = '#888';
            ctx.font = '12px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('Time ‚Üí', w / 2, h - 10);
            
            ctx.save();
            ctx.translate(15, h / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Amount', 0, 0);
            ctx.restore();

            // Calculate values
            const efficiencyGain = efficiency / 100;
            const priceReduction = efficiencyGain; // Simplified: efficiency = price reduction
            const demandIncrease = priceReduction * elasticity;
            const rebound = demandIncrease / efficiencyGain;
            const netChange = demandIncrease - efficiencyGain;

            // Draw curves
            const numPoints = 100;
            const progressPoints = Math.floor(numPoints * animProgress);

            // Expected (naive) consumption - should decrease
            ctx.strokeStyle = '#ffaa00';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            for (let i = 0; i <= progressPoints; i++) {
                const t = i / numPoints;
                const x = padding + t * chartW;
                const baseY = h - padding - chartH * 0.5;
                const y = baseY + chartH * 0.3 * efficiencyGain * t;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();
            ctx.setLineDash([]);

            // Efficiency line (green, going up)
            ctx.strokeStyle = '#00ff88';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = 0; i <= progressPoints; i++) {
                const t = i / numPoints;
                const x = padding + t * chartW;
                const baseY = h - padding - chartH * 0.3;
                const y = baseY - chartH * 0.4 * efficiencyGain * t;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Actual consumption (red, going up if rebound > 100%)
            ctx.strokeStyle = '#ff4444';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (let i = 0; i <= progressPoints; i++) {
                const t = i / numPoints;
                const x = padding + t * chartW;
                const baseY = h - padding - chartH * 0.5;
                const y = baseY - chartH * 0.4 * netChange * t;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Markers at end
            if (animProgress > 0.95) {
                const endX = padding + chartW;
                
                // Label for efficiency
                ctx.fillStyle = '#00ff88';
                ctx.font = 'bold 11px sans-serif';
                ctx.textAlign = 'left';
                const effY = h - padding - chartH * 0.3 - chartH * 0.4 * efficiencyGain;
                ctx.fillText(`+${(efficiencyGain * 100).toFixed(0)}% efficient`, endX + 5, effY);

                // Label for consumption
                ctx.fillStyle = '#ff4444';
                const consY = h - padding - chartH * 0.5 - chartH * 0.4 * netChange;
                const sign = netChange >= 0 ? '+' : '';
                ctx.fillText(`${sign}${(netChange * 100).toFixed(0)}% consumed`, endX + 5, consY);
            }

            // Update stats
            updateStats(rebound, netChange);
        }

        function updateStats(rebound, netChange) {
            document.getElementById('effStat').textContent = efficiency + '%';
            
            const consSign = netChange >= 0 ? '+' : '';
            document.getElementById('consStat').textContent = consSign + (netChange * 100).toFixed(0) + '%';
            document.getElementById('consStat').parentElement.classList.toggle('efficiency', netChange < 0);
            document.getElementById('consStat').parentElement.classList.toggle('consumption', netChange >= 0);

            document.getElementById('reboundStat').textContent = (rebound * 100).toFixed(0) + '%';
        }

        function animate() {
            if (!animating) return;
            
            animationFrame += 0.02;
            if (animationFrame > 1) {
                animationFrame = 1;
                animating = false;
                document.getElementById('animateBtn').textContent = 'Animate History';
            }
            
            drawChart(animationFrame);
            
            if (animating) {
                requestAnimationFrame(animate);
            }
        }

        // Event listeners
        document.getElementById('efficiencySlider').addEventListener('input', (e) => {
            efficiency = parseInt(e.target.value);
            document.getElementById('efficiencyValue').textContent = efficiency + '%';
            if (!animating) drawChart(1);
        });

        document.getElementById('elasticitySlider').addEventListener('input', (e) => {
            elasticity = parseInt(e.target.value) / 10;
            document.getElementById('elasticityValue').textContent = '-' + elasticity.toFixed(1);
            if (!animating) drawChart(1);
        });

        document.getElementById('animateBtn').addEventListener('click', () => {
            if (animating) {
                animating = false;
                document.getElementById('animateBtn').textContent = 'Animate History';
            } else {
                animating = true;
                animationFrame = 0;
                document.getElementById('animateBtn').textContent = 'Stop';
                animate();
            }
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            efficiency = 50;
            elasticity = 1.5;
            document.getElementById('efficiencySlider').value = 50;
            document.getElementById('elasticitySlider').value = 15;
            document.getElementById('efficiencyValue').textContent = '50%';
            document.getElementById('elasticityValue').textContent = '-1.5';
            animating = false;
            animationFrame = 1;
            drawChart(1);
        });

        document.querySelectorAll('.example-card').forEach(card => {
            card.addEventListener('click', () => {
                document.querySelectorAll('.example-card').forEach(c => c.classList.remove('active'));
                card.classList.add('active');
                
                const example = examples[card.dataset.example];
                const detail = document.getElementById('exampleDetail');
                detail.innerHTML = `
                    <h3>${example.title}</h3>
                    <p><strong>The Promise:</strong> ${example.promise}</p>
                    <p><strong>The Reality:</strong> ${example.reality}</p>
                    <p><strong>Data:</strong> ${example.data}</p>
                `;
            });
        });

        // Initialize
        window.addEventListener('load', () => {
            setupCanvas();
            drawChart(1);
        });

        window.addEventListener('resize', () => {
            setupCanvas();
            drawChart(animating ? animationFrame : 1);
        });
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
