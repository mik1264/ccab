<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Trolley Problem - Surprising Paradoxes</title>
    <style>
        :root {
            --track-brown: #78350f;
            --danger-red: #dc2626;
            --safe-green: #16a34a;
            --trolley-yellow: #facc15;
            --sky-blue: #0ea5e9;
            --dark-bg: #1c1917;
            --light-text: #fafaf9;
            --card-bg: rgba(28, 25, 23, 0.9);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(180deg, var(--sky-blue) 0%, #bae6fd 30%, #86efac 60%, #4ade80 100%);
            color: var(--dark-bg);
            min-height: 100vh;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: var(--dark-bg);
            text-decoration: none;
            font-size: 1rem;
            opacity: 0.7;
            transition: opacity 0.3s;
            z-index: 100;
            background: rgba(255,255,255,0.8);
            padding: 5px 15px;
            border-radius: 20px;
        }

        .back-link:hover {
            opacity: 1;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: var(--dark-bg);
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--track-brown);
            font-weight: 300;
        }

        .authors {
            margin-top: 15px;
            font-size: 0.95rem;
            opacity: 0.7;
        }

        /* Scenario Tabs */
        .scenario-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .scenario-tab {
            padding: 12px 25px;
            background: white;
            border: 2px solid var(--track-brown);
            border-radius: 25px;
            cursor: pointer;
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.3s;
            color: var(--track-brown);
        }

        .scenario-tab:hover {
            background: var(--track-brown);
            color: white;
        }

        .scenario-tab.active {
            background: var(--track-brown);
            color: white;
        }

        /* The Scene */
        .scene-container {
            background: linear-gradient(180deg, #7dd3fc 0%, #86efac 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }

        .scene {
            position: relative;
            height: 300px;
            background: #86efac;
            border-radius: 15px;
            overflow: hidden;
        }

        /* Tracks */
        .track {
            position: absolute;
            height: 20px;
            background: var(--track-brown);
        }

        .track-main {
            top: 50%;
            left: 0;
            width: 100%;
            transform: translateY(-50%);
        }

        .track-side {
            top: 75%;
            left: 40%;
            width: 60%;
            transform: translateY(-50%);
        }

        .track-junction {
            position: absolute;
            top: 50%;
            left: 40%;
            width: 50px;
            height: 50px;
            border: 5px solid var(--track-brown);
            border-radius: 0 0 50px 0;
            border-left: none;
            border-top: none;
            transform: translateY(-10px);
        }

        /* Trolley */
        .trolley {
            position: absolute;
            width: 80px;
            height: 50px;
            background: var(--trolley-yellow);
            border-radius: 10px;
            top: 50%;
            left: 5%;
            transform: translateY(-50%);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: left 2s linear, top 1s ease-in-out;
            z-index: 10;
        }

        .trolley::before {
            content: 'üöÉ';
            font-size: 2rem;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .trolley.moving {
            left: 85%;
        }

        .trolley.diverted {
            left: 85%;
            top: 75%;
        }

        /* People */
        .person {
            position: absolute;
            font-size: 1.8rem;
            transform: translateX(-50%);
            transition: all 0.5s;
        }

        .person.hit {
            opacity: 0.3;
            transform: translateX(-50%) rotate(90deg);
        }

        .group-five {
            top: 42%;
            right: 10%;
            display: flex;
            gap: 5px;
        }

        .single-person {
            top: 67%;
            right: 10%;
        }

        /* Lever */
        .lever-container {
            position: absolute;
            left: 35%;
            top: 30%;
        }

        .lever {
            width: 10px;
            height: 40px;
            background: #525252;
            border-radius: 5px;
            cursor: pointer;
            transform-origin: bottom center;
            transition: transform 0.3s;
        }

        .lever.pulled {
            transform: rotate(45deg);
        }

        .lever-base {
            width: 30px;
            height: 10px;
            background: #404040;
            border-radius: 5px;
            margin-top: -5px;
            margin-left: -10px;
        }

        /* Footbridge Elements */
        .footbridge {
            position: absolute;
            top: 20%;
            left: 30%;
            right: 30%;
            height: 15px;
            background: #a16207;
            border-radius: 5px;
            display: none;
        }

        .bridge-person {
            position: absolute;
            top: 5%;
            left: 50%;
            font-size: 2rem;
            transform: translateX(-50%);
            cursor: pointer;
            display: none;
            transition: all 0.5s;
        }

        .bridge-person.pushed {
            top: 40%;
            transform: translateX(-50%) rotate(180deg);
        }

        /* Decision Buttons */
        .decision-area {
            text-align: center;
            margin-top: 20px;
        }

        .decision-prompt {
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .decision-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .decision-btn {
            padding: 15px 35px;
            font-size: 1.1rem;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-family: inherit;
            font-weight: 600;
            transition: all 0.3s;
        }

        .decision-btn.action {
            background: var(--danger-red);
            color: white;
        }

        .decision-btn.action:hover {
            background: #b91c1c;
            transform: scale(1.05);
        }

        .decision-btn.inaction {
            background: var(--safe-green);
            color: white;
        }

        .decision-btn.inaction:hover {
            background: #15803d;
            transform: scale(1.05);
        }

        /* Results */
        .result-display {
            margin-top: 20px;
            padding: 20px;
            background: white;
            border-radius: 15px;
            display: none;
        }

        .result-display.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .stat-value.pulled {
            color: var(--danger-red);
        }

        .stat-value.didnt {
            color: var(--safe-green);
        }

        /* Info Section */
        .info-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .info-section h2 {
            text-align: center;
            margin-bottom: 25px;
            color: var(--track-brown);
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .info-card {
            padding: 25px;
            background: #fef3c7;
            border-radius: 15px;
            border-left: 4px solid var(--track-brown);
        }

        .info-card h3 {
            margin-bottom: 15px;
            color: var(--track-brown);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .info-card p {
            line-height: 1.6;
            color: #78350f;
        }

        /* Quote */
        .quote-box {
            background: var(--track-brown);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .quote-box blockquote {
            font-size: 1.2rem;
            font-style: italic;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .quote-box cite {
            opacity: 0.8;
        }

        /* Comparison Table */
        .comparison-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
        }

        .comparison-section h2 {
            text-align: center;
            margin-bottom: 25px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #e5e5e5;
        }

        .comparison-table th {
            background: var(--track-brown);
            color: white;
        }

        .comparison-table tr:hover {
            background: #fef3c7;
        }

        .percent-bar {
            height: 20px;
            background: #e5e5e5;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 5px;
        }

        .percent-fill {
            height: 100%;
            background: var(--danger-red);
            border-radius: 10px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            opacity: 0.6;
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .scene {
                height: 250px;
            }

            .trolley {
                width: 60px;
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>üöÉ The Trolley Problem</h1>
            <p class="subtitle">Would You Kill One to Save Five?</p>
            <p class="authors">Philippa Foot (1967) & Judith Jarvis Thomson (1976)</p>
        </header>

        <!-- Scenario Tabs -->
        <div class="scenario-tabs">
            <button class="scenario-tab active" onclick="loadScenario('switch')">The Switch</button>
            <button class="scenario-tab" onclick="loadScenario('footbridge')">The Footbridge</button>
            <button class="scenario-tab" onclick="loadScenario('loop')">The Loop</button>
        </div>

        <!-- The Scene -->
        <div class="scene-container">
            <div class="scene" id="scene">
                <!-- Tracks -->
                <div class="track track-main"></div>
                <div class="track track-side" id="sideTrack"></div>
                <div class="track-junction" id="junction"></div>

                <!-- Trolley -->
                <div class="trolley" id="trolley"></div>

                <!-- Lever -->
                <div class="lever-container" id="leverContainer">
                    <div class="lever" id="lever" onclick="toggleLever()"></div>
                    <div class="lever-base"></div>
                </div>

                <!-- People on main track -->
                <div class="group-five" id="groupFive">
                    <span class="person">üë§</span>
                    <span class="person">üë§</span>
                    <span class="person">üë§</span>
                    <span class="person">üë§</span>
                    <span class="person">üë§</span>
                </div>

                <!-- Person on side track -->
                <div class="single-person" id="singlePerson">
                    <span class="person">üë§</span>
                </div>

                <!-- Footbridge elements -->
                <div class="footbridge" id="footbridge"></div>
                <div class="bridge-person" id="bridgePerson" onclick="pushPerson()">üßç</div>
            </div>

            <div class="decision-area">
                <p class="decision-prompt" id="decisionPrompt">Do you pull the lever to divert the trolley?</p>
                <div class="decision-buttons">
                    <button class="decision-btn action" id="actionBtn" onclick="makeChoice('action')">
                        Pull the Lever
                    </button>
                    <button class="decision-btn inaction" id="inactionBtn" onclick="makeChoice('inaction')">
                        Do Nothing
                    </button>
                </div>
                <div class="result-display" id="resultDisplay"></div>
            </div>
        </div>

        <!-- Scenario Description -->
        <div class="info-section" id="scenarioInfo">
            <h2>The Switch Scenario</h2>
            <p id="scenarioDesc" style="text-align: center; font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px;">
                A runaway trolley is heading toward five people tied to the tracks. You stand next to a lever
                that can divert the trolley onto a side track‚Äîwhere only one person is tied. If you pull the lever,
                you save five but kill one. If you do nothing, five die.
            </p>
        </div>

        <!-- Comparison Stats -->
        <div class="comparison-section">
            <h2>How People Actually Respond</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Scenario</th>
                        <th>Would Kill the One</th>
                        <th>Would Let Five Die</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>The Switch</strong></td>
                        <td>
                            ~90%
                            <div class="percent-bar"><div class="percent-fill" style="width: 90%"></div></div>
                        </td>
                        <td>~10%</td>
                    </tr>
                    <tr>
                        <td><strong>The Footbridge</strong></td>
                        <td>
                            ~10%
                            <div class="percent-bar"><div class="percent-fill" style="width: 10%"></div></div>
                        </td>
                        <td>~90%</td>
                    </tr>
                    <tr>
                        <td><strong>The Loop</strong></td>
                        <td>
                            ~50%
                            <div class="percent-bar"><div class="percent-fill" style="width: 50%"></div></div>
                        </td>
                        <td>~50%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="quote-box">
            <blockquote>
                "Why is it that most people say you should flip the switch in the first case,
                but not push the fat man in the second? The result is the same: one dead, five saved."
            </blockquote>
            <cite>‚Äî The central puzzle of the Trolley Problem</cite>
        </div>

        <!-- Philosophical Analysis -->
        <div class="info-section">
            <h2>What's Really Going On?</h2>
            <div class="info-grid">
                <div class="info-card">
                    <h3>‚öñÔ∏è Doctrine of Double Effect</h3>
                    <p>It may be permissible to cause harm as a side effect of achieving a good, but not to cause harm as a means to a good. In the Switch, death is a side effect; in the Footbridge, it's the means.</p>
                </div>

                <div class="info-card">
                    <h3>üëê Doing vs. Allowing</h3>
                    <p>Is there a moral difference between actively causing harm and merely allowing it to happen? Pulling the lever feels like redirecting; pushing feels like killing.</p>
                </div>

                <div class="info-card">
                    <h3>üìè Physical Contact</h3>
                    <p>fMRI studies show different brain regions activate. Pushing someone with your hands triggers emotional responses that pulling a lever doesn't.</p>
                </div>

                <div class="info-card">
                    <h3>üéØ Using as Means</h3>
                    <p>In the Footbridge, you use the person's body as a trolley-stopper. In the Switch, the person isn't "used"‚Äîthey're just unfortunately on the track.</p>
                </div>

                <div class="info-card">
                    <h3>üßÆ Utilitarian View</h3>
                    <p>From a pure numbers perspective, the answer is always the same: five lives > one life. The method shouldn't matter if the outcome is identical.</p>
                </div>

                <div class="info-card">
                    <h3>üöó Real-World Stakes</h3>
                    <p>Self-driving cars face trolley problems constantly. How should they be programmed? These thought experiments have real engineering implications.</p>
                </div>
            </div>
        </div>

        <footer>
            <p>Surprising Paradoxes Collection ‚Ä¢ The Trolley Problem</p>
        </footer>
    </div>

    <script>
        let currentScenario = 'switch';
        let leverPulled = false;
        let personPushed = false;
        let choiceMade = false;

        const scenarios = {
            switch: {
                title: 'The Switch Scenario',
                description: `A runaway trolley is heading toward five people tied to the tracks. You stand next to a lever
                    that can divert the trolley onto a side track‚Äîwhere only one person is tied. If you pull the lever,
                    you save five but kill one. If you do nothing, five die.`,
                prompt: 'Do you pull the lever to divert the trolley?',
                actionText: 'Pull the Lever',
                inactionText: 'Do Nothing',
                showLever: true,
                showBridge: false
            },
            footbridge: {
                title: 'The Footbridge Scenario',
                description: `You're standing on a footbridge above the tracks. A trolley is heading toward five people.
                    Next to you is a large man. If you push him off the bridge, his body will stop the trolley‚Äîbut he will die.
                    If you do nothing, five die. You cannot stop the trolley yourself (you're too light).`,
                prompt: 'Do you push the man off the bridge?',
                actionText: 'Push Him',
                inactionText: 'Do Nothing',
                showLever: false,
                showBridge: true
            },
            loop: {
                title: 'The Loop Scenario',
                description: `The side track loops back to the main track. If you divert the trolley, it would return and still
                    hit the five‚ÄîEXCEPT that there's a large man on the loop whose body would stop the trolley.
                    You're using his death to save the five. Is this different from the Switch?`,
                prompt: 'Do you divert the trolley onto the loop?',
                actionText: 'Divert to Loop',
                inactionText: 'Do Nothing',
                showLever: true,
                showBridge: false
            }
        };

        function loadScenario(type) {
            currentScenario = type;
            const scenario = scenarios[type];

            // Reset state
            resetScene();

            // Update tabs
            document.querySelectorAll('.scenario-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // Update info
            document.getElementById('scenarioInfo').querySelector('h2').textContent = scenario.title;
            document.getElementById('scenarioDesc').textContent = scenario.description;
            document.getElementById('decisionPrompt').textContent = scenario.prompt;
            document.getElementById('actionBtn').textContent = scenario.actionText;
            document.getElementById('inactionBtn').textContent = scenario.inactionText;

            // Show/hide elements
            document.getElementById('leverContainer').style.display = scenario.showLever ? 'block' : 'none';
            document.getElementById('footbridge').style.display = scenario.showBridge ? 'block' : 'none';
            document.getElementById('bridgePerson').style.display = scenario.showBridge ? 'block' : 'none';

            if (type === 'footbridge') {
                document.getElementById('sideTrack').style.display = 'none';
                document.getElementById('junction').style.display = 'none';
                document.getElementById('singlePerson').style.display = 'none';
            } else {
                document.getElementById('sideTrack').style.display = 'block';
                document.getElementById('junction').style.display = 'block';
                document.getElementById('singlePerson').style.display = 'block';
            }
        }

        function resetScene() {
            leverPulled = false;
            personPushed = false;
            choiceMade = false;

            const trolley = document.getElementById('trolley');
            trolley.classList.remove('moving', 'diverted');
            trolley.style.left = '5%';
            trolley.style.top = '50%';

            const lever = document.getElementById('lever');
            lever.classList.remove('pulled');

            const bridgePerson = document.getElementById('bridgePerson');
            bridgePerson.classList.remove('pushed');

            document.querySelectorAll('.person').forEach(p => p.classList.remove('hit'));
            document.getElementById('resultDisplay').classList.remove('show');

            // Re-enable buttons
            document.getElementById('actionBtn').disabled = false;
            document.getElementById('inactionBtn').disabled = false;
        }

        function toggleLever() {
            if (choiceMade) return;
            leverPulled = !leverPulled;
            document.getElementById('lever').classList.toggle('pulled', leverPulled);
        }

        function pushPerson() {
            if (choiceMade) return;
            personPushed = !personPushed;
            document.getElementById('bridgePerson').classList.toggle('pushed', personPushed);
        }

        function makeChoice(choice) {
            if (choiceMade) return;
            choiceMade = true;

            // Disable buttons
            document.getElementById('actionBtn').disabled = true;
            document.getElementById('inactionBtn').disabled = true;

            const trolley = document.getElementById('trolley');

            if (choice === 'action') {
                if (currentScenario === 'footbridge') {
                    // Push person, they fall, trolley stops
                    document.getElementById('bridgePerson').classList.add('pushed');
                    setTimeout(() => {
                        showResult('action');
                    }, 1000);
                } else {
                    // Pull lever, divert trolley
                    document.getElementById('lever').classList.add('pulled');
                    trolley.classList.add('diverted');
                    setTimeout(() => {
                        document.getElementById('singlePerson').querySelector('.person').classList.add('hit');
                        showResult('action');
                    }, 2000);
                }
            } else {
                // Do nothing
                trolley.classList.add('moving');
                setTimeout(() => {
                    document.querySelectorAll('#groupFive .person').forEach(p => p.classList.add('hit'));
                    showResult('inaction');
                }, 2000);
            }
        }

        function showResult(choice) {
            const resultDisplay = document.getElementById('resultDisplay');
            let html = '';

            if (choice === 'action') {
                html = `
                    <h3 style="color: ${currentScenario === 'footbridge' ? '#dc2626' : '#78350f'}; margin-bottom: 15px;">
                        You chose to ${currentScenario === 'footbridge' ? 'push' : 'divert'}
                    </h3>
                    <p><strong>1 person died. 5 were saved.</strong></p>
                    <p style="margin-top: 10px; opacity: 0.8;">
                        ${currentScenario === 'footbridge'
                            ? 'Most people (90%) refuse to push. You\'re in the utilitarian minority.'
                            : 'Most people (90%) would do the same. This feels like redirecting harm, not causing it.'}
                    </p>
                `;
            } else {
                html = `
                    <h3 style="color: #78350f; margin-bottom: 15px;">You chose inaction</h3>
                    <p><strong>5 people died. 1 was saved.</strong></p>
                    <p style="margin-top: 10px; opacity: 0.8;">
                        ${currentScenario === 'footbridge'
                            ? 'Most people (90%) would also refuse to push. There\'s something about using your hands...'
                            : 'Only about 10% choose inaction here. Why does the switch feel different than the footbridge?'}
                    </p>
                `;
            }

            html += `<button onclick="resetScene()" style="margin-top: 15px; padding: 10px 25px; border: none; background: var(--track-brown); color: white; border-radius: 20px; cursor: pointer;">Try Again</button>`;

            resultDisplay.innerHTML = html;
            resultDisplay.classList.add('show');
        }

        // Initialize
        loadScenario('switch');
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
