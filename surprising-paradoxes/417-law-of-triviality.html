<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Law of Triviality (Bikeshedding) - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #e94560;
            text-decoration: none;
            font-size: 14px;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 5px;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .back-link:hover {
            opacity: 1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 20px 40px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.4em;
            background: linear-gradient(135deg, #e94560, #f9b208);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .subtitle {
            font-size: 1.1em;
            color: #888;
            max-width: 850px;
            margin: 0 auto 25px;
            line-height: 1.6;
        }

        .key-stat {
            background: linear-gradient(135deg, rgba(233,69,96,0.15), rgba(249,178,8,0.15));
            border: 1px solid rgba(233,69,96,0.3);
            border-radius: 15px;
            padding: 20px 30px;
            display: inline-block;
            margin-bottom: 30px;
        }

        .key-stat .comparison {
            display: flex;
            gap: 40px;
            justify-content: center;
        }

        .key-stat .item {
            text-align: center;
        }

        .key-stat .number {
            font-size: 2em;
            font-weight: bold;
        }

        .key-stat .reactor { color: #e94560; }
        .key-stat .bikeshed { color: #f9b208; }

        .key-stat .label {
            font-size: 0.85em;
            color: #aaa;
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 25px;
        }

        .tab-btn {
            padding: 12px 25px;
            border: 2px solid rgba(233,69,96,0.3);
            background: rgba(0,0,0,0.3);
            color: #aaa;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            border-color: rgba(233,69,96,0.6);
            color: #e0e0e0;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #e94560, #d63451);
            border-color: #e94560;
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 25px;
        }

        .meeting-area {
            background: rgba(20, 20, 40, 0.8);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(233,69,96,0.2);
        }

        .meeting-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .meeting-title {
            font-size: 1.3em;
            color: #e94560;
        }

        .timer {
            background: rgba(0,0,0,0.3);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 1.2em;
            font-family: monospace;
        }

        .committee-area {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .committee-member {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            min-width: 80px;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .committee-member.speaking {
            border-color: #f9b208;
            background: rgba(249,178,8,0.15);
            transform: scale(1.05);
        }

        .committee-member.silent {
            opacity: 0.5;
        }

        .member-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e94560, #f9b208);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }

        .member-name {
            font-size: 0.8em;
            color: #aaa;
            text-align: center;
        }

        .member-expertise {
            font-size: 0.65em;
            color: #666;
            text-align: center;
        }

        .speech-bubble {
            position: absolute;
            background: rgba(249,178,8,0.9);
            color: #1a1a2e;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.85em;
            max-width: 250px;
            animation: fadeInUp 0.3s ease;
            z-index: 100;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 20px;
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: rgba(249,178,8,0.9) transparent transparent;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .discussion-log {
            height: 150px;
            overflow-y: auto;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.85em;
        }

        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .log-entry .speaker {
            color: #f9b208;
            font-weight: 600;
        }

        .log-entry .topic-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8em;
            margin-left: 8px;
        }

        .tag-high { background: rgba(233,69,96,0.3); color: #e94560; }
        .tag-medium { background: rgba(249,178,8,0.3); color: #f9b208; }
        .tag-low { background: rgba(78,205,196,0.3); color: #4ecdc4; }

        .agenda-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 25px;
        }

        .agenda-item {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 18px;
            border: 2px solid transparent;
            transition: all 0.3s;
            cursor: pointer;
        }

        .agenda-item:hover {
            border-color: rgba(233,69,96,0.5);
        }

        .agenda-item.active {
            border-color: #e94560;
            background: rgba(233,69,96,0.1);
        }

        .agenda-item.completed {
            opacity: 0.6;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .item-title {
            font-size: 1.1em;
            font-weight: 600;
        }

        .item-value {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .value-high {
            background: rgba(233,69,96,0.3);
            color: #e94560;
        }

        .value-medium {
            background: rgba(249,178,8,0.3);
            color: #f9b208;
        }

        .value-low {
            background: rgba(78,205,196,0.3);
            color: #4ecdc4;
        }

        .item-description {
            font-size: 0.9em;
            color: #888;
            margin-bottom: 12px;
        }

        .time-spent-bar {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .time-spent-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s;
        }

        .fill-high { background: linear-gradient(90deg, #e94560, #ff6b8a); }
        .fill-medium { background: linear-gradient(90deg, #f9b208, #ffd93d); }
        .fill-low { background: linear-gradient(90deg, #4ecdc4, #7efff5); }

        .time-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: #888;
            margin-top: 5px;
        }

        .discuss-btn {
            display: block;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(135deg, #e94560, #d63451);
            color: white;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, opacity 0.3s;
        }

        .discuss-btn:hover {
            transform: translateY(-2px);
        }

        .discuss-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .results-panel {
            display: none;
            background: rgba(20, 20, 40, 0.95);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e94560;
            margin-top: 20px;
        }

        .results-panel h3 {
            color: #e94560;
            margin-bottom: 20px;
            font-size: 1.3em;
            text-align: center;
        }

        .result-chart {
            margin-bottom: 25px;
        }

        .chart-bar {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 12px;
        }

        .chart-label {
            width: 180px;
            font-size: 0.9em;
            text-align: right;
        }

        .chart-bar-container {
            flex: 1;
            height: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        .chart-bar-fill {
            height: 100%;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 8px;
            font-size: 0.85em;
            font-weight: 600;
            transition: width 0.5s;
        }

        .your-bar { background: linear-gradient(90deg, #e94560, #ff6b8a); }
        .parkinson-bar { background: linear-gradient(90deg, #f9b208, #ffd93d); }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
        }

        .comparison-table th, .comparison-table td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .comparison-table th {
            color: #888;
            font-weight: normal;
        }

        .verdict {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            border-radius: 10px;
        }

        .verdict.bikeshedder {
            background: rgba(233,69,96,0.2);
            border: 1px solid #e94560;
        }

        .verdict.rational {
            background: rgba(78,205,196,0.2);
            border: 1px solid #4ecdc4;
        }

        .verdict h4 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .info-panel {
            background: rgba(20, 20, 40, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(233,69,96,0.2);
        }

        .info-panel h3 {
            color: #e94560;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .quote {
            font-style: italic;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-left: 3px solid #e94560;
            border-radius: 0 10px 10px 0;
            margin-bottom: 15px;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .quote .author {
            display: block;
            margin-top: 10px;
            color: #888;
            font-style: normal;
            font-size: 0.9em;
        }

        .examples-list {
            list-style: none;
        }

        .examples-list li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.9em;
            line-height: 1.5;
        }

        .examples-list li:last-child {
            border-bottom: none;
        }

        .examples-list .category {
            color: #f9b208;
            font-weight: 600;
            display: block;
            margin-bottom: 3px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .stat-box {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-box .value {
            font-size: 1.6em;
            font-weight: bold;
            color: #e94560;
        }

        .stat-box .label {
            font-size: 0.75em;
            color: #888;
            margin-top: 5px;
        }

        .why-panel {
            background: rgba(249,178,8,0.1);
            border-left: 3px solid #f9b208;
            padding: 15px;
            border-radius: 0 10px 10px 0;
            margin-top: 15px;
        }

        .why-panel h4 {
            color: #f9b208;
            margin-bottom: 10px;
        }

        .why-panel ul {
            list-style: none;
            font-size: 0.9em;
        }

        .why-panel li {
            padding: 5px 0;
            padding-left: 20px;
            position: relative;
        }

        .why-panel li::before {
            content: ">";
            position: absolute;
            left: 0;
            color: #f9b208;
        }

        .citation {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            font-size: 0.85em;
            color: #888;
            text-align: center;
        }

        /* Bikeshedding Visualization Styles */
        .viz-container {
            background: rgba(20, 20, 40, 0.8);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(233,69,96,0.2);
        }

        .viz-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .viz-header h2 {
            color: #e94560;
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .viz-header p {
            color: #888;
            font-size: 0.95em;
        }

        .bikeshed-canvas-container {
            position: relative;
            width: 100%;
            height: 500px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        #bikeshedCanvas {
            width: 100%;
            height: 100%;
        }

        .viz-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .viz-btn {
            padding: 10px 20px;
            border: 2px solid rgba(233,69,96,0.5);
            background: rgba(0,0,0,0.3);
            color: #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .viz-btn:hover {
            border-color: #e94560;
            background: rgba(233,69,96,0.2);
        }

        .viz-btn.active {
            background: #e94560;
            border-color: #e94560;
        }

        .viz-legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85em;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot-important { background: #e94560; }
        .dot-medium { background: #f9b208; }
        .dot-trivial { background: #4ecdc4; }
        .dot-time { background: rgba(255,255,255,0.5); }

        .inverse-chart {
            margin-top: 25px;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
        }

        .inverse-chart h3 {
            color: #f9b208;
            margin-bottom: 15px;
            text-align: center;
        }

        .inverse-bar-row {
            display: grid;
            grid-template-columns: 120px 1fr 80px 1fr 80px;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
            font-size: 0.85em;
        }

        .inverse-label {
            text-align: right;
            color: #aaa;
        }

        .inverse-bar {
            height: 25px;
            border-radius: 5px;
            position: relative;
        }

        .importance-bar {
            background: linear-gradient(90deg, #e94560, #ff6b8a);
        }

        .discussion-bar {
            background: linear-gradient(90deg, #4ecdc4, #7efff5);
        }

        .bar-value {
            text-align: center;
            font-weight: 600;
        }

        @media (max-width: 1000px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.7em; }
            .key-stat .comparison { flex-direction: column; gap: 15px; }
            .stats-grid { grid-template-columns: 1fr; }
            .tabs { flex-direction: column; }
            .inverse-bar-row {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">< Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>The Law of Triviality</h1>
            <p class="subtitle">
                "The time spent on any item of the agenda will be in inverse proportion to the sum involved."
                - C. Northcote Parkinson, 1957
            </p>
            <div class="key-stat">
                <div class="comparison">
                    <div class="item">
                        <div class="number reactor">2.5 min</div>
                        <div class="label">10 million nuclear reactor</div>
                    </div>
                    <div class="item" style="font-size: 1.5em; color: #888; align-self: center;">vs</div>
                    <div class="item">
                        <div class="number bikeshed">45 min</div>
                        <div class="label">350 bicycle shed color</div>
                    </div>
                </div>
            </div>
        </header>

        <div class="tabs">
            <button class="tab-btn active" data-tab="simulator">Committee Simulator</button>
            <button class="tab-btn" data-tab="visualization">Bikeshedding Visualization</button>
        </div>

        <!-- Tab 1: Meeting Simulator -->
        <div class="tab-content active" id="tab-simulator">
            <div class="main-content">
                <div class="meeting-area">
                    <div class="meeting-header">
                        <div class="meeting-title">Committee Meeting Simulator</div>
                        <div class="timer" id="timer">Meeting: 0:00</div>
                    </div>

                    <div class="committee-area" id="committeeArea">
                        <div class="committee-member" data-id="chair">
                            <div class="member-avatar">C</div>
                            <div class="member-name">Dr. Chair</div>
                            <div class="member-expertise">Committee Chair</div>
                        </div>
                        <div class="committee-member" data-id="engineer">
                            <div class="member-avatar">E</div>
                            <div class="member-name">Prof. Tech</div>
                            <div class="member-expertise">Nuclear Engineer</div>
                        </div>
                        <div class="committee-member" data-id="finance">
                            <div class="member-avatar">F</div>
                            <div class="member-name">Ms. Budget</div>
                            <div class="member-expertise">Finance Director</div>
                        </div>
                        <div class="committee-member" data-id="hr">
                            <div class="member-avatar">H</div>
                            <div class="member-name">Mr. People</div>
                            <div class="member-expertise">HR Manager</div>
                        </div>
                        <div class="committee-member" data-id="admin">
                            <div class="member-avatar">A</div>
                            <div class="member-name">Mrs. Admin</div>
                            <div class="member-expertise">Office Manager</div>
                        </div>
                    </div>

                    <div class="discussion-log" id="discussionLog">
                        <div style="color: #666; text-align: center; padding: 20px;">
                            Click "Start Meeting" to begin the simulation...
                        </div>
                    </div>

                    <p style="color: #888; margin-bottom: 20px; font-size: 0.95em;">
                        Watch how committee members engage differently based on topic complexity.
                        Click agenda items to guide discussion focus.
                    </p>

                    <div class="agenda-items" id="agendaItems">
                        <div class="agenda-item" data-id="reactor" data-value="10000000" data-complexity="high">
                            <div class="item-header">
                                <span class="item-title">Nuclear Reactor Design</span>
                                <span class="item-value value-high">10,000,000</span>
                            </div>
                            <div class="item-description">
                                Approval of containment vessel specifications, cooling system design, and safety protocols.
                                Highly technical - requires expert knowledge to evaluate.
                            </div>
                            <div class="time-spent-bar">
                                <div class="time-spent-fill fill-high" style="width: 0%"></div>
                            </div>
                            <div class="time-label">
                                <span>Time spent: <span class="time-value">0s</span></span>
                                <span class="complexity">Complexity: High</span>
                            </div>
                        </div>

                        <div class="agenda-item" data-id="cafeteria" data-value="50000" data-complexity="medium">
                            <div class="item-header">
                                <span class="item-title">Staff Cafeteria Renovation</span>
                                <span class="item-value value-medium">50,000</span>
                            </div>
                            <div class="item-description">
                                Kitchen equipment upgrades, seating layout, and menu vendor selection.
                                Moderately complex - most can understand but opinions vary.
                            </div>
                            <div class="time-spent-bar">
                                <div class="time-spent-fill fill-medium" style="width: 0%"></div>
                            </div>
                            <div class="time-label">
                                <span>Time spent: <span class="time-value">0s</span></span>
                                <span class="complexity">Complexity: Medium</span>
                            </div>
                        </div>

                        <div class="agenda-item" data-id="bikeshed" data-value="350" data-complexity="low">
                            <div class="item-header">
                                <span class="item-title">Bicycle Shed Construction</span>
                                <span class="item-value value-low">350</span>
                            </div>
                            <div class="item-description">
                                Simple roof structure for staff bicycles. What COLOR should we paint it?
                                Everyone has an opinion on colors!
                            </div>
                            <div class="time-spent-bar">
                                <div class="time-spent-fill fill-low" style="width: 0%"></div>
                            </div>
                            <div class="time-label">
                                <span>Time spent: <span class="time-value">0s</span></span>
                                <span class="complexity">Complexity: Low</span>
                            </div>
                        </div>

                        <div class="agenda-item" data-id="coffeeroom" data-value="200" data-complexity="low">
                            <div class="item-header">
                                <span class="item-title">Coffee Room Supplies</span>
                                <span class="item-value value-low">200/month</span>
                            </div>
                            <div class="item-description">
                                Choice between regular and premium coffee brands. Should we get a French press?
                                Very relatable - everyone drinks coffee!
                            </div>
                            <div class="time-spent-bar">
                                <div class="time-spent-fill fill-low" style="width: 0%"></div>
                            </div>
                            <div class="time-label">
                                <span>Time spent: <span class="time-value">0s</span></span>
                                <span class="complexity">Complexity: Low</span>
                            </div>
                        </div>
                    </div>

                    <button class="discuss-btn" id="discussBtn">Start Meeting</button>

                    <div class="results-panel" id="resultsPanel">
                        <h3>Meeting Analysis</h3>

                        <div class="result-chart" id="resultChart"></div>

                        <table class="comparison-table">
                            <tr>
                                <th>Item</th>
                                <th>Value</th>
                                <th>Your Time</th>
                                <th>Parkinson's Example</th>
                            </tr>
                            <tbody id="comparisonBody"></tbody>
                        </table>

                        <div class="verdict" id="verdict"></div>
                    </div>
                </div>

                <div class="sidebar">
                    <div class="info-panel">
                        <h3>The Origin Story</h3>
                        <div class="quote">
                            "A reactor is so vastly expensive and complicated that an average person cannot understand it, so one assumes that those who work on it understand it. However, everyone can visualize a cheap, simple bicycle shed, so planning one can result in endless discussions."
                            <span class="author">- C. Northcote Parkinson, 1957</span>
                        </div>
                        <p style="font-size: 0.9em; color: #aaa; line-height: 1.6;">
                            The term "bikeshedding" was popularized by Danish developer <strong>Poul-Henning Kamp</strong>
                            in 1999 in a famous email to the FreeBSD mailing list about trivial debates in software development.
                        </p>
                    </div>

                    <div class="info-panel">
                        <h3>Software Examples</h3>
                        <ul class="examples-list">
                            <li>
                                <span class="category">Code Review</span>
                                Arguing over variable names while ignoring architectural flaws
                            </li>
                            <li>
                                <span class="category">Design Meetings</span>
                                Debating button colors instead of user experience flows
                            </li>
                            <li>
                                <span class="category">Tooling</span>
                                Hours spent on IDE choice, minutes on security framework
                            </li>
                            <li>
                                <span class="category">Documentation</span>
                                Perfect formatting, incomplete content
                            </li>
                        </ul>
                    </div>

                    <div class="info-panel">
                        <div class="why-panel">
                            <h4>Why We Bikeshed</h4>
                            <ul>
                                <li>We want to contribute, even when we can't</li>
                                <li>Simple topics are cognitively easier</li>
                                <li>Everyone can have an opinion on colors</li>
                                <li>Complex issues require admitting ignorance</li>
                            </ul>
                        </div>
                    </div>

                    <div class="info-panel citation">
                        <strong>Source:</strong> Parkinson, C.N. (1957). "Parkinson's Law, or The Pursuit of Progress." John Murray, London.
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Bikeshedding Visualization -->
        <div class="tab-content" id="tab-visualization">
            <div class="viz-container">
                <div class="viz-header">
                    <h2>The Inverse Relationship</h2>
                    <p>Watch how discussion time inversely correlates with actual importance</p>
                </div>

                <div class="bikeshed-canvas-container">
                    <canvas id="bikeshedCanvas"></canvas>
                </div>

                <div class="viz-controls">
                    <button class="viz-btn active" data-viz="bubbles">Bubble Chart</button>
                    <button class="viz-btn" data-viz="scatter">Scatter Plot</button>
                    <button class="viz-btn" data-viz="animated">Animated Flow</button>
                </div>

                <div class="viz-legend">
                    <div class="legend-item">
                        <div class="legend-dot dot-important"></div>
                        <span>High Importance</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot dot-medium"></div>
                        <span>Medium Importance</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot dot-trivial"></div>
                        <span>Low Importance (Bikeshed)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot dot-time"></div>
                        <span>Circle size = Discussion Time</span>
                    </div>
                </div>

                <div class="inverse-chart">
                    <h3>The Parkinson Pattern: Importance vs Discussion Time</h3>
                    <div class="inverse-bar-row">
                        <div class="inverse-label">Nuclear Reactor</div>
                        <div class="inverse-bar importance-bar" style="width: 100%"></div>
                        <div class="bar-value">10M</div>
                        <div class="inverse-bar discussion-bar" style="width: 5%"></div>
                        <div class="bar-value">2.5 min</div>
                    </div>
                    <div class="inverse-bar-row">
                        <div class="inverse-label">Cafeteria</div>
                        <div class="inverse-bar importance-bar" style="width: 50%"></div>
                        <div class="bar-value">50K</div>
                        <div class="inverse-bar discussion-bar" style="width: 20%"></div>
                        <div class="bar-value">8 min</div>
                    </div>
                    <div class="inverse-bar-row">
                        <div class="inverse-label">Bicycle Shed</div>
                        <div class="inverse-bar importance-bar" style="width: 3%"></div>
                        <div class="bar-value">350</div>
                        <div class="inverse-bar discussion-bar" style="width: 100%"></div>
                        <div class="bar-value">45 min</div>
                    </div>
                    <div class="inverse-bar-row">
                        <div class="inverse-label">Coffee</div>
                        <div class="inverse-bar importance-bar" style="width: 2%"></div>
                        <div class="bar-value">200</div>
                        <div class="inverse-bar discussion-bar" style="width: 35%"></div>
                        <div class="bar-value">15 min</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById('tab-' + btn.dataset.tab).classList.add('active');

                if (btn.dataset.tab === 'visualization') {
                    initVisualization();
                }
            });
        });

        // Committee Meeting Simulator
        const agendaItems = document.querySelectorAll('.agenda-item');
        const discussBtn = document.getElementById('discussBtn');
        const timerEl = document.getElementById('timer');
        const resultsPanel = document.getElementById('resultsPanel');
        const discussionLog = document.getElementById('discussionLog');
        const committeeMembers = document.querySelectorAll('.committee-member');

        const memberDialogues = {
            reactor: {
                chair: ["Let's review the reactor specifications.", "I'll defer to our expert on this."],
                engineer: ["The containment specs meet NRC standards.", "Thermal margins are adequate.", "Safety systems are redundant."],
                finance: ["The budget is substantial but justified.", "I trust the technical assessment."],
                hr: ["..."],
                admin: ["..."]
            },
            cafeteria: {
                chair: ["Moving on to cafeteria renovation.", "Thoughts on the seating layout?"],
                engineer: ["The ventilation needs consideration.", "I could review the HVAC specs."],
                finance: ["50K seems reasonable for this scope.", "We should get competitive bids."],
                hr: ["Staff morale would benefit from this.", "The break room is always crowded."],
                admin: ["I've collected some vendor quotes.", "The current layout is inefficient."]
            },
            bikeshed: {
                chair: ["Now, the bicycle shed color...", "We've been on this for a while..."],
                engineer: ["Green would match the grass.", "Actually, blue might fade less.", "What about a neutral grey?"],
                finance: ["Red paint is cheaper!", "But green is more professional.", "My neighbor has a nice brown shed."],
                hr: ["Yellow would be cheerful!", "Staff surveys preferred blue.", "But green represents sustainability!"],
                admin: ["I think white is classic.", "No, white shows dirt!", "How about a nice forest green?", "Or maybe terracotta?"]
            },
            coffeeroom: {
                chair: ["Coffee room supplies next.", "This shouldn't take long... right?"],
                engineer: ["I prefer dark roast.", "Actually, medium roast is optimal."],
                finance: ["Generic brand saves money.", "But staff prefer the good stuff.", "Maybe we could do both?"],
                hr: ["Premium coffee boosts morale!", "A French press would be nice.", "Everyone loves good coffee!"],
                admin: ["We need a bigger coffee maker.", "And better mugs!", "The current ones chip easily.", "What about a Keurig?"]
            }
        };

        const engagementLevels = {
            reactor: { chair: 0.3, engineer: 0.9, finance: 0.4, hr: 0.05, admin: 0.05 },
            cafeteria: { chair: 0.5, engineer: 0.3, finance: 0.6, hr: 0.7, admin: 0.8 },
            bikeshed: { chair: 0.4, engineer: 0.8, finance: 0.9, hr: 0.95, admin: 0.95 },
            coffeeroom: { chair: 0.3, engineer: 0.6, finance: 0.7, hr: 0.9, admin: 0.95 }
        };

        let state = {
            running: false,
            totalTime: 0,
            maxTime: 300,
            activeItem: null,
            itemTimes: { reactor: 0, cafeteria: 0, bikeshed: 0, coffeeroom: 0 },
            dialogueIndex: { reactor: {}, cafeteria: {}, bikeshed: {}, coffeeroom: {} },
            interval: null
        };

        const parkinsonTimes = {
            reactor: 2.5 * 60,
            cafeteria: 8 * 60,
            bikeshed: 45 * 60,
            coffeeroom: 15 * 60
        };

        const itemValues = {
            reactor: 10000000,
            cafeteria: 50000,
            bikeshed: 350,
            coffeeroom: 200
        };

        const topicTags = {
            reactor: 'tag-high',
            cafeteria: 'tag-medium',
            bikeshed: 'tag-low',
            coffeeroom: 'tag-low'
        };

        agendaItems.forEach(item => {
            item.addEventListener('click', () => {
                if (!state.running) return;
                agendaItems.forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                state.activeItem = item.dataset.id;
            });
        });

        discussBtn.addEventListener('click', () => {
            if (!state.running) {
                startMeeting();
            }
        });

        function startMeeting() {
            state.running = true;
            state.totalTime = 0;
            state.itemTimes = { reactor: 0, cafeteria: 0, bikeshed: 0, coffeeroom: 0 };
            state.activeItem = 'reactor';

            Object.keys(memberDialogues).forEach(topic => {
                state.dialogueIndex[topic] = {};
                Object.keys(memberDialogues[topic]).forEach(member => {
                    state.dialogueIndex[topic][member] = 0;
                });
            });

            discussBtn.textContent = 'Meeting in Progress...';
            discussBtn.disabled = true;
            resultsPanel.style.display = 'none';
            discussionLog.innerHTML = '';

            agendaItems.forEach(item => {
                item.classList.remove('active', 'completed');
                item.querySelector('.time-spent-fill').style.width = '0%';
                item.querySelector('.time-value').textContent = '0s';
            });

            document.querySelector('[data-id="reactor"]').classList.add('active');
            addLogEntry('chair', 'Let us begin with the nuclear reactor proposal.', 'reactor');

            runMeeting();
        }

        function runMeeting() {
            let tickCounter = 0;

            state.interval = setInterval(() => {
                state.totalTime++;
                tickCounter++;

                if (state.activeItem) {
                    state.itemTimes[state.activeItem]++;
                    updateItemDisplay(state.activeItem);

                    // Generate committee dialogue based on engagement
                    if (tickCounter % 15 === 0) {
                        generateDialogue(state.activeItem);
                    }
                }

                const mins = Math.floor(state.totalTime / 60);
                const secs = state.totalTime % 60;
                timerEl.textContent = `Meeting: ${mins}:${secs.toString().padStart(2, '0')}`;

                // Auto-advance topics based on typical bikeshedding behavior
                if (state.activeItem === 'reactor' && state.itemTimes.reactor >= 15) {
                    switchToTopic('cafeteria');
                } else if (state.activeItem === 'cafeteria' && state.itemTimes.cafeteria >= 30) {
                    switchToTopic('bikeshed');
                } else if (state.activeItem === 'bikeshed' && state.itemTimes.bikeshed >= 180) {
                    switchToTopic('coffeeroom');
                }

                if (state.totalTime >= state.maxTime) {
                    clearInterval(state.interval);
                    endMeeting();
                }
            }, 100);
        }

        function switchToTopic(topic) {
            agendaItems.forEach(i => i.classList.remove('active'));
            document.querySelector(`[data-id="${state.activeItem}"]`).classList.add('completed');
            document.querySelector(`[data-id="${topic}"]`).classList.add('active');
            state.activeItem = topic;
            addLogEntry('chair', `Moving on to: ${topic.charAt(0).toUpperCase() + topic.slice(1)}`, topic);
        }

        function generateDialogue(topic) {
            const engagements = engagementLevels[topic];
            const members = Object.keys(engagements);

            // Select speaker based on engagement probability
            const speaker = members.find(m => Math.random() < engagements[m]) || 'chair';

            const dialogues = memberDialogues[topic][speaker];
            if (!dialogues || dialogues.length === 0) return;

            let idx = state.dialogueIndex[topic][speaker] || 0;
            const message = dialogues[idx % dialogues.length];
            state.dialogueIndex[topic][speaker] = idx + 1;

            if (message !== '...') {
                addLogEntry(speaker, message, topic);
                highlightSpeaker(speaker);
            }
        }

        function highlightSpeaker(speakerId) {
            committeeMembers.forEach(m => {
                m.classList.remove('speaking');
                if (m.dataset.id !== speakerId) {
                    m.classList.add('silent');
                }
            });

            const speaker = document.querySelector(`.committee-member[data-id="${speakerId}"]`);
            if (speaker) {
                speaker.classList.remove('silent');
                speaker.classList.add('speaking');

                setTimeout(() => {
                    speaker.classList.remove('speaking');
                    committeeMembers.forEach(m => m.classList.remove('silent'));
                }, 2000);
            }
        }

        function addLogEntry(speaker, message, topic) {
            const names = {
                chair: 'Dr. Chair',
                engineer: 'Prof. Tech',
                finance: 'Ms. Budget',
                hr: 'Mr. People',
                admin: 'Mrs. Admin'
            };

            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.innerHTML = `
                <span class="speaker">${names[speaker]}:</span> ${message}
                <span class="topic-tag ${topicTags[topic]}">${topic}</span>
            `;
            discussionLog.appendChild(entry);
            discussionLog.scrollTop = discussionLog.scrollHeight;
        }

        function updateItemDisplay(itemId) {
            const item = document.querySelector(`[data-id="${itemId}"]`);
            const time = state.itemTimes[itemId];
            const fill = item.querySelector('.time-spent-fill');
            const label = item.querySelector('.time-value');

            const percentage = Math.min((time / 60) * 100, 100);
            fill.style.width = percentage + '%';

            if (time < 60) {
                label.textContent = time + 's';
            } else {
                const mins = Math.floor(time / 60);
                const secs = time % 60;
                label.textContent = `${mins}m ${secs}s`;
            }
        }

        function endMeeting() {
            state.running = false;
            discussBtn.textContent = 'Start New Meeting';
            discussBtn.disabled = false;

            agendaItems.forEach(item => {
                item.classList.remove('active');
                item.classList.add('completed');
            });

            showResults();
        }

        function showResults() {
            const chartDiv = document.getElementById('resultChart');
            const tbody = document.getElementById('comparisonBody');
            const verdictDiv = document.getElementById('verdict');

            const totalUserTime = Object.values(state.itemTimes).reduce((a, b) => a + b, 0);
            const totalParkinsonTime = Object.values(parkinsonTimes).reduce((a, b) => a + b, 0);

            chartDiv.innerHTML = '';
            const items = ['reactor', 'cafeteria', 'bikeshed', 'coffeeroom'];
            const labels = {
                reactor: 'Nuclear Reactor',
                cafeteria: 'Cafeteria',
                bikeshed: 'Bicycle Shed',
                coffeeroom: 'Coffee Supplies'
            };

            items.forEach(id => {
                const userPct = totalUserTime > 0 ? (state.itemTimes[id] / totalUserTime * 100) : 0;

                chartDiv.innerHTML += `
                    <div class="chart-bar">
                        <div class="chart-label">${labels[id]}</div>
                        <div class="chart-bar-container">
                            <div class="chart-bar-fill your-bar" style="width: ${userPct}%">${userPct.toFixed(0)}%</div>
                        </div>
                    </div>
                `;
            });

            tbody.innerHTML = '';
            items.forEach(id => {
                const userTime = state.itemTimes[id];
                const parkTime = parkinsonTimes[id];
                const value = itemValues[id];

                tbody.innerHTML += `
                    <tr>
                        <td>${labels[id]}</td>
                        <td>${value.toLocaleString()}</td>
                        <td>${formatTime(userTime)}</td>
                        <td>${formatTime(parkTime)}</td>
                    </tr>
                `;
            });

            const trivialTime = state.itemTimes.bikeshed + state.itemTimes.coffeeroom;
            const importantTime = state.itemTimes.reactor + state.itemTimes.cafeteria;
            const ratio = trivialTime / Math.max(importantTime, 1);

            if (ratio > 1.5 || state.itemTimes.bikeshed > state.itemTimes.reactor) {
                verdictDiv.className = 'verdict bikeshedder';
                verdictDiv.innerHTML = `
                    <h4>Classic Bikeshedding!</h4>
                    <p>You spent more time on trivial items than important ones.
                    Parkinson's Law predicted this: the simpler the topic, the more everyone can contribute.</p>
                `;
            } else {
                verdictDiv.className = 'verdict rational';
                verdictDiv.innerHTML = `
                    <h4>Rational Time Allocation!</h4>
                    <p>You resisted the bikeshedding trap and allocated time proportionally to importance.
                    This is rare - most committees fall into Parkinson's trap!</p>
                `;
            }

            resultsPanel.style.display = 'block';
        }

        function formatTime(seconds) {
            if (seconds < 60) return seconds + 's';
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}m ${secs}s`;
        }

        // Bikeshedding Visualization
        let vizCanvas, vizCtx;
        let vizMode = 'bubbles';
        let vizAnimationId;
        let vizData = [
            { name: 'Nuclear Reactor', importance: 10000000, discussion: 2.5, color: '#e94560', x: 0, y: 0, vx: 0, vy: 0 },
            { name: 'Cafeteria', importance: 50000, discussion: 8, color: '#f9b208', x: 0, y: 0, vx: 0, vy: 0 },
            { name: 'Bicycle Shed', importance: 350, discussion: 45, color: '#4ecdc4', x: 0, y: 0, vx: 0, vy: 0 },
            { name: 'Coffee', importance: 200, discussion: 15, color: '#7efff5', x: 0, y: 0, vx: 0, vy: 0 }
        ];

        document.querySelectorAll('.viz-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.viz-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                vizMode = btn.dataset.viz;
                initVisualization();
            });
        });

        function initVisualization() {
            vizCanvas = document.getElementById('bikeshedCanvas');
            vizCtx = vizCanvas.getContext('2d');

            const container = vizCanvas.parentElement;
            const dpr = window.devicePixelRatio || 1;
            vizCanvas.width = container.clientWidth * dpr;
            vizCanvas.height = container.clientHeight * dpr;
            vizCtx.scale(dpr, dpr);

            // Reset positions
            vizData.forEach((d, i) => {
                d.x = container.clientWidth / 2 + (Math.random() - 0.5) * 100;
                d.y = container.clientHeight / 2 + (Math.random() - 0.5) * 100;
                d.vx = (Math.random() - 0.5) * 2;
                d.vy = (Math.random() - 0.5) * 2;
            });

            if (vizAnimationId) cancelAnimationFrame(vizAnimationId);

            if (vizMode === 'bubbles') {
                drawBubbles();
            } else if (vizMode === 'scatter') {
                drawScatter();
            } else if (vizMode === 'animated') {
                animateFlow();
            }
        }

        function drawBubbles() {
            const width = vizCanvas.width / (window.devicePixelRatio || 1);
            const height = vizCanvas.height / (window.devicePixelRatio || 1);

            vizCtx.clearRect(0, 0, width, height);
            vizCtx.fillStyle = 'rgba(0,0,0,0.3)';
            vizCtx.fillRect(0, 0, width, height);

            // Scale discussion time to radius (inverted relationship visualization)
            const maxDiscussion = Math.max(...vizData.map(d => d.discussion));

            vizData.forEach((d, i) => {
                const radius = (d.discussion / maxDiscussion) * 80 + 20;
                const x = width * (0.2 + i * 0.2);
                const y = height / 2;

                // Draw bubble
                vizCtx.beginPath();
                vizCtx.arc(x, y, radius, 0, Math.PI * 2);
                vizCtx.fillStyle = d.color + '40';
                vizCtx.fill();
                vizCtx.strokeStyle = d.color;
                vizCtx.lineWidth = 3;
                vizCtx.stroke();

                // Draw importance indicator (smaller circle inside)
                const impRadius = Math.log10(d.importance) * 5;
                vizCtx.beginPath();
                vizCtx.arc(x, y, impRadius, 0, Math.PI * 2);
                vizCtx.fillStyle = d.color;
                vizCtx.fill();

                // Label
                vizCtx.fillStyle = '#e0e0e0';
                vizCtx.font = '12px Segoe UI';
                vizCtx.textAlign = 'center';
                vizCtx.fillText(d.name, x, y + radius + 20);
                vizCtx.fillText(`${d.discussion} min`, x, y + radius + 35);
            });

            // Title
            vizCtx.fillStyle = '#888';
            vizCtx.font = '14px Segoe UI';
            vizCtx.textAlign = 'center';
            vizCtx.fillText('Outer circle = Discussion time | Inner circle = Actual importance', width / 2, height - 20);
        }

        function drawScatter() {
            const width = vizCanvas.width / (window.devicePixelRatio || 1);
            const height = vizCanvas.height / (window.devicePixelRatio || 1);
            const padding = 60;

            vizCtx.clearRect(0, 0, width, height);
            vizCtx.fillStyle = 'rgba(0,0,0,0.3)';
            vizCtx.fillRect(0, 0, width, height);

            // Draw axes
            vizCtx.strokeStyle = 'rgba(255,255,255,0.3)';
            vizCtx.lineWidth = 1;
            vizCtx.beginPath();
            vizCtx.moveTo(padding, padding);
            vizCtx.lineTo(padding, height - padding);
            vizCtx.lineTo(width - padding, height - padding);
            vizCtx.stroke();

            // Axis labels
            vizCtx.fillStyle = '#888';
            vizCtx.font = '12px Segoe UI';
            vizCtx.textAlign = 'center';
            vizCtx.fillText('Importance (log scale)', width / 2, height - 15);

            vizCtx.save();
            vizCtx.translate(15, height / 2);
            vizCtx.rotate(-Math.PI / 2);
            vizCtx.fillText('Discussion Time (min)', 0, 0);
            vizCtx.restore();

            // Plot points
            const maxDiscussion = Math.max(...vizData.map(d => d.discussion));
            const maxImportance = Math.max(...vizData.map(d => d.importance));

            vizData.forEach(d => {
                const x = padding + (Math.log10(d.importance) / Math.log10(maxImportance)) * (width - 2 * padding);
                const y = height - padding - (d.discussion / maxDiscussion) * (height - 2 * padding);
                const radius = 15;

                vizCtx.beginPath();
                vizCtx.arc(x, y, radius, 0, Math.PI * 2);
                vizCtx.fillStyle = d.color + 'cc';
                vizCtx.fill();
                vizCtx.strokeStyle = d.color;
                vizCtx.lineWidth = 2;
                vizCtx.stroke();

                vizCtx.fillStyle = '#fff';
                vizCtx.font = '10px Segoe UI';
                vizCtx.textAlign = 'center';
                vizCtx.fillText(d.name.split(' ')[0], x, y + radius + 15);
            });

            // Draw inverse relationship line
            vizCtx.strokeStyle = 'rgba(249,178,8,0.5)';
            vizCtx.lineWidth = 2;
            vizCtx.setLineDash([5, 5]);
            vizCtx.beginPath();
            vizCtx.moveTo(padding + 20, padding + 20);
            vizCtx.lineTo(width - padding - 20, height - padding - 20);
            vizCtx.stroke();
            vizCtx.setLineDash([]);

            vizCtx.fillStyle = '#f9b208';
            vizCtx.font = '11px Segoe UI';
            vizCtx.fillText('Inverse relationship', width - 100, padding + 40);
        }

        function animateFlow() {
            const width = vizCanvas.width / (window.devicePixelRatio || 1);
            const height = vizCanvas.height / (window.devicePixelRatio || 1);

            function animate() {
                vizCtx.fillStyle = 'rgba(20, 20, 40, 0.1)';
                vizCtx.fillRect(0, 0, width, height);

                const maxDiscussion = Math.max(...vizData.map(d => d.discussion));

                vizData.forEach((d, i) => {
                    // Size based on discussion time (the bikeshed effect)
                    const baseRadius = (d.discussion / maxDiscussion) * 60 + 15;
                    const pulseRadius = baseRadius + Math.sin(Date.now() / 500 + i) * 5;

                    // Move with simple physics
                    d.x += d.vx;
                    d.y += d.vy;

                    // Bounce off walls
                    if (d.x < pulseRadius || d.x > width - pulseRadius) d.vx *= -0.9;
                    if (d.y < pulseRadius || d.y > height - pulseRadius) d.vy *= -0.9;

                    // Keep in bounds
                    d.x = Math.max(pulseRadius, Math.min(width - pulseRadius, d.x));
                    d.y = Math.max(pulseRadius, Math.min(height - pulseRadius, d.y));

                    // Add slight random movement
                    d.vx += (Math.random() - 0.5) * 0.1;
                    d.vy += (Math.random() - 0.5) * 0.1;

                    // Draw trail
                    vizCtx.beginPath();
                    vizCtx.arc(d.x, d.y, pulseRadius, 0, Math.PI * 2);
                    vizCtx.fillStyle = d.color + '30';
                    vizCtx.fill();

                    // Draw main bubble
                    vizCtx.beginPath();
                    vizCtx.arc(d.x, d.y, pulseRadius * 0.7, 0, Math.PI * 2);
                    vizCtx.fillStyle = d.color + '80';
                    vizCtx.fill();
                    vizCtx.strokeStyle = d.color;
                    vizCtx.lineWidth = 2;
                    vizCtx.stroke();

                    // Label
                    vizCtx.fillStyle = '#fff';
                    vizCtx.font = 'bold 11px Segoe UI';
                    vizCtx.textAlign = 'center';
                    vizCtx.fillText(d.name.split(' ')[0], d.x, d.y + 4);
                });

                vizAnimationId = requestAnimationFrame(animate);
            }

            animate();
        }

        // Initialize visualization when tab is clicked
        window.addEventListener('resize', () => {
            if (document.getElementById('tab-visualization').classList.contains('active')) {
                initVisualization();
            }
        });
    </script>
</body>
</html>
