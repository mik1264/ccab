<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Illusion of Control - You Think You Control Random Outcomes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
            line-height: 1.7;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.8em;
            color: #ffd93d;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.3em;
            color: #a5b1c2;
            font-style: italic;
        }

        .citation {
            background: rgba(255, 217, 61, 0.1);
            border-left: 4px solid #ffd93d;
            padding: 20px;
            margin: 30px 0;
            border-radius: 0 10px 10px 0;
        }

        .citation-text {
            font-size: 1.2em;
            font-style: italic;
            color: #f8f8f8;
            margin-bottom: 10px;
        }

        .citation-source {
            color: #a5b1c2;
            font-size: 0.9em;
        }

        .intro-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
        }

        .intro-section h2 {
            color: #ffd93d;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .intro-section p {
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .highlight {
            color: #ffd93d;
            font-weight: bold;
        }

        /* Experiment Sections */
        .experiment-section {
            background: rgba(255, 255, 255, 0.08);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 40px;
        }

        .experiment-section h2 {
            color: #6bcb77;
            margin-bottom: 20px;
            font-size: 1.6em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .experiment-number {
            background: #6bcb77;
            color: #1a1a2e;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .experiment-intro {
            background: rgba(107, 203, 119, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
        }

        /* Lottery Experiment */
        .lottery-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .ticket-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            max-width: 500px;
        }

        .lottery-ticket {
            width: 100px;
            height: 140px;
            background: linear-gradient(135deg, #ffd93d, #f0c419);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }

        .lottery-ticket::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: rgba(0,0,0,0.1);
        }

        .lottery-ticket:hover:not(.disabled) {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(255, 217, 61, 0.4);
        }

        .lottery-ticket.selected {
            border: 4px solid #6bcb77;
            transform: scale(1.1);
        }

        .lottery-ticket.assigned {
            border: 4px solid #ff6b6b;
            opacity: 0.7;
        }

        .lottery-ticket.disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .ticket-number {
            font-size: 2em;
            font-weight: bold;
            color: #1a1a2e;
        }

        .ticket-label {
            font-size: 0.7em;
            color: #333;
            text-transform: uppercase;
            margin-top: 5px;
        }

        .lottery-phase {
            text-align: center;
            margin-bottom: 20px;
        }

        .phase-title {
            font-size: 1.3em;
            color: #ffd93d;
            margin-bottom: 10px;
        }

        .sell-back-section {
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
        }

        .sell-question {
            font-size: 1.3em;
            margin-bottom: 20px;
        }

        .price-input-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .price-label {
            font-size: 1.5em;
            color: #ffd93d;
        }

        .price-input {
            width: 120px;
            padding: 15px;
            font-size: 1.5em;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            outline: none;
        }

        .price-input:focus {
            border-color: #ffd93d;
        }

        /* Dice Experiment */
        .dice-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .target-display {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .target-label {
            font-size: 1em;
            color: #a5b1c2;
            margin-bottom: 10px;
        }

        .target-number {
            font-size: 4em;
            font-weight: bold;
            color: #ffd93d;
        }

        .throw-instruction {
            font-size: 1.1em;
            color: #6bcb77;
            margin-top: 10px;
        }

        .dice-area {
            width: 200px;
            height: 200px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            cursor: pointer;
        }

        .dice {
            width: 100px;
            height: 100px;
            background: #fff;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            color: #1a1a2e;
            transition: transform 0.1s ease;
            user-select: none;
        }

        .dice.rolling {
            animation: roll 0.5s ease-out;
        }

        @keyframes roll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(0.9); }
            50% { transform: rotate(180deg) scale(1.1); }
            75% { transform: rotate(270deg) scale(0.9); }
            100% { transform: rotate(360deg) scale(1); }
        }

        .throw-power {
            width: 100%;
            max-width: 400px;
        }

        .power-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9em;
            color: #a5b1c2;
        }

        .power-slider {
            width: 100%;
            height: 20px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #6bcb77, #ffd93d, #ff6b6b);
            border-radius: 10px;
            outline: none;
        }

        .power-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 30px;
            height: 30px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .throw-history {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .throw-record {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .throw-record.success {
            background: rgba(107, 203, 119, 0.3);
            border: 1px solid #6bcb77;
        }

        .throw-record.fail {
            background: rgba(255, 107, 107, 0.3);
            border: 1px solid #ff6b6b;
        }

        /* Competition Experiment */
        .competition-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .opponents-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            max-width: 600px;
        }

        .opponent-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .opponent-card:hover {
            transform: translateY(-5px);
        }

        .opponent-card.selected {
            border-color: #6bcb77;
        }

        .opponent-avatar {
            font-size: 4em;
            margin-bottom: 15px;
        }

        .opponent-name {
            font-size: 1.3em;
            color: #ffd93d;
            margin-bottom: 10px;
        }

        .opponent-desc {
            font-size: 0.95em;
            color: #a5b1c2;
        }

        .confidence-rating {
            margin-top: 30px;
            text-align: center;
        }

        .rating-question {
            font-size: 1.2em;
            margin-bottom: 15px;
        }

        .rating-scale {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .rating-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .rating-btn:hover {
            background: rgba(255, 217, 61, 0.3);
            border-color: #ffd93d;
        }

        .rating-btn.selected {
            background: #ffd93d;
            color: #1a1a2e;
            border-color: #ffd93d;
        }

        /* Results Section */
        .results-section {
            display: none;
            background: rgba(255, 255, 255, 0.08);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 40px;
        }

        .results-section.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .results-section h2 {
            color: #ff6b6b;
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.8em;
        }

        .result-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .result-card h3 {
            color: #ffd93d;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-finding {
            font-size: 1.1em;
            margin-bottom: 15px;
        }

        .your-behavior {
            color: #ff6b6b;
            font-weight: bold;
        }

        .langer-comparison {
            background: rgba(255, 217, 61, 0.1);
            padding: 15px;
            border-radius: 10px;
            font-size: 0.95em;
        }

        .langer-comparison strong {
            color: #ffd93d;
        }

        /* Buttons */
        .btn {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #6bcb77, #4caf50);
            color: #1a1a2e;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(107, 203, 119, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Research Section */
        .research-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
        }

        .research-section h2 {
            color: #6bcb77;
            margin-bottom: 20px;
            font-size: 1.6em;
        }

        .research-section h3 {
            color: #ffd93d;
            margin: 25px 0 15px;
            font-size: 1.3em;
        }

        .factor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .factor-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border-top: 4px solid #ffd93d;
        }

        .factor-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .factor-card h4 {
            color: #ffd93d;
            margin-bottom: 8px;
        }

        .factor-card p {
            font-size: 0.9em;
            color: #a5b1c2;
        }

        /* Examples Section */
        .examples-section {
            background: rgba(255, 107, 107, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
        }

        .examples-section h2 {
            color: #ff6b6b;
            margin-bottom: 20px;
            font-size: 1.6em;
        }

        .example-list {
            display: grid;
            gap: 15px;
        }

        .example-item {
            display: flex;
            gap: 15px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .example-icon {
            font-size: 2em;
        }

        .example-content h4 {
            color: #6bcb77;
            margin-bottom: 5px;
        }

        .example-content p {
            font-size: 0.95em;
            color: #a5b1c2;
        }

        /* Back link */
        .back-link {
            display: inline-block;
            color: #6bcb77;
            text-decoration: none;
            margin-bottom: 20px;
            font-size: 1.1em;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #ffd93d;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 600px) {
            h1 { font-size: 2em; }
            .ticket-grid { grid-template-columns: repeat(2, 1fr); }
            .opponents-grid { grid-template-columns: 1fr; }
            .container { padding: 20px 15px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <header>
            <h1>The Illusion of Control</h1>
            <p class="subtitle">You Believe You Can Influence Random Outcomes</p>
        </header>

        <div class="citation">
            <p class="citation-text">"An expectancy of personal success probability inappropriately higher
            than the objective probability would warrant."</p>
            <p class="citation-source">‚Äî Ellen Langer (1975), "The Illusion of Control", Journal of Personality and Social Psychology</p>
        </div>

        <div class="intro-section">
            <h2>Your Brain Wants Control ‚Äî Even Over Randomness</h2>
            <p>
                In 1975, psychologist <span class="highlight">Ellen Langer</span> conducted a series of experiments
                that revealed something deeply irrational about human cognition: we believe we can influence
                events that are completely random.
            </p>
            <p>
                People throw dice <span class="highlight">harder</span> when they need high numbers. They value
                lottery tickets they <em>chose</em> more than identical tickets assigned to them. They feel more
                confident competing against nervous opponents ‚Äî even in games of pure chance.
            </p>
            <p>
                This isn't stupidity. It's a deep-seated cognitive bias that makes us feel in control of our lives
                ‚Äî sometimes at great cost, especially in gambling.
            </p>
        </div>

        <!-- Experiment 1: Lottery -->
        <div class="experiment-section" id="exp1">
            <h2><span class="experiment-number">1</span> The Lottery Ticket Experiment</h2>
            <div class="experiment-intro">
                <p>Langer's famous study: Do you value a lottery ticket more if you CHOSE it?</p>
            </div>

            <div class="lottery-container" id="lotteryContainer">
                <div class="lottery-phase" id="lotteryPhase1">
                    <div class="phase-title">Choose Your Lottery Ticket</div>
                    <p style="color: #a5b1c2; margin-bottom: 20px;">Click on the ticket you want (or we'll assign one randomly)</p>
                    <div class="ticket-grid" id="ticketGrid"></div>
                    <br>
                    <button class="btn btn-primary" onclick="assignRandomTicket()" id="assignBtn">Assign Me One Randomly</button>
                </div>

                <div class="lottery-phase" id="lotteryPhase2" style="display: none;">
                    <div class="sell-back-section">
                        <div class="phase-title">
                            <span id="ticketType"></span> Ticket #<span id="ticketNum"></span>
                        </div>
                        <p class="sell-question">The lottery is about to draw. We want to buy back your ticket.<br>
                        What's the MINIMUM price you'd accept?</p>
                        <p style="font-size: 0.9em; color: #a5b1c2; margin-bottom: 20px;">(Original cost: $1.00)</p>
                        <div class="price-input-container">
                            <span class="price-label">$</span>
                            <input type="number" class="price-input" id="sellPrice" min="0" max="100" step="0.50" value="1.00">
                        </div>
                        <button class="btn btn-primary" onclick="submitSellPrice()">Submit Price</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Experiment 2: Dice -->
        <div class="experiment-section" id="exp2" style="display: none;">
            <h2><span class="experiment-number">2</span> The Dice Throwing Experiment</h2>
            <div class="experiment-intro">
                <p>In casinos, people throw harder for high numbers and softer for low. Let's test this.</p>
            </div>

            <div class="dice-container" id="diceContainer">
                <div class="target-display">
                    <div class="target-label">You need to roll:</div>
                    <div class="target-number" id="targetNumber">6</div>
                    <div class="throw-instruction" id="throwInstruction">Choose your throwing power and roll!</div>
                </div>

                <div class="throw-power">
                    <div class="power-label">
                        <span>Soft ü™∂</span>
                        <span>Hard üí™</span>
                    </div>
                    <input type="range" class="power-slider" id="powerSlider" min="1" max="10" value="5">
                </div>

                <div class="dice-area" onclick="rollDice()">
                    <div class="dice" id="dice">üé≤</div>
                </div>
                <p style="font-size: 0.9em; color: #a5b1c2;">Click the dice to roll</p>

                <div class="throw-history" id="throwHistory"></div>

                <div id="diceProgress" style="margin-top: 20px; text-align: center; color: #a5b1c2;">
                    Round <span id="diceRound">1</span> of 8
                </div>
            </div>
        </div>

        <!-- Experiment 3: Competition -->
        <div class="experiment-section" id="exp3" style="display: none;">
            <h2><span class="experiment-number">3</span> The Competition Experiment</h2>
            <div class="experiment-intro">
                <p>You're about to play a card-cutting game (pure luck). Who do you want as your opponent?</p>
            </div>

            <div class="competition-container" id="competitionContainer">
                <div class="opponents-grid">
                    <div class="opponent-card" onclick="selectOpponent('nervous')">
                        <div class="opponent-avatar">üò∞</div>
                        <div class="opponent-name">Nervous Nancy</div>
                        <div class="opponent-desc">Fidgety, unsure, avoids eye contact, seems anxious about the game</div>
                    </div>
                    <div class="opponent-card" onclick="selectOpponent('confident')">
                        <div class="opponent-avatar">üòé</div>
                        <div class="opponent-name">Confident Carl</div>
                        <div class="opponent-desc">Relaxed, makes eye contact, acts like they've won before</div>
                    </div>
                </div>

                <div class="confidence-rating" id="confidenceRating" style="display: none;">
                    <div class="rating-question">How confident are you that you'll WIN the card cut?</div>
                    <div class="rating-scale">
                        <button class="rating-btn" onclick="setConfidence(1)">1</button>
                        <button class="rating-btn" onclick="setConfidence(2)">2</button>
                        <button class="rating-btn" onclick="setConfidence(3)">3</button>
                        <button class="rating-btn" onclick="setConfidence(4)">4</button>
                        <button class="rating-btn" onclick="setConfidence(5)">5</button>
                        <button class="rating-btn" onclick="setConfidence(6)">6</button>
                        <button class="rating-btn" onclick="setConfidence(7)">7</button>
                    </div>
                    <p style="display: flex; justify-content: space-between; max-width: 350px; margin: 10px auto; font-size: 0.8em; color: #a5b1c2;">
                        <span>Not at all confident</span>
                        <span>Very confident</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section" id="resultsSection">
            <h2>üé≠ Your Illusion of Control Revealed</h2>

            <div class="result-card" id="lotteryResult">
                <h3>üé´ Lottery Result</h3>
                <p class="result-finding" id="lotteryFinding"></p>
                <div class="langer-comparison">
                    <strong>Langer's 1975 finding:</strong> Participants who CHOSE their ticket demanded
                    <strong>$8.67</strong> to sell it back. Those ASSIGNED a ticket only wanted <strong>$1.96</strong>.
                    That's a 4.4x difference ‚Äî for an identical lottery ticket!
                </div>
            </div>

            <div class="result-card" id="diceResult">
                <h3>üé≤ Dice Result</h3>
                <p class="result-finding" id="diceFinding"></p>
                <div class="langer-comparison">
                    <strong>The casino effect:</strong> Craps players throw harder when they need high numbers
                    and softer for low ‚Äî even though physics and probability don't care about your throwing style.
                    Your brain connects effort to outcome, even when there's no connection.
                </div>
            </div>

            <div class="result-card" id="competitionResult">
                <h3>üÉè Competition Result</h3>
                <p class="result-finding" id="competitionFinding"></p>
                <div class="langer-comparison">
                    <strong>Langer's finding:</strong> People bet more money against a nervous, awkward
                    competitor than a confident one ‚Äî in a pure game of chance! Your opponent's
                    demeanor has ZERO effect on card cutting, but our brains don't believe that.
                </div>
            </div>

            <button class="btn btn-primary" onclick="restartExperiments()" style="display: block; margin: 30px auto;">
                Try Again
            </button>
        </div>

        <div class="research-section">
            <h2>The Science of Illusory Control</h2>

            <p>
                Ellen Langer identified four key factors from skill-based activities that, when introduced
                into chance situations, make us feel inappropriately confident:
            </p>

            <div class="factor-grid">
                <div class="factor-card">
                    <div class="factor-icon">üéØ</div>
                    <h4>Choice</h4>
                    <p>Selecting your own lottery number makes you value the ticket more</p>
                </div>
                <div class="factor-card">
                    <div class="factor-icon">üë•</div>
                    <h4>Competition</h4>
                    <p>Opponent characteristics affect our confidence in random games</p>
                </div>
                <div class="factor-card">
                    <div class="factor-icon">üìö</div>
                    <h4>Familiarity</h4>
                    <p>The more we practice a random task, the more control we feel</p>
                </div>
                <div class="factor-card">
                    <div class="factor-icon">üñêÔ∏è</div>
                    <h4>Involvement</h4>
                    <p>Physical participation (throwing dice) increases felt control</p>
                </div>
            </div>

            <h3>Why Does This Happen?</h3>
            <p>
                The illusion of control likely served an evolutionary purpose. Believing you can affect outcomes
                motivates action ‚Äî and in a world where many outcomes ARE controllable, this bias helps. But our
                brains don't neatly distinguish between controllable and random events. We apply the same
                <span class="highlight">"effort = results"</span> intuition everywhere.
            </p>

            <h3>The Dark Side: Problem Gambling</h3>
            <p>
                Langer's research became foundational to understanding gambling addiction. Casinos exploit
                the illusion of control through: letting you throw the dice yourself, choose your own numbers,
                compete against others, and build familiarity through repeated play. Each factor strengthens
                the dangerous belief that skill matters in games of pure chance.
            </p>
        </div>

        <div class="examples-section">
            <h2>Illusion of Control in Everyday Life</h2>
            <div class="example-list">
                <div class="example-item">
                    <span class="example-icon">üé∞</span>
                    <div class="example-content">
                        <h4>Slot Machine Buttons</h4>
                        <p>Modern slots have "stop" buttons that feel active but don't affect outcomes.
                        The illusion of control keeps players engaged longer.</p>
                    </div>
                </div>
                <div class="example-item">
                    <span class="example-icon">üìà</span>
                    <div class="example-content">
                        <h4>Day Trading</h4>
                        <p>Active traders often underperform index funds, yet feel more in control of
                        their financial destiny. Activity feels like control.</p>
                    </div>
                </div>
                <div class="example-item">
                    <span class="example-icon">üöó</span>
                    <div class="example-content">
                        <h4>Driving vs. Flying</h4>
                        <p>People fear flying but not driving, even though driving is statistically
                        more dangerous. The illusion: I'm driving, so I'm in control.</p>
                    </div>
                </div>
                <div class="example-item">
                    <span class="example-icon">üèÄ</span>
                    <div class="example-content">
                        <h4>"Hot Hand" in Sports</h4>
                        <p>Players and fans believe in shooting streaks that statistics don't support.
                        We see patterns and control where randomness rules.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="citation">
            <p class="citation-text">"The illusion of control was defined as an expectancy of a personal
            success probability inappropriately higher than the objective probability would warrant."</p>
            <p class="citation-source">‚Äî Ellen Langer, Journal of Personality and Social Psychology (1975)</p>
        </div>
    </div>

    <script>
        // State
        let experimentData = {
            lottery: {
                chose: false,
                ticketNumber: null,
                sellPrice: null
            },
            dice: {
                throws: [],
                round: 0,
                targets: []
            },
            competition: {
                opponent: null,
                confidence: null
            }
        };

        // Initialize lottery tickets
        function initLottery() {
            const grid = document.getElementById('ticketGrid');
            grid.innerHTML = '';
            for (let i = 1; i <= 8; i++) {
                const ticket = document.createElement('div');
                ticket.className = 'lottery-ticket';
                ticket.innerHTML = `
                    <span class="ticket-number">${i}</span>
                    <span class="ticket-label">Lottery</span>
                `;
                ticket.onclick = () => selectTicket(i, true);
                grid.appendChild(ticket);
            }
        }

        function selectTicket(num, chose) {
            experimentData.lottery.chose = chose;
            experimentData.lottery.ticketNumber = num;

            // Visual feedback
            const tickets = document.querySelectorAll('.lottery-ticket');
            tickets.forEach((t, i) => {
                t.classList.add('disabled');
                if (i + 1 === num) {
                    t.classList.add(chose ? 'selected' : 'assigned');
                }
            });

            document.getElementById('assignBtn').style.display = 'none';

            setTimeout(() => {
                document.getElementById('lotteryPhase1').style.display = 'none';
                document.getElementById('lotteryPhase2').style.display = 'block';
                document.getElementById('ticketType').textContent = chose ? 'Your Chosen' : 'Assigned';
                document.getElementById('ticketNum').textContent = num;
            }, 1000);
        }

        function assignRandomTicket() {
            const num = Math.floor(Math.random() * 8) + 1;
            selectTicket(num, false);
        }

        function submitSellPrice() {
            const price = parseFloat(document.getElementById('sellPrice').value);
            experimentData.lottery.sellPrice = price;

            // Move to dice experiment
            document.getElementById('exp1').style.display = 'none';
            document.getElementById('exp2').style.display = 'block';
            initDice();
        }

        // Dice experiment
        function initDice() {
            // Generate 8 targets (mix of high and low)
            experimentData.dice.targets = [6, 1, 5, 2, 6, 1, 4, 3];
            experimentData.dice.round = 0;
            experimentData.dice.throws = [];
            showNextDiceRound();
        }

        function showNextDiceRound() {
            if (experimentData.dice.round >= 8) {
                endDiceExperiment();
                return;
            }

            const target = experimentData.dice.targets[experimentData.dice.round];
            document.getElementById('targetNumber').textContent = target;
            document.getElementById('throwInstruction').textContent =
                target >= 4 ? 'High number! Throw HARD?' : 'Low number! Throw SOFT?';
            document.getElementById('diceRound').textContent = experimentData.dice.round + 1;

            // Reset slider to middle
            document.getElementById('powerSlider').value = 5;
        }

        function rollDice() {
            const dice = document.getElementById('dice');
            if (dice.classList.contains('rolling')) return;

            const power = parseInt(document.getElementById('powerSlider').value);
            const target = experimentData.dice.targets[experimentData.dice.round];

            // Record the throw
            experimentData.dice.throws.push({
                target: target,
                power: power,
                isHigh: target >= 4
            });

            // Animate
            dice.classList.add('rolling');
            let rolls = 0;
            const rollInterval = setInterval(() => {
                dice.textContent = '‚öÄ‚öÅ‚öÇ‚öÉ‚öÑ‚öÖ'[Math.floor(Math.random() * 6)];
                rolls++;
                if (rolls > 10) {
                    clearInterval(rollInterval);
                    const result = Math.floor(Math.random() * 6) + 1;
                    dice.textContent = '‚öÄ‚öÅ‚öÇ‚öÉ‚öÑ‚öÖ'[result - 1];
                    dice.classList.remove('rolling');

                    // Show result
                    const success = result === target;
                    const history = document.getElementById('throwHistory');
                    const record = document.createElement('span');
                    record.className = `throw-record ${success ? 'success' : 'fail'}`;
                    record.textContent = `Target: ${target}, Got: ${result}`;
                    history.appendChild(record);

                    // Next round
                    experimentData.dice.round++;
                    setTimeout(showNextDiceRound, 1000);
                }
            }, 80);
        }

        function endDiceExperiment() {
            document.getElementById('exp2').style.display = 'none';
            document.getElementById('exp3').style.display = 'block';
        }

        // Competition experiment
        function selectOpponent(type) {
            experimentData.competition.opponent = type;

            document.querySelectorAll('.opponent-card').forEach(card => {
                card.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            document.getElementById('confidenceRating').style.display = 'block';
        }

        function setConfidence(level) {
            experimentData.competition.confidence = level;

            document.querySelectorAll('.rating-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            setTimeout(showResults, 500);
        }

        // Results
        function showResults() {
            document.getElementById('exp3').style.display = 'none';
            document.getElementById('resultsSection').classList.add('show');

            // Lottery result
            const lotteryFinding = document.getElementById('lotteryFinding');
            const sellPrice = experimentData.lottery.sellPrice;
            const chose = experimentData.lottery.chose;

            if (chose) {
                lotteryFinding.innerHTML = `You <span class="your-behavior">chose</span> your ticket and set
                    a sell price of <span class="your-behavior">$${sellPrice.toFixed(2)}</span>.
                    ${sellPrice > 1 ? 'By valuing it above the $1 cost, you demonstrated the illusion of control!' :
                    'Interesting ‚Äî you resisted inflating its value!'}`;
            } else {
                lotteryFinding.innerHTML = `You were <span class="your-behavior">assigned</span> a ticket and set
                    a sell price of <span class="your-behavior">$${sellPrice.toFixed(2)}</span>.
                    ${sellPrice > 1.96 ? 'Even without choice, you valued it above what Langer\'s assigned-ticket group did!' :
                    'Similar to Langer\'s assigned-ticket participants.'}`;
            }

            // Dice result
            const diceFinding = document.getElementById('diceFinding');
            const throws = experimentData.dice.throws;
            const highThrows = throws.filter(t => t.isHigh);
            const lowThrows = throws.filter(t => !t.isHigh);
            const avgHighPower = highThrows.reduce((sum, t) => sum + t.power, 0) / highThrows.length;
            const avgLowPower = lowThrows.reduce((sum, t) => sum + t.power, 0) / lowThrows.length;

            if (avgHighPower > avgLowPower + 0.5) {
                diceFinding.innerHTML = `You threw with average power <span class="your-behavior">${avgHighPower.toFixed(1)}</span>
                    for high targets and <span class="your-behavior">${avgLowPower.toFixed(1)}</span> for low targets.
                    Classic illusion of control ‚Äî harder throws for high numbers!`;
            } else if (avgLowPower > avgHighPower + 0.5) {
                diceFinding.innerHTML = `Interesting! You threw <span class="your-behavior">softer</span> for high numbers.
                    Not typical, but still shows you adjusted power based on target ‚Äî even though it can't affect outcomes.`;
            } else {
                diceFinding.innerHTML = `Your throwing power was consistent (${avgHighPower.toFixed(1)} vs ${avgLowPower.toFixed(1)}).
                    You resisted the urge to adjust power based on target ‚Äî impressive self-awareness!`;
            }

            // Competition result
            const compFinding = document.getElementById('competitionFinding');
            const opponent = experimentData.competition.opponent;
            const confidence = experimentData.competition.confidence;

            compFinding.innerHTML = `You chose to compete against the <span class="your-behavior">${opponent}</span>
                opponent and rated your confidence at <span class="your-behavior">${confidence}/7</span>.
                ${opponent === 'nervous' && confidence > 4 ?
                    'Classic illusion! You felt more confident against the nervous opponent ‚Äî in a game of pure chance!' :
                opponent === 'confident' && confidence < 4 ?
                    'The confident opponent made you feel less sure ‚Äî even though their demeanor can\'t affect card cutting.' :
                    'Your choice and confidence reveal how we treat random games like skill games.'}`;
        }

        function restartExperiments() {
            // Reset state
            experimentData = {
                lottery: { chose: false, ticketNumber: null, sellPrice: null },
                dice: { throws: [], round: 0, targets: [] },
                competition: { opponent: null, confidence: null }
            };

            // Reset UI
            document.getElementById('resultsSection').classList.remove('show');
            document.getElementById('exp1').style.display = 'block';
            document.getElementById('exp2').style.display = 'none';
            document.getElementById('exp3').style.display = 'none';
            document.getElementById('lotteryPhase1').style.display = 'block';
            document.getElementById('lotteryPhase2').style.display = 'none';
            document.getElementById('assignBtn').style.display = 'inline-block';
            document.getElementById('throwHistory').innerHTML = '';
            document.getElementById('confidenceRating').style.display = 'none';
            document.querySelectorAll('.opponent-card').forEach(c => c.classList.remove('selected'));
            document.querySelectorAll('.rating-btn').forEach(b => b.classList.remove('selected'));

            initLottery();
        }

        // Initialize
        initLottery();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
