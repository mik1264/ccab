<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Penrose Stairs | Surprising Paradoxes</title>
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            color: var(--dark-moss);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--moss);
            text-decoration: none;
            margin-bottom: 1.5rem;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: var(--terracotta);
        }

        h1 {
            font-family: 'Lora', Georgia, serif;
            font-size: 2.5rem;
            color: var(--dark-moss);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--moss);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .intro-box {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .intro-box h2 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .intro-box p {
            margin-bottom: 1rem;
        }

        .sim-container {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .sim-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .sim-header h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            font-size: 1.3rem;
        }

        /* Canvas container */
        .canvas-container {
            display: flex;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        #stairsCanvas {
            background: #f8f6f0;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .controls button {
            background: linear-gradient(135deg, var(--moss), var(--dark-moss));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(96, 108, 56, 0.4);
        }

        .controls button.active {
            background: linear-gradient(135deg, var(--terracotta), var(--earth));
        }

        /* Step counter */
        .step-counter {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .step-counter .value {
            font-size: 3rem;
            font-weight: bold;
            color: var(--terracotta);
        }

        .step-counter .label {
            color: var(--moss);
            font-size: 1rem;
        }

        .step-counter .altitude {
            color: var(--dark-moss);
            font-size: 1.1rem;
            margin-top: 0.5rem;
        }

        /* Direction indicator */
        .direction-row {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        .direction-btn {
            padding: 10px 20px;
            border: 2px solid var(--moss);
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .direction-btn.active {
            background: var(--moss);
            color: white;
        }

        .direction-btn:hover {
            transform: scale(1.05);
        }

        /* Paradox explanation */
        .paradox-box {
            background: linear-gradient(135deg, rgba(188, 108, 37, 0.15), rgba(221, 161, 94, 0.1));
            border: 2px solid var(--terracotta);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .paradox-box h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--terracotta);
            margin-bottom: 1rem;
        }

        .paradox-box p {
            margin-bottom: 1rem;
        }

        /* History timeline */
        .history-section {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .history-section h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--moss), var(--terracotta));
        }

        .timeline-item {
            position: relative;
            margin-bottom: 1.5rem;
            padding-left: 20px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: var(--sage);
            border-radius: 50%;
            border: 2px solid white;
        }

        .timeline-item .year {
            font-weight: bold;
            color: var(--terracotta);
            margin-bottom: 0.3rem;
        }

        /* Math explanation */
        .math-section {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .math-section h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .math-point {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            border-left: 3px solid var(--sage);
        }

        .math-point .icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        /* Pop culture */
        .culture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .culture-card {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }

        .culture-card .title {
            font-weight: bold;
            color: var(--moss);
            margin-bottom: 0.5rem;
        }

        .culture-card .year {
            color: var(--terracotta);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .culture-card p {
            font-size: 0.95rem;
        }

        /* Quote */
        .quote-box {
            background: rgba(96, 108, 56, 0.15);
            border-left: 4px solid var(--sage);
            padding: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
        }

        .quote-box .author {
            margin-top: 0.5rem;
            text-align: right;
            color: var(--moss);
            font-style: normal;
            font-weight: bold;
        }

        /* Mobile adjustments */
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .container { padding: 1rem; }
            #stairsCanvas { max-width: 100%; height: auto; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <h1>üîÑ The Penrose Stairs</h1>
        <p class="subtitle">The impossible staircase that goes forever... nowhere</p>

        <div class="intro-box">
            <h2>The Eternal Climb</h2>
            <p>
                The Penrose stairs depict a staircase that makes four 90-degree turns while continuously
                ascending (or descending)‚Äîyet somehow returns to its starting point. A person could climb
                these stairs forever and never get any higher.
            </p>
            <p>
                This is geometrically <strong>impossible in our 3D world</strong>, yet our brains accept
                the 2D image as valid. The illusion exploits how we perceive depth and perspective.
            </p>
        </div>

        <div class="sim-container">
            <div class="sim-header">
                <h3>Watch the Endless Climb</h3>
                <p style="color: var(--moss); margin-top: 0.5rem;">The figure walks forever, yet never changes altitude</p>
            </div>

            <div class="canvas-container">
                <canvas id="stairsCanvas" width="450" height="450"></canvas>
            </div>

            <div class="step-counter">
                <div class="value" id="stepCount">0</div>
                <div class="label">Steps Climbed</div>
                <div class="altitude" id="altitudeDisplay">Altitude Change: 0 meters</div>
            </div>

            <div class="direction-row">
                <button class="direction-btn active" id="btnAscend">‚¨ÜÔ∏è Ascending</button>
                <button class="direction-btn" id="btnDescend">‚¨áÔ∏è Descending</button>
            </div>

            <div class="controls">
                <button id="btnPlay" class="active">‚ñ∂ Start Walking</button>
                <button id="btnSpeed">üèÉ Speed Up</button>
                <button id="btnReset">‚Ü∫ Reset</button>
            </div>
        </div>

        <div class="paradox-box">
            <h3>‚ö° The Paradox</h3>
            <p>
                Each section of the staircase looks completely normal when viewed alone. Four sets of
                ascending stairs, each making a 90¬∞ turn. But when connected in a loop, they create
                an <strong>impossible closed path</strong>.
            </p>
            <p>
                In Euclidean geometry, if you ascend a total of 4 flights of stairs, each rising by
                height <em>h</em>, you should end up 4<em>h</em> meters higher than where you started.
                But the Penrose stairs bring you back to the exact same spot!
            </p>
            <p>
                <strong>The trick:</strong> The image uses perspective inconsistently. The "back" of the
                structure is drawn as if viewed from a different angle than the "front," creating a
                visual lie our brains don't notice.
            </p>
        </div>

        <div class="history-section">
            <h3>A Brief History</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="year">1937</div>
                    <div class="desc">Swedish artist Oscar Reutersv√§rd creates the first impossible staircase drawing.</div>
                </div>
                <div class="timeline-item">
                    <div class="year">1954</div>
                    <div class="desc">Roger Penrose sees M.C. Escher's work at Amsterdam's International Congress of Mathematicians and is "absolutely spellbound."</div>
                </div>
                <div class="timeline-item">
                    <div class="year">1958</div>
                    <div class="desc">Roger Penrose publishes the "Penrose Triangle" in the British Journal of Psychology.</div>
                </div>
                <div class="timeline-item">
                    <div class="year">1959</div>
                    <div class="desc">Lionel and Roger Penrose (father and son) publish the stairs variant, sending it to Escher.</div>
                </div>
                <div class="timeline-item">
                    <div class="year">1960</div>
                    <div class="desc">M.C. Escher creates his famous lithograph "Ascending and Descending" featuring monks on Penrose stairs.</div>
                </div>
            </div>
        </div>

        <div class="math-section">
            <h3>Why It's Mathematically Impossible</h3>
            <div class="math-point">
                <span class="icon">üìê</span>
                <div>
                    <strong>Euclidean Violation:</strong> In normal geometry, walking in a closed loop
                    and returning to your starting point means your net elevation change must be zero.
                    But if you're always climbing, you can't return to start.
                </div>
            </div>
            <div class="math-point">
                <span class="icon">üîÑ</span>
                <div>
                    <strong>Perspective Inconsistency:</strong> The image combines multiple vanishing
                    points that shouldn't coexist. Your brain processes each section separately and
                    fails to notice the global contradiction.
                </div>
            </div>
            <div class="math-point">
                <span class="icon">üåê</span>
                <div>
                    <strong>Non-Euclidean Possibility:</strong> Interestingly, Penrose stairs ARE
                    possible in certain non-Euclidean geometries like "nil geometry." Mathematics can
                    describe spaces where our normal intuitions break down!
                </div>
            </div>
        </div>

        <div class="culture-grid">
            <div class="culture-card">
                <div class="title">üé® Ascending and Descending</div>
                <div class="year">M.C. Escher, 1960</div>
                <p>Two lines of hooded monks walk the stairs endlessly‚Äîone always climbing, one always descending.</p>
            </div>
            <div class="culture-card">
                <div class="title">üé¨ Inception</div>
                <div class="year">Christopher Nolan, 2010</div>
                <p>Arthur demonstrates the paradoxical stairs in a dream world: "Paradox. A closed loop."</p>
            </div>
            <div class="culture-card">
                <div class="title">üïπÔ∏è Monument Valley</div>
                <div class="year">Ustwo Games, 2014</div>
                <p>The entire game is built on impossible architecture inspired by Escher and Penrose.</p>
            </div>
            <div class="culture-card">
                <div class="title">üß™ Cognitive Science</div>
                <div class="year">Ongoing Research</div>
                <p>Studies how our visual cortex processes depth cues locally without checking global consistency.</p>
            </div>
        </div>

        <div class="quote-box">
            "I was absolutely spellbound by his work... On the journey back to England I decided
            to produce something 'impossible' on my own."
            <div class="author">‚Äî Roger Penrose, after seeing Escher's art in 1954</div>
        </div>

        <div class="intro-box" style="background: rgba(138, 154, 91, 0.15); border-color: var(--moss);">
            <h2>Why Our Brains Are Fooled</h2>
            <p>
                The Penrose stairs exploit the <strong>Gestalt principle</strong> ‚Äî our tendency to perceive
                complete, coherent forms. Our visual system processes each corner of the staircase as a valid
                3D structure, but never "zooms out" to check if the whole thing is consistent.
            </p>
            <p>
                This is similar to how we understand language: we parse sentences word by word, trusting
                that they'll make sense, rather than analyzing the entire structure before comprehending any part.
            </p>
            <p>
                The illusion reveals a fundamental truth: <strong>perception is a construction</strong>,
                not a direct reading of reality. Our brains build a model of the world using shortcuts that
                usually work ‚Äî but can be hacked by clever artists and mathematicians.
            </p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('stairsCanvas');
        const ctx = canvas.getContext('2d');

        // Animation state
        let stepCount = 0;
        let walking = false;
        let ascending = true;
        let speed = 1;
        let walkerProgress = 0; // 0 to 1 along the path
        let animationId = null;

        // DOM elements
        const stepCountEl = document.getElementById('stepCount');
        const altitudeEl = document.getElementById('altitudeDisplay');
        const btnPlay = document.getElementById('btnPlay');
        const btnSpeed = document.getElementById('btnSpeed');
        const btnReset = document.getElementById('btnReset');
        const btnAscend = document.getElementById('btnAscend');
        const btnDescend = document.getElementById('btnDescend');

        // Draw the Penrose stairs
        function drawStairs() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const cx = canvas.width / 2;
            const cy = canvas.height / 2;

            // Colors
            const topColor = '#d4c4a8';
            const leftColor = '#a89880';
            const rightColor = '#c8b898';
            const lineColor = '#5d4e37';

            ctx.save();
            ctx.translate(cx, cy);

            // Draw the four staircases
            // Each staircase has 4 steps

            const stepWidth = 35;
            const stepHeight = 12;
            const stepDepth = 20;
            const stairsPerSide = 4;

            // Define the four corners of the impossible square
            const offset = 100;

            // Draw in order for proper layering
            drawStairSection(ctx, -offset, -offset - 40, 0, stairsPerSide, stepWidth, stepHeight, stepDepth, topColor, leftColor, rightColor, lineColor); // top
            drawStairSection(ctx, offset - 20, -offset, 1, stairsPerSide, stepWidth, stepHeight, stepDepth, topColor, leftColor, rightColor, lineColor); // right
            drawStairSection(ctx, offset - 60, offset - 60, 2, stairsPerSide, stepWidth, stepHeight, stepDepth, topColor, leftColor, rightColor, lineColor); // bottom
            drawStairSection(ctx, -offset - 40, offset - 100, 3, stairsPerSide, stepWidth, stepHeight, stepDepth, topColor, leftColor, rightColor, lineColor); // left

            // Draw the walker
            drawWalker(ctx);

            ctx.restore();
        }

        function drawStairSection(ctx, startX, startY, direction, numSteps, stepW, stepH, stepD, topC, leftC, rightC, lineC) {
            ctx.save();
            ctx.translate(startX, startY);

            // Direction: 0=right, 1=down, 2=left, 3=up
            const angle = direction * Math.PI / 2;
            ctx.rotate(angle);

            for (let i = 0; i < numSteps; i++) {
                const x = i * stepW;
                const y = -i * stepH;

                // Top face
                ctx.fillStyle = topC;
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(x + stepW, y);
                ctx.lineTo(x + stepW + stepD * 0.5, y - stepD * 0.3);
                ctx.lineTo(x + stepD * 0.5, y - stepD * 0.3);
                ctx.closePath();
                ctx.fill();
                ctx.strokeStyle = lineC;
                ctx.lineWidth = 1;
                ctx.stroke();

                // Front face
                ctx.fillStyle = leftC;
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(x + stepW, y);
                ctx.lineTo(x + stepW, y + stepH);
                ctx.lineTo(x, y + stepH);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();

                // Right face
                ctx.fillStyle = rightC;
                ctx.beginPath();
                ctx.moveTo(x + stepW, y);
                ctx.lineTo(x + stepW + stepD * 0.5, y - stepD * 0.3);
                ctx.lineTo(x + stepW + stepD * 0.5, y + stepH - stepD * 0.3);
                ctx.lineTo(x + stepW, y + stepH);
                ctx.closePath();
                ctx.fill();
                ctx.stroke();
            }

            ctx.restore();
        }

        function drawWalker(ctx) {
            // Calculate walker position along the path
            const totalSteps = 16; // 4 sides * 4 steps
            const currentStep = (walkerProgress * totalSteps) % totalSteps;
            const side = Math.floor(currentStep / 4);
            const stepInSide = currentStep % 4;

            // Calculate position based on side and step
            let x, y;
            const offset = 100;
            const stepW = 35;
            const stepH = 12;

            // Position along each side
            const sideProgress = stepInSide / 4;

            switch (side) {
                case 0: // Top side (going right)
                    x = -offset + sideProgress * (offset * 2);
                    y = -offset - 40 + sideProgress * 30;
                    break;
                case 1: // Right side (going down)
                    x = offset - 20 + sideProgress * 20;
                    y = -offset + sideProgress * (offset * 2);
                    break;
                case 2: // Bottom side (going left)
                    x = offset - 60 - sideProgress * (offset * 2);
                    y = offset - 60 - sideProgress * 30;
                    break;
                case 3: // Left side (going up)
                    x = -offset - 40 - sideProgress * 20;
                    y = offset - 100 - sideProgress * (offset * 2);
                    break;
            }

            // Draw figure
            const figureHeight = 25;

            // Body
            ctx.fillStyle = '#2d5a27';
            ctx.beginPath();
            ctx.ellipse(x, y - figureHeight/2, 8, 12, 0, 0, Math.PI * 2);
            ctx.fill();

            // Head
            ctx.fillStyle = '#f4d9b0';
            ctx.beginPath();
            ctx.arc(x, y - figureHeight - 5, 8, 0, Math.PI * 2);
            ctx.fill();

            // Walking legs animation
            const legPhase = (walkerProgress * 20) % 1;
            const legSwing = Math.sin(legPhase * Math.PI * 2) * 5;

            ctx.strokeStyle = '#2d5a27';
            ctx.lineWidth = 3;

            // Left leg
            ctx.beginPath();
            ctx.moveTo(x - 3, y - 5);
            ctx.lineTo(x - 3 + legSwing, y + 5);
            ctx.stroke();

            // Right leg
            ctx.beginPath();
            ctx.moveTo(x + 3, y - 5);
            ctx.lineTo(x + 3 - legSwing, y + 5);
            ctx.stroke();
        }

        function animate() {
            if (!walking) return;

            const stepSpeed = 0.002 * speed;
            walkerProgress += ascending ? stepSpeed : -stepSpeed;

            if (walkerProgress < 0) walkerProgress += 1;
            if (walkerProgress >= 1) walkerProgress -= 1;

            // Count steps (each 1/16 of progress = 1 step)
            const newStepCount = Math.floor(walkerProgress * 16 + (ascending ? 0.5 : 0));
            if (newStepCount !== stepCount % 16) {
                stepCount++;
                updateDisplay();
            }

            drawStairs();
            animationId = requestAnimationFrame(animate);
        }

        function updateDisplay() {
            stepCountEl.textContent = stepCount;

            // The paradox: they've climbed many steps but altitude is always 0!
            const fakeAltitude = ascending ? stepCount * 0.3 : -stepCount * 0.3;
            altitudeEl.innerHTML = `Altitude Change: <span style="color: var(--terracotta)">0 meters</span> (should be ${fakeAltitude.toFixed(1)}m!)`;
        }

        // Event listeners
        btnPlay.addEventListener('click', () => {
            walking = !walking;
            btnPlay.textContent = walking ? '‚è∏ Pause' : '‚ñ∂ Start Walking';
            btnPlay.classList.toggle('active', walking);
            if (walking) animate();
        });

        btnSpeed.addEventListener('click', () => {
            speed = speed === 1 ? 3 : 1;
            btnSpeed.textContent = speed === 1 ? 'üèÉ Speed Up' : 'üö∂ Slow Down';
            btnSpeed.classList.toggle('active', speed > 1);
        });

        btnReset.addEventListener('click', () => {
            walking = false;
            walkerProgress = 0;
            stepCount = 0;
            speed = 1;
            btnPlay.textContent = '‚ñ∂ Start Walking';
            btnPlay.classList.remove('active');
            btnSpeed.textContent = 'üèÉ Speed Up';
            btnSpeed.classList.remove('active');
            updateDisplay();
            drawStairs();
        });

        btnAscend.addEventListener('click', () => {
            ascending = true;
            btnAscend.classList.add('active');
            btnDescend.classList.remove('active');
        });

        btnDescend.addEventListener('click', () => {
            ascending = false;
            btnDescend.classList.add('active');
            btnAscend.classList.remove('active');
        });

        // Initialize
        drawStairs();
        updateDisplay();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
