<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Turing Tarpit - Everything Possible, Nothing Easy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #0a0a0a;
            min-height: 100vh;
            color: #00ff00;
            overflow-x: hidden;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #666;
            text-decoration: none;
            font-size: 14px;
            z-index: 100;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: #00ff00;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        h1 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #00ff00;
        }

        .subtitle {
            text-align: center;
            color: #888;
            font-size: 1rem;
            margin-bottom: 40px;
            font-style: italic;
        }

        .intro-panel {
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .intro-panel h2 {
            color: #00ff00;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .intro-panel p {
            line-height: 1.7;
            color: #aaa;
            margin-bottom: 12px;
        }

        .epigram {
            background: #0f0f0f;
            border-left: 3px solid #00ff00;
            padding: 20px;
            margin: 20px 0;
            font-size: 1.1rem;
            color: #00ff00;
        }

        .epigram-source {
            color: #666;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .challenge-section {
            margin-top: 40px;
        }

        .challenge-section h2 {
            color: #00ff00;
            margin-bottom: 20px;
            text-align: center;
        }

        .task-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
        }

        .task-btn {
            background: #1a1a1a;
            border: 1px solid #333;
            padding: 12px 20px;
            color: #888;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
            font-family: inherit;
        }

        .task-btn:hover {
            border-color: #00ff00;
            color: #00ff00;
        }

        .task-btn.active {
            background: #002200;
            border-color: #00ff00;
            color: #00ff00;
        }

        .editors-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .editor-panel {
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            overflow: hidden;
        }

        .editor-header {
            background: #1a1a1a;
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #333;
        }

        .editor-title {
            font-weight: bold;
            font-size: 0.9rem;
        }

        .python-header { color: #3572A5; }
        .tarpit-header { color: #ff6600; }

        .char-count {
            font-size: 0.8rem;
            color: #666;
        }

        .editor-area {
            position: relative;
        }

        textarea {
            width: 100%;
            height: 200px;
            background: #0a0a0a;
            border: none;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            padding: 15px;
            resize: none;
            outline: none;
        }

        textarea.tarpit {
            color: #ff6600;
        }

        .run-btn {
            width: 100%;
            padding: 12px;
            background: #002200;
            border: 1px solid #00ff00;
            color: #00ff00;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .run-btn:hover {
            background: #003300;
        }

        .output-area {
            padding: 15px;
            background: #0a0a0a;
            border-top: 1px solid #333;
            min-height: 80px;
            font-size: 13px;
        }

        .output-label {
            color: #666;
            font-size: 0.8rem;
            margin-bottom: 5px;
        }

        .output-content {
            white-space: pre-wrap;
            word-break: break-all;
        }

        .output-content.error {
            color: #ff4444;
        }

        .output-content.success {
            color: #00ff00;
        }

        .comparison-stats {
            margin-top: 30px;
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 25px;
        }

        .comparison-stats h3 {
            color: #00ff00;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .stat-card {
            text-align: center;
            padding: 15px;
            background: #0a0a0a;
            border-radius: 8px;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .stat-value.python { color: #3572A5; }
        .stat-value.tarpit { color: #ff6600; }
        .stat-value.ratio { color: #ffff00; }

        .examples-panel {
            margin-top: 40px;
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 25px;
        }

        .examples-panel h3 {
            color: #ff6600;
            margin-bottom: 20px;
        }

        .example-item {
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid #222;
        }

        .example-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .example-name {
            color: #00ff00;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .example-codes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .example-code {
            background: #0a0a0a;
            padding: 15px;
            border-radius: 4px;
            font-size: 0.85rem;
            overflow-x: auto;
        }

        .example-code.python {
            color: #3572A5;
        }

        .example-code.bf {
            color: #ff6600;
            word-break: break-all;
        }

        .code-label {
            color: #666;
            font-size: 0.75rem;
            margin-bottom: 8px;
        }

        .real-tarpits {
            margin-top: 40px;
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 25px;
        }

        .real-tarpits h3 {
            color: #00ff00;
            margin-bottom: 20px;
        }

        .tarpit-list {
            display: grid;
            gap: 15px;
        }

        .tarpit-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            background: #0a0a0a;
            border-radius: 8px;
            align-items: flex-start;
        }

        .tarpit-name {
            font-weight: bold;
            color: #ff6600;
            min-width: 100px;
        }

        .tarpit-desc {
            color: #888;
            line-height: 1.5;
        }

        .bf-reference {
            margin-top: 30px;
            background: #111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 25px;
        }

        .bf-reference h3 {
            color: #ff6600;
            margin-bottom: 15px;
        }

        .bf-commands {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .bf-cmd {
            background: #0a0a0a;
            padding: 10px;
            border-radius: 4px;
            text-align: center;
        }

        .bf-cmd-char {
            font-size: 1.5rem;
            color: #ff6600;
            font-weight: bold;
        }

        .bf-cmd-desc {
            font-size: 0.75rem;
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 700px) {
            .editors-container {
                grid-template-columns: 1fr;
            }
            .example-codes {
                grid-template-columns: 1fr;
            }
            .stats-grid {
                grid-template-columns: 1fr;
            }
            .bf-commands {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <div class="container">
        <h1>The Turing Tarpit</h1>
        <p class="subtitle">"Beware of the Turing tar-pit in which everything is possible but nothing of interest is easy."</p>

        <div class="intro-panel">
            <h2>When Power Becomes Paralysis</h2>
            <p>
                A <strong>Turing tarpit</strong> is a programming language or system that is theoretically capable of
                computing anything (Turing-complete) but makes practical programming extraordinarily difficult.
                Like being stuck in tar: you can move, but every step is agony.
            </p>
            <p>
                The paradox: adding features makes languages easier to use, but the most "powerful" minimal
                languages (with just a few operations) become nearly impossible to use in practice.
            </p>

            <div class="epigram">
                "54. Beware of the Turing tar-pit in which everything is possible but nothing of interest is easy."
                <div class="epigram-source">— Alan Perlis, Epigrams on Programming (1982)</div>
            </div>
        </div>

        <div class="challenge-section">
            <h2>Experience the Tarpit: Side-by-Side Comparison</h2>

            <div class="task-selector">
                <button class="task-btn active" data-task="hello">Hello World</button>
                <button class="task-btn" data-task="add">Add 2 + 3</button>
                <button class="task-btn" data-task="loop">Count to 5</button>
                <button class="task-btn" data-task="reverse">Reverse "ABC"</button>
            </div>

            <div class="editors-container">
                <div class="editor-panel">
                    <div class="editor-header">
                        <span class="editor-title python-header">Python</span>
                        <span class="char-count"><span id="python-chars">0</span> chars</span>
                    </div>
                    <div class="editor-area">
                        <textarea id="python-code" placeholder="Python code..."></textarea>
                    </div>
                    <button class="run-btn" onclick="runPython()">▶ Run Python</button>
                    <div class="output-area">
                        <div class="output-label">Output:</div>
                        <div class="output-content" id="python-output">—</div>
                    </div>
                </div>

                <div class="editor-panel">
                    <div class="editor-header">
                        <span class="editor-title tarpit-header">Brainfuck (Tarpit)</span>
                        <span class="char-count"><span id="bf-chars">0</span> chars</span>
                    </div>
                    <div class="editor-area">
                        <textarea id="bf-code" class="tarpit" placeholder="Brainfuck code..."></textarea>
                    </div>
                    <button class="run-btn" onclick="runBrainfuck()">▶ Run Brainfuck</button>
                    <div class="output-area">
                        <div class="output-label">Output:</div>
                        <div class="output-content" id="bf-output">—</div>
                    </div>
                </div>
            </div>

            <div class="comparison-stats">
                <h3>The Verbosity Tax</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Python Characters</div>
                        <div class="stat-value python" id="stat-python">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Brainfuck Characters</div>
                        <div class="stat-value tarpit" id="stat-bf">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Expansion Factor</div>
                        <div class="stat-value ratio" id="stat-ratio">—</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bf-reference">
            <h3>Brainfuck: Only 8 Commands</h3>
            <p style="color: #888; margin-bottom: 15px;">That's it. This is Turing-complete. You can write any program... in theory.</p>
            <div class="bf-commands">
                <div class="bf-cmd">
                    <div class="bf-cmd-char">&gt;</div>
                    <div class="bf-cmd-desc">Move pointer right</div>
                </div>
                <div class="bf-cmd">
                    <div class="bf-cmd-char">&lt;</div>
                    <div class="bf-cmd-desc">Move pointer left</div>
                </div>
                <div class="bf-cmd">
                    <div class="bf-cmd-char">+</div>
                    <div class="bf-cmd-desc">Increment cell</div>
                </div>
                <div class="bf-cmd">
                    <div class="bf-cmd-char">-</div>
                    <div class="bf-cmd-desc">Decrement cell</div>
                </div>
                <div class="bf-cmd">
                    <div class="bf-cmd-char">.</div>
                    <div class="bf-cmd-desc">Output ASCII</div>
                </div>
                <div class="bf-cmd">
                    <div class="bf-cmd-char">,</div>
                    <div class="bf-cmd-desc">Input ASCII</div>
                </div>
                <div class="bf-cmd">
                    <div class="bf-cmd-char">[</div>
                    <div class="bf-cmd-desc">Loop start (if ≠ 0)</div>
                </div>
                <div class="bf-cmd">
                    <div class="bf-cmd-char">]</div>
                    <div class="bf-cmd-desc">Loop end (if ≠ 0)</div>
                </div>
            </div>
        </div>

        <div class="examples-panel">
            <h3>Classic Comparisons</h3>

            <div class="example-item">
                <div class="example-name">"Hello World"</div>
                <div class="example-codes">
                    <div class="example-code python">
                        <div class="code-label">Python (13 chars)</div>
                        print("Hello World")
                    </div>
                    <div class="example-code bf">
                        <div class="code-label">Brainfuck (106 chars)</div>
                        ++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>.>---.+++++++..+++.>>.<-.<.+++.------.--------.>>+.>++.
                    </div>
                </div>
            </div>

            <div class="example-item">
                <div class="example-name">Print numbers 1-10</div>
                <div class="example-codes">
                    <div class="example-code python">
                        <div class="code-label">Python (31 chars)</div>
                        for i in range(1,11): print(i)
                    </div>
                    <div class="example-code bf">
                        <div class="code-label">Brainfuck (~200+ chars, simplified)</div>
                        ++++++++++[>++++++++++<-]>-[>+>+<<-]>>[-<<+>>]<[>.+<-]
                        (Full version prints single digits only; multi-digit requires ~500+ more chars)
                    </div>
                </div>
            </div>

            <div class="example-item">
                <div class="example-name">Fibonacci sequence</div>
                <div class="example-codes">
                    <div class="example-code python">
                        <div class="code-label">Python (57 chars)</div>
                        a,b=0,1
while a<100:print(a);a,b=b,a+b
                    </div>
                    <div class="example-code bf">
                        <div class="code-label">Brainfuck (~800-1200 chars)</div>
                        [Too long to display - requires manual number-to-ASCII conversion, multi-cell arithmetic, and complex loop structures. Academic exercises only.]
                    </div>
                </div>
            </div>
        </div>

        <div class="real-tarpits">
            <h3>Famous Turing Tarpits</h3>
            <div class="tarpit-list">
                <div class="tarpit-item">
                    <span class="tarpit-name">Brainfuck</span>
                    <span class="tarpit-desc">8 commands operating on a tape of cells. Created by Urban Müller (1993) to have the smallest possible compiler. The compiler is only 240 bytes!</span>
                </div>
                <div class="tarpit-item">
                    <span class="tarpit-name">Malbolge</span>
                    <span class="tarpit-desc">Designed to be nearly impossible to program. The first "Hello World" took 2 years to write. Self-modifying, base-3, encrypted instructions.</span>
                </div>
                <div class="tarpit-item">
                    <span class="tarpit-name">Unlambda</span>
                    <span class="tarpit-desc">Pure functional programming taken to the extreme. No named functions, no numbers, just lambda calculus combinators (S, K, I).</span>
                </div>
                <div class="tarpit-item">
                    <span class="tarpit-name">INTERCAL</span>
                    <span class="tarpit-desc">Parody language (1972). You must say "PLEASE" occasionally or it refuses to run. "COME FROM" replaces "GOTO". Deliberately obtuse.</span>
                </div>
                <div class="tarpit-item">
                    <span class="tarpit-name">Whitespace</span>
                    <span class="tarpit-desc">Only spaces, tabs, and newlines are valid. All other characters are comments. Programs are invisible in most editors.</span>
                </div>
            </div>
        </div>

        <div class="intro-panel" style="margin-top: 40px;">
            <h2>The Deeper Lesson</h2>
            <p>
                The Turing tarpit reveals that <strong>theoretical equivalence ≠ practical equivalence</strong>.
                All Turing-complete languages can compute the same things, but some make it 100x harder.
            </p>
            <p>
                This applies beyond programming: bureaucracies that technically allow anything but make
                every action difficult; legal systems where rights exist on paper but are impractical to exercise;
                tools that are "flexible" but require expert knowledge for basic tasks.
            </p>
            <p style="color: #00ff00; margin-top: 15px;">
                The lesson: <strong>Capability without usability is a trap.</strong>
            </p>
        </div>
    </div>

    <script>
        const tasks = {
            hello: {
                python: 'print("Hello World")',
                bf: '++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>.>---.+++++++..+++.>>.<-.<.+++.------.--------.>>+.>++.',
                expected: 'Hello World'
            },
            add: {
                python: 'print(2 + 3)',
                bf: '++>+++<[->+<]>+++++++++++++++++++++++++++++++++++++++++++++++.',
                expected: '5'
            },
            loop: {
                python: 'for i in range(1,6): print(i)',
                bf: '>+++++[<+++++++++>-]<.>++++[<+>-]<.+.+.+.',
                expected: '12345'
            },
            reverse: {
                python: 'print("ABC"[::-1])',
                bf: '++++++[>+++++++++++<-]>-.+.+.',
                expected: 'CBA'
            }
        };

        let currentTask = 'hello';

        document.querySelectorAll('.task-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.task-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentTask = btn.dataset.task;
                loadTask();
            });
        });

        function loadTask() {
            const task = tasks[currentTask];
            document.getElementById('python-code').value = task.python;
            document.getElementById('bf-code').value = task.bf;
            updateCharCounts();
            document.getElementById('python-output').textContent = '—';
            document.getElementById('bf-output').textContent = '—';
        }

        function updateCharCounts() {
            const pyChars = document.getElementById('python-code').value.length;
            const bfChars = document.getElementById('bf-code').value.length;

            document.getElementById('python-chars').textContent = pyChars;
            document.getElementById('bf-chars').textContent = bfChars;
            document.getElementById('stat-python').textContent = pyChars;
            document.getElementById('stat-bf').textContent = bfChars;

            if (pyChars > 0 && bfChars > 0) {
                const ratio = (bfChars / pyChars).toFixed(1);
                document.getElementById('stat-ratio').textContent = ratio + 'x';
            } else {
                document.getElementById('stat-ratio').textContent = '—';
            }
        }

        document.getElementById('python-code').addEventListener('input', updateCharCounts);
        document.getElementById('bf-code').addEventListener('input', updateCharCounts);

        function runPython() {
            const code = document.getElementById('python-code').value;
            const output = document.getElementById('python-output');

            // Simulate Python execution for our specific examples
            try {
                let result = '';
                if (code.includes('print("Hello World")')) {
                    result = 'Hello World';
                } else if (code.includes('print(2 + 3)')) {
                    result = '5';
                } else if (code.includes('range(1,6)')) {
                    result = '1\n2\n3\n4\n5';
                } else if (code.includes('[::-1]')) {
                    result = 'CBA';
                } else {
                    result = '[Simulated output]';
                }
                output.textContent = result;
                output.className = 'output-content success';
            } catch (e) {
                output.textContent = 'Error: ' + e.message;
                output.className = 'output-content error';
            }
        }

        function runBrainfuck() {
            const code = document.getElementById('bf-code').value;
            const output = document.getElementById('bf-output');

            try {
                const result = interpretBrainfuck(code);
                output.textContent = result || '[No output]';
                output.className = 'output-content success';
            } catch (e) {
                output.textContent = 'Error: ' + e.message;
                output.className = 'output-content error';
            }
        }

        function interpretBrainfuck(code, input = '') {
            const tape = new Array(30000).fill(0);
            let ptr = 0;
            let inputPtr = 0;
            let output = '';
            let codePtr = 0;
            let iterations = 0;
            const maxIterations = 100000;

            // Build bracket map
            const bracketMap = {};
            const stack = [];
            for (let i = 0; i < code.length; i++) {
                if (code[i] === '[') {
                    stack.push(i);
                } else if (code[i] === ']') {
                    if (stack.length === 0) throw new Error('Unmatched ]');
                    const open = stack.pop();
                    bracketMap[open] = i;
                    bracketMap[i] = open;
                }
            }
            if (stack.length > 0) throw new Error('Unmatched [');

            while (codePtr < code.length) {
                if (++iterations > maxIterations) {
                    throw new Error('Execution limit exceeded');
                }

                const cmd = code[codePtr];

                switch (cmd) {
                    case '>': ptr++; break;
                    case '<': ptr--; break;
                    case '+': tape[ptr] = (tape[ptr] + 1) % 256; break;
                    case '-': tape[ptr] = (tape[ptr] - 1 + 256) % 256; break;
                    case '.': output += String.fromCharCode(tape[ptr]); break;
                    case ',':
                        tape[ptr] = inputPtr < input.length ? input.charCodeAt(inputPtr++) : 0;
                        break;
                    case '[':
                        if (tape[ptr] === 0) codePtr = bracketMap[codePtr];
                        break;
                    case ']':
                        if (tape[ptr] !== 0) codePtr = bracketMap[codePtr];
                        break;
                }

                codePtr++;
            }

            return output;
        }

        // Initialize
        loadTask();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
