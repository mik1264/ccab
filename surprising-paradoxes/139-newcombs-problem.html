<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>139. Newcomb's Problem | Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #ffd700;
            --gold-dark: #b8860b;
            --blue-deep: #1a237e;
            --blue-light: #3f51b5;
            --bg-dark: #0d1421;
            --bg-panel: rgba(26, 35, 126, 0.3);
            --text-primary: #e8e8f0;
            --text-secondary: #9a9ab8;
            --green: #4caf50;
            --red: #f44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1a1a3a 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: var(--gold);
            text-decoration: none;
            font-size: 0.9rem;
            z-index: 1000;
            transition: all 0.3s;
        }

        .back-link:hover {
            color: #fff;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        .paradox-number {
            font-family: 'Lora', serif;
            font-size: 0.9rem;
            color: var(--gold);
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-primary);
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-weight: 300;
        }

        /* Game Board */
        .game-container {
            background: var(--bg-panel);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            border: 1px solid rgba(255,215,0,0.2);
        }

        .predictor-section {
            text-align: center;
            margin-bottom: 30px;
        }

        .predictor-avatar {
            width: 100px;
            height: 100px;
            margin: 0 auto 15px;
            background: radial-gradient(circle at 30% 30%, #9c27b0, #4a148c);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            box-shadow: 0 0 40px rgba(156,39,176,0.5);
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 40px rgba(156,39,176,0.5); }
            50% { box-shadow: 0 0 60px rgba(156,39,176,0.8); }
        }

        .predictor-name {
            font-family: 'Lora', serif;
            font-size: 1.3rem;
            color: var(--gold);
            margin-bottom: 5px;
        }

        .predictor-desc {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .prediction-status {
            margin-top: 15px;
            padding: 10px 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            display: inline-block;
            font-size: 0.9rem;
        }

        .prediction-status.made {
            color: var(--gold);
        }

        /* Boxes Display */
        .boxes-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .box {
            width: 200px;
            height: 200px;
            position: relative;
            perspective: 500px;
        }

        .box-inner {
            width: 100%;
            height: 100%;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.5s ease;
            border: 3px solid;
        }

        .box-a .box-inner {
            background: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border-color: rgba(255,255,255,0.3);
        }

        .box-b .box-inner {
            background: linear-gradient(180deg, rgba(156,39,176,0.3) 0%, rgba(74,20,140,0.3) 100%);
            border-color: rgba(156,39,176,0.5);
        }

        .box-label {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Lora', serif;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .box-a .box-label { color: #aaa; }
        .box-b .box-label { color: #9c27b0; }

        .box-type {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .box-amount {
            font-family: 'Lora', serif;
            font-size: 2rem;
            color: var(--gold);
        }

        .box-mystery {
            font-size: 3rem;
        }

        .box.revealed .box-inner {
            animation: reveal 0.5s ease;
        }

        @keyframes reveal {
            0% { transform: rotateY(0); }
            50% { transform: rotateY(90deg); }
            100% { transform: rotateY(0); }
        }

        /* Choice Buttons */
        .choice-section {
            text-align: center;
            margin: 40px 0;
        }

        .choice-label {
            font-family: 'Lora', serif;
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--text-primary);
        }

        .choice-buttons {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .choice-btn {
            padding: 20px 40px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 200px;
            background: transparent;
            border: 2px solid;
        }

        .one-box-btn {
            color: #9c27b0;
            border-color: #9c27b0;
        }

        .one-box-btn:hover:not(:disabled) {
            background: #9c27b0;
            color: white;
            box-shadow: 0 0 30px rgba(156,39,176,0.5);
        }

        .two-box-btn {
            color: var(--gold);
            border-color: var(--gold);
        }

        .two-box-btn:hover:not(:disabled) {
            background: var(--gold);
            color: var(--bg-dark);
            box-shadow: 0 0 30px rgba(255,215,0,0.5);
        }

        .choice-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .choice-btn.selected {
            transform: scale(1.05);
        }

        /* Results */
        .result-panel {
            display: none;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            text-align: center;
        }

        .result-panel.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-amount {
            font-family: 'Lora', serif;
            font-size: 3rem;
            color: var(--gold);
            margin-bottom: 15px;
        }

        .result-breakdown {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .result-philosophy {
            background: rgba(255,215,0,0.1);
            border-left: 4px solid var(--gold);
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }

        .result-philosophy h4 {
            color: var(--gold);
            margin-bottom: 10px;
        }

        .result-philosophy p {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* Reset Button */
        .reset-btn {
            margin-top: 20px;
            padding: 10px 30px;
            background: transparent;
            border: 1px solid var(--text-secondary);
            color: var(--text-secondary);
            border-radius: 5px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            transition: all 0.3s;
        }

        .reset-btn:hover {
            border-color: var(--gold);
            color: var(--gold);
        }

        /* Stats */
        .stats-bar {
            margin: 40px 0;
            padding: 25px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
        }

        .stats-title {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stats-visual {
            height: 40px;
            border-radius: 20px;
            overflow: hidden;
            display: flex;
        }

        .stats-segment {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .stats-segment.one-box {
            background: linear-gradient(135deg, #9c27b0, #7b1fa2);
            color: white;
        }

        .stats-segment.two-box {
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: var(--bg-dark);
        }

        /* Content Sections */
        .content-section {
            margin: 50px 0;
        }

        .section-title {
            font-family: 'Lora', serif;
            font-size: 1.6rem;
            color: var(--gold);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,215,0,0.2);
        }

        .explanation-text {
            line-height: 1.9;
            color: var(--text-secondary);
            font-size: 1.05rem;
        }

        .explanation-text p {
            margin-bottom: 15px;
        }

        /* Arguments Grid */
        .arguments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 25px;
        }

        .argument-card {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 25px;
            border-top: 4px solid;
        }

        .argument-card.one-box {
            border-color: #9c27b0;
        }

        .argument-card.two-box {
            border-color: var(--gold);
        }

        .argument-header {
            font-family: 'Lora', serif;
            font-weight: 600;
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .argument-card.one-box .argument-header { color: #ce93d8; }
        .argument-card.two-box .argument-header { color: var(--gold); }

        .argument-text {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .argument-text ul {
            margin-top: 15px;
            padding-left: 20px;
        }

        .argument-text li {
            margin-bottom: 8px;
        }

        /* Quote */
        .quote-block {
            background: rgba(0,0,0,0.4);
            border-left: 4px solid var(--gold);
            padding: 25px 30px;
            margin: 30px 0;
            font-family: 'Lora', serif;
            font-size: 1.1rem;
            font-style: italic;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .quote-author {
            display: block;
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--gold);
            font-style: normal;
        }

        /* Source */
        .source {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(255,215,0,0.2);
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .source a {
            color: var(--gold);
            text-decoration: none;
        }

        .source a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .boxes-container { gap: 20px; }
            .box { width: 150px; height: 150px; }
            .box-amount { font-size: 1.5rem; }
            .choice-btn { min-width: 160px; padding: 15px 25px; }
            .arguments-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <header>
            <div class="paradox-number">Paradox #139</div>
            <h1>Newcomb's Problem</h1>
            <p class="subtitle">One Box or Two? A War Between Decision Theories</p>
        </header>

        <div class="game-container">
            <div class="predictor-section">
                <div class="predictor-avatar">üëÅÔ∏è</div>
                <div class="predictor-name">The Predictor</div>
                <div class="predictor-desc">A being who has correctly predicted 99.9% of all choices</div>
                <div class="prediction-status made" id="predictionStatus">
                    The Predictor has already made its prediction and filled the boxes accordingly.
                </div>
            </div>

            <div class="boxes-container">
                <div class="box box-a">
                    <span class="box-label">Box A</span>
                    <div class="box-inner">
                        <div class="box-type">Transparent</div>
                        <div class="box-amount">$1,000</div>
                    </div>
                </div>

                <div class="box box-b" id="boxB">
                    <span class="box-label">Box B</span>
                    <div class="box-inner">
                        <div class="box-type">Opaque</div>
                        <div class="box-mystery" id="boxBContent">‚ùì</div>
                    </div>
                </div>
            </div>

            <div class="choice-section">
                <div class="choice-label">What do you choose?</div>
                <div class="choice-buttons">
                    <button class="choice-btn one-box-btn" onclick="makeChoice('one')">
                        üì¶ Take Only Box B
                    </button>
                    <button class="choice-btn two-box-btn" onclick="makeChoice('two')">
                        üì¶üì¶ Take Both Boxes
                    </button>
                </div>
            </div>

            <div class="result-panel" id="resultPanel">
                <div class="result-amount" id="resultAmount"></div>
                <div class="result-breakdown" id="resultBreakdown"></div>
                
                <div class="result-philosophy" id="resultPhilosophy"></div>
                
                <button class="reset-btn" onclick="resetGame()">Play Again</button>
            </div>
        </div>

        <div class="stats-bar">
            <div class="stats-title">Philosophers' Poll (Bourget & Chalmers 2014)</div>
            <div class="stats-visual">
                <div class="stats-segment one-box" style="width: 40%;">~40% One-Box</div>
                <div class="stats-segment two-box" style="width: 60%;">~60% Two-Box</div>
            </div>
            <p style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
                As Nozick observed: "To almost everyone, it is perfectly clear what should be done. 
                The difficulty is that these people divide almost evenly."
            </p>
        </div>

        <div class="content-section">
            <h2 class="section-title">The Setup</h2>
            <div class="explanation-text">
                <p>
                    William Newcomb, a physicist at Lawrence Livermore Laboratory, devised this problem 
                    in 1960. It was later analyzed by philosopher Robert Nozick and popularized by 
                    Martin Gardner in <em>Scientific American</em> (1973).
                </p>
                <p>
                    Before you are two boxes. <strong>Box A</strong> is transparent and contains $1,000. 
                    <strong>Box B</strong> is opaque and contains either $1,000,000 or $0.
                </p>
                <p>
                    A Predictor‚Äîa being, superintelligence, or perfect simulation‚Äîhas already examined 
                    your brain, psychology, and decision-making tendencies. It has made its prediction 
                    and filled the boxes accordingly:
                </p>
                <ul style="margin-left: 20px; margin-top: 10px; color: var(--text-secondary);">
                    <li>If the Predictor predicted you would <strong>take only Box B</strong>, it put $1,000,000 in Box B.</li>
                    <li>If the Predictor predicted you would <strong>take both boxes</strong>, it left Box B empty.</li>
                </ul>
                <p style="margin-top: 15px;">
                    The Predictor has been right in 99.9% of all previous cases. The boxes are already 
                    filled. Your choice cannot change what's in them. <strong>What do you do?</strong>
                </p>
            </div>
        </div>

        <div class="content-section">
            <h2 class="section-title">The Two Arguments</h2>
            
            <div class="arguments-grid">
                <div class="argument-card one-box">
                    <div class="argument-header">üì¶ The One-Boxer's Argument</div>
                    <div class="argument-text">
                        <p>
                            <strong>Evidential reasoning:</strong> One-boxers almost always get $1,000,000. 
                            Two-boxers almost always get $1,000. The evidence is overwhelming‚Äîone-boxing 
                            leads to riches.
                        </p>
                        <ul>
                            <li>The Predictor is nearly perfect‚Äî99.9% accuracy</li>
                            <li>If you're the type who one-boxes, Box B has the million</li>
                            <li>If you're the type who two-boxes, Box B is empty</li>
                            <li>Be the type who one-boxes, and walk away rich</li>
                        </ul>
                        <p style="margin-top: 15px;">
                            <em>Decision theory:</em> This aligns with <strong>Evidential Decision Theory</strong>‚Äî
                            choose the action that is evidence of good outcomes.
                        </p>
                    </div>
                </div>

                <div class="argument-card two-box">
                    <div class="argument-header">üì¶üì¶ The Two-Boxer's Argument</div>
                    <div class="argument-text">
                        <p>
                            <strong>Causal reasoning:</strong> The Predictor has already made its decision. 
                            The boxes are already filled. Your choice <em>now</em> cannot change the past.
                        </p>
                        <ul>
                            <li>If Box B has $1M: taking both gets $1,001,000 (vs $1M)</li>
                            <li>If Box B has $0: taking both gets $1,000 (vs $0)</li>
                            <li>Either way, taking both is strictly better</li>
                            <li>This is the <strong>dominance principle</strong>‚Äîalways choose the dominant option</li>
                        </ul>
                        <p style="margin-top: 15px;">
                            <em>Decision theory:</em> This aligns with <strong>Causal Decision Theory</strong>‚Äî
                            choose the action that causally produces better outcomes.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="quote-block">
            "I have put this problem to a large number of people... To almost everyone it is 
            perfectly clear and obvious what should be done. The difficulty is that these people 
            seem to divide almost evenly on the problem, with large numbers thinking that the 
            opposing half is just being silly."
            <span class="quote-author">‚Äî Robert Nozick, "Newcomb's Problem and Two Principles of Choice" (1969)</span>
        </div>

        <div class="content-section">
            <h2 class="section-title">Why It Matters</h2>
            <div class="explanation-text">
                <p>
                    Newcomb's Problem isn't just a puzzle‚Äîit exposes a fundamental divide in how we 
                    reason about decisions. <strong>Causal Decision Theory</strong> says you should 
                    choose actions that <em>cause</em> good outcomes. <strong>Evidential Decision Theory</strong> 
                    says you should choose actions that are <em>evidence</em> of good outcomes.
                </p>
                <p>
                    In most cases, these agree. But Newcomb's Problem pits them against each other. 
                    And the stakes extend beyond philosophy‚Äîquestions about AI alignment, precommitment, 
                    and strategic interaction all touch on similar issues.
                </p>
                <p>
                    If you're building an AI that will face predictors (other AIs, game-theoretic 
                    opponents, or even its own future self), which decision theory should it use? 
                    The debate continues.
                </p>
            </div>
        </div>

        <div class="source">
            Source: <a href="https://plato.stanford.edu/entries/decision-causal/" target="_blank">Stanford Encyclopedia of Philosophy ‚Äî Causal Decision Theory</a> | 
            <a href="https://www.lesswrong.com/w/newcomb-s-problem" target="_blank">LessWrong ‚Äî Newcomb's Problem</a>
        </div>
    </div>

    <script>
        let hasChosen = false;
        
        // The predictor is almost always right
        // For gameplay, we simulate the predictor having already predicted
        let predictorPrediction = null; // Will be set based on player behavior hint

        function makeChoice(choice) {
            if (hasChosen) return;
            hasChosen = true;

            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => btn.disabled = true);

            const boxB = document.getElementById('boxB');
            const boxBContent = document.getElementById('boxBContent');
            const resultPanel = document.getElementById('resultPanel');
            const resultAmount = document.getElementById('resultAmount');
            const resultBreakdown = document.getElementById('resultBreakdown');
            const resultPhilosophy = document.getElementById('resultPhilosophy');

            // Simulate the predictor (99.9% accurate means it usually predicts correctly)
            // For the game, we make the predictor always right to demonstrate the paradox
            const predictorWasRight = Math.random() < 0.999;
            
            let boxBHasMillion, totalWinnings;
            
            if (choice === 'one') {
                document.querySelector('.one-box-btn').classList.add('selected');
                // Predictor predicted one-box if it was right
                boxBHasMillion = predictorWasRight;
                totalWinnings = boxBHasMillion ? 1000000 : 0;
            } else {
                document.querySelector('.two-box-btn').classList.add('selected');
                // Predictor predicted two-box if it was right (so Box B is empty)
                boxBHasMillion = !predictorWasRight;
                totalWinnings = boxBHasMillion ? 1001000 : 1000;
            }

            // Reveal Box B
            setTimeout(() => {
                boxB.classList.add('revealed');
                if (boxBHasMillion) {
                    boxBContent.innerHTML = '<span style="font-size:1.5rem;">$1,000,000</span>';
                    boxBContent.style.color = '#ffd700';
                } else {
                    boxBContent.innerHTML = '<span style="font-size:1.5rem;">$0</span>';
                    boxBContent.style.color = '#f44336';
                }
            }, 500);

            // Show results
            setTimeout(() => {
                resultAmount.textContent = '$' + totalWinnings.toLocaleString();
                
                if (choice === 'one') {
                    resultBreakdown.textContent = boxBHasMillion 
                        ? 'Box B contained $1,000,000. The Predictor knew you would one-box.'
                        : 'Box B was empty! The Predictor (rarely) got it wrong.';
                    
                    resultPhilosophy.innerHTML = `
                        <h4>The One-Boxer's Victory</h4>
                        <p>
                            You chose to trust the correlation: one-boxers get the million. By being the 
                            type of person who one-boxes, you ensured the Predictor put the money there. 
                            The two-boxer's "dominance" argument is an illusion‚Äîyour choice and the box's 
                            contents are not independent, but correlated through your decision-making character.
                        </p>
                    `;
                } else {
                    resultBreakdown.textContent = boxBHasMillion 
                        ? 'Box B had $1,000,000! The Predictor (rarely) got it wrong.'
                        : 'Box B was empty. The Predictor knew you would two-box.';
                    
                    resultPhilosophy.innerHTML = `
                        <h4>The Two-Boxer's Dilemma</h4>
                        <p>
                            You took the logically dominant action‚Äîin any possible world, taking both boxes 
                            gives you $1,000 more. But the Predictor knew you would reason this way. 
                            By being a "rational" two-boxer, you caused yourself to be poor. 
                            Was that really rational?
                        </p>
                    `;
                }

                resultPanel.classList.add('visible');
                resultPanel.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 1500);
        }

        function resetGame() {
            hasChosen = false;
            
            const buttons = document.querySelectorAll('.choice-btn');
            buttons.forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('selected');
            });

            const boxB = document.getElementById('boxB');
            const boxBContent = document.getElementById('boxBContent');
            boxB.classList.remove('revealed');
            boxBContent.innerHTML = '‚ùì';
            boxBContent.style.color = '';

            document.getElementById('resultPanel').classList.remove('visible');
        }
    </script>
</body>
</html>
