<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Fermi Paradox | Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cosmic-dark: #0a0a1a;
            --nebula-purple: #4a1a6b;
            --star-gold: #ffd93d;
            --alien-green: #39ff14;
            --warning-red: #ff4444;
            --cosmic-blue: #1a3a6b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--cosmic-dark);
            min-height: 100vh;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .content {
            position: relative;
            z-index: 1;
        }

        .organic-back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            text-decoration: none;
            color: #fff;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .organic-back-link:hover {
            transform: translateX(-3px);
            background: rgba(255,255,255,0.2);
        }

        header {
            text-align: center;
            padding: 80px 20px 40px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 3em;
            color: #fff;
            margin-bottom: 15px;
            text-shadow: 0 0 50px var(--nebula-purple), 0 0 100px var(--cosmic-blue);
        }

        .subtitle {
            font-size: 1.4em;
            color: var(--star-gold);
            font-weight: 500;
            font-style: italic;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 20px;
        }

        .fermi-quote {
            text-align: center;
            font-size: 2.5em;
            font-family: 'Lora', serif;
            color: #fff;
            margin: 40px 0;
            text-shadow: 0 0 30px rgba(255,255,255,0.3);
        }

        .fermi-quote span {
            color: var(--star-gold);
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            align-items: start;
        }

        @media (max-width: 1000px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }

        .equation-area {
            background: rgba(74,26,107,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }

        .equation-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .equation-title {
            font-family: 'Lora', serif;
            font-size: 1.8em;
            color: var(--star-gold);
            margin-bottom: 10px;
        }

        .equation-formula {
            font-family: 'Courier New', monospace;
            font-size: 1.3em;
            color: #fff;
            background: rgba(0,0,0,0.4);
            padding: 15px 25px;
            border-radius: 10px;
            display: inline-block;
        }

        .parameters {
            display: grid;
            gap: 20px;
        }

        .param-row {
            display: grid;
            grid-template-columns: 80px 1fr 100px;
            gap: 15px;
            align-items: center;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            transition: all 0.3s;
        }

        .param-row:hover {
            background: rgba(0,0,0,0.5);
        }

        .param-symbol {
            font-family: 'Lora', serif;
            font-size: 1.3em;
            color: var(--star-gold);
            font-weight: 700;
        }

        .param-slider-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .param-name {
            font-size: 0.9em;
            color: #aaa;
        }

        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(90deg, var(--cosmic-blue) 0%, var(--nebula-purple) 50%, var(--star-gold) 100%);
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        .param-value {
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            color: #fff;
            text-align: right;
        }

        .result-box {
            margin-top: 30px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(57,255,20,0.2) 0%, rgba(26,58,107,0.3) 100%);
            border: 2px solid var(--alien-green);
            border-radius: 15px;
            text-align: center;
        }

        .result-label {
            font-size: 1.1em;
            color: #aaa;
            margin-bottom: 10px;
        }

        .result-value {
            font-family: 'Lora', serif;
            font-size: 4em;
            color: var(--alien-green);
            text-shadow: 0 0 30px var(--alien-green);
        }

        .result-unit {
            font-size: 1em;
            color: #888;
            margin-top: 10px;
        }

        .paradox-statement {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255,68,68,0.2);
            border-left: 4px solid var(--warning-red);
            border-radius: 0 10px 10px 0;
            color: #ffaaaa;
        }

        .controls-panel {
            background: rgba(26,58,107,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .control-group {
            margin-bottom: 25px;
        }

        .control-label {
            font-family: 'Lora', serif;
            font-weight: 600;
            color: var(--star-gold);
            margin-bottom: 15px;
            font-size: 1.1em;
            display: block;
        }

        .hypothesis-cards {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .hypothesis-card {
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .hypothesis-card:hover {
            background: rgba(255,255,255,0.1);
            border-color: var(--star-gold);
        }

        .hypothesis-card.active {
            background: rgba(255,217,61,0.15);
            border-color: var(--star-gold);
        }

        .hypothesis-title {
            font-weight: 700;
            margin-bottom: 5px;
            color: #fff;
        }

        .hypothesis-desc {
            font-size: 0.85em;
            color: #999;
            line-height: 1.4;
        }

        .great-filter {
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(255,68,68,0.2) 0%, rgba(74,26,107,0.2) 100%);
            border-radius: 15px;
            border: 1px solid rgba(255,68,68,0.3);
        }

        .filter-title {
            font-family: 'Lora', serif;
            color: var(--warning-red);
            margin-bottom: 15px;
        }

        .filter-timeline {
            position: relative;
            height: 40px;
            background: rgba(0,0,0,0.4);
            border-radius: 20px;
            overflow: hidden;
        }

        .filter-marker {
            position: absolute;
            top: 0;
            height: 100%;
            width: 4px;
            background: var(--warning-red);
            box-shadow: 0 0 15px var(--warning-red);
            transition: left 0.5s ease;
        }

        .filter-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.75em;
            color: #888;
        }

        .filter-position {
            text-align: center;
            margin-top: 15px;
            color: #ffaaaa;
            font-size: 0.9em;
        }

        .explanation {
            background: rgba(74,26,107,0.2);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
        }

        .explanation h2 {
            font-family: 'Lora', serif;
            color: var(--star-gold);
            margin: 25px 0 15px;
        }

        .explanation h2:first-child {
            margin-top: 0;
        }

        .explanation p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #ccc;
        }

        .highlight {
            background: rgba(255,217,61,0.2);
            padding: 2px 6px;
            border-radius: 3px;
            color: var(--star-gold);
        }

        .scale-visual {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        .scale-item {
            text-align: center;
            padding: 20px 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .scale-number {
            font-family: 'Lora', serif;
            font-size: 2em;
            color: var(--star-gold);
            margin-bottom: 5px;
        }

        .scale-label {
            font-size: 0.85em;
            color: #888;
        }

        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 25px 0;
        }

        @media (max-width: 600px) {
            .solutions-grid, .scale-visual {
                grid-template-columns: 1fr;
            }
        }

        .solution-card {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
        }

        .solution-card h3 {
            color: var(--star-gold);
            font-family: 'Lora', serif;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .solution-card p {
            font-size: 0.9em;
            line-height: 1.6;
            color: #aaa;
        }

        .narration {
            background: rgba(255,217,61,0.1);
            border-left: 4px solid var(--star-gold);
            padding: 15px 20px;
            margin: 20px 0;
            font-style: italic;
            border-radius: 0 10px 10px 0;
            color: #ddd;
        }

        .civilization-visual {
            height: 100px;
            background: rgba(0,0,0,0.4);
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .civ-dot {
            width: 8px;
            height: 8px;
            background: var(--alien-green);
            border-radius: 50%;
            position: absolute;
            box-shadow: 0 0 10px var(--alien-green);
            animation: civPulse 2s infinite;
        }

        @keyframes civPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.5; }
        }

        .empty-message {
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="starfield" id="starfield"></div>

    <div class="content">
        <a href="index.html" class="organic-back-link">
            <span class="back-arrow">‚Üê</span>
            <span class="back-text">Gallery</span>
        </a>

        <header>
            <h1>üåå The Fermi Paradox</h1>
            <p class="subtitle">If the universe is so vast, why haven't we found anyone?</p>
        </header>

        <div class="container">
            <div class="fermi-quote">
                "<span>Where is everybody?</span>"
                <div style="font-size: 0.4em; color: #888; margin-top: 10px;">‚Äî Enrico Fermi, 1950</div>
            </div>

            <div class="main-layout">
                <div class="equation-area">
                    <div class="equation-header">
                        <div class="equation-title">The Drake Equation</div>
                        <div class="equation-formula">N = R* √ó f<sub>p</sub> √ó n<sub>e</sub> √ó f<sub>l</sub> √ó f<sub>i</sub> √ó f<sub>c</sub> √ó L</div>
                    </div>

                    <div class="parameters">
                        <div class="param-row">
                            <div class="param-symbol">R*</div>
                            <div class="param-slider-container">
                                <div class="param-name">Star formation rate (per year)</div>
                                <input type="range" id="rStar" min="1" max="10" value="3" step="0.1">
                            </div>
                            <div class="param-value" id="rStarVal">3</div>
                        </div>

                        <div class="param-row">
                            <div class="param-symbol">f<sub>p</sub></div>
                            <div class="param-slider-container">
                                <div class="param-name">Fraction with planets</div>
                                <input type="range" id="fp" min="0.1" max="1" value="0.9" step="0.05">
                            </div>
                            <div class="param-value" id="fpVal">90%</div>
                        </div>

                        <div class="param-row">
                            <div class="param-symbol">n<sub>e</sub></div>
                            <div class="param-slider-container">
                                <div class="param-name">Habitable planets per system</div>
                                <input type="range" id="ne" min="0.1" max="5" value="1" step="0.1">
                            </div>
                            <div class="param-value" id="neVal">1</div>
                        </div>

                        <div class="param-row">
                            <div class="param-symbol">f<sub>l</sub></div>
                            <div class="param-slider-container">
                                <div class="param-name">Fraction where life develops</div>
                                <input type="range" id="fl" min="0.001" max="1" value="0.1" step="0.001">
                            </div>
                            <div class="param-value" id="flVal">10%</div>
                        </div>

                        <div class="param-row">
                            <div class="param-symbol">f<sub>i</sub></div>
                            <div class="param-slider-container">
                                <div class="param-name">Fraction becoming intelligent</div>
                                <input type="range" id="fi" min="0.001" max="1" value="0.1" step="0.001">
                            </div>
                            <div class="param-value" id="fiVal">10%</div>
                        </div>

                        <div class="param-row">
                            <div class="param-symbol">f<sub>c</sub></div>
                            <div class="param-slider-container">
                                <div class="param-name">Fraction developing communication</div>
                                <input type="range" id="fc" min="0.01" max="1" value="0.1" step="0.01">
                            </div>
                            <div class="param-value" id="fcVal">10%</div>
                        </div>

                        <div class="param-row">
                            <div class="param-symbol">L</div>
                            <div class="param-slider-container">
                                <div class="param-name">Civilization lifespan (years)</div>
                                <input type="range" id="L" min="100" max="100000000" value="10000" step="100">
                            </div>
                            <div class="param-value" id="LVal">10,000</div>
                        </div>
                    </div>

                    <div class="result-box">
                        <div class="result-label">Expected civilizations in our galaxy:</div>
                        <div class="result-value" id="resultN">27</div>
                        <div class="result-unit">communicating civilizations</div>
                    </div>

                    <div class="paradox-statement" id="paradoxStatement">
                        <strong>THE PARADOX:</strong> If N > 1, where are they? We've detected... nothing.
                    </div>

                    <div class="civilization-visual" id="civVisual">
                        <span class="empty-message">Adjusting civilizations...</span>
                    </div>
                </div>

                <div class="controls-panel">
                    <div class="control-group">
                        <label class="control-label">üîç Proposed Solutions</label>
                        <div class="hypothesis-cards">
                            <div class="hypothesis-card" data-hyp="rare">
                                <div class="hypothesis-title">üåç Rare Earth</div>
                                <div class="hypothesis-desc">Earth-like conditions are extraordinarily rare. We're special.</div>
                            </div>
                            <div class="hypothesis-card" data-hyp="filter">
                                <div class="hypothesis-title">üíÄ Great Filter</div>
                                <div class="hypothesis-desc">A barrier destroys civilizations before they spread.</div>
                            </div>
                            <div class="hypothesis-card" data-hyp="zoo">
                                <div class="hypothesis-title">ü¶Å Zoo Hypothesis</div>
                                <div class="hypothesis-desc">They're watching us, but not interfering.</div>
                            </div>
                            <div class="hypothesis-card" data-hyp="dark">
                                <div class="hypothesis-title">ü§´ Dark Forest</div>
                                <div class="hypothesis-desc">Civilizations hide‚Äîannouncing yourself is dangerous.</div>
                            </div>
                            <div class="hypothesis-card" data-hyp="time">
                                <div class="hypothesis-title">‚è∞ We're Early</div>
                                <div class="hypothesis-desc">We're among the first. Others will come later.</div>
                            </div>
                        </div>
                    </div>

                    <div class="great-filter">
                        <div class="filter-title">‚ö†Ô∏è The Great Filter</div>
                        <div class="filter-timeline">
                            <div class="filter-marker" id="filterMarker" style="left: 70%;"></div>
                        </div>
                        <div class="filter-labels">
                            <span>Abiogenesis</span>
                            <span>Complex life</span>
                            <span>Intelligence</span>
                            <span>Technology</span>
                            <span>Expansion</span>
                        </div>
                        <div class="filter-position" id="filterPosition">
                            If the filter is AHEAD of us... we may be doomed.
                        </div>
                    </div>
                </div>
            </div>

            <div class="explanation">
                <h2>The Scale of the Problem</h2>

                <div class="scale-visual">
                    <div class="scale-item">
                        <div class="scale-number">200B+</div>
                        <div class="scale-label">galaxies in observable universe</div>
                    </div>
                    <div class="scale-item">
                        <div class="scale-number">100B+</div>
                        <div class="scale-label">stars in our galaxy</div>
                    </div>
                    <div class="scale-item">
                        <div class="scale-number">13.8B</div>
                        <div class="scale-label">years since Big Bang</div>
                    </div>
                    <div class="scale-item">
                        <div class="scale-number">4.5B</div>
                        <div class="scale-label">years Earth has existed</div>
                    </div>
                </div>

                <p>
                    In 1950, physicist <span class="highlight">Enrico Fermi</span> posed a simple question during lunch
                    at Los Alamos: given the vast number of stars, the probability of Earth-like planets, and billions
                    of years for evolution to work‚Äî<strong>why haven't we detected any sign of extraterrestrial intelligence?</strong>
                </p>

                <div class="narration">
                    "The Sun is a young star. There are billions of stars in the galaxy that are billions of years older.
                    Many should have Earth-like planets. Assuming Earth is typical, some may have developed intelligent life.
                    Some might have developed interstellar travel. Even at slow speeds, the galaxy could be colonized in millions of years.
                    So where is everybody?"
                </div>

                <h2>The Drake Equation</h2>

                <p>
                    In 1961, astronomer <span class="highlight">Frank Drake</span> created an equation to estimate N‚Äîthe
                    number of civilizations in our galaxy with whom we might communicate. Adjust the sliders above
                    to see how different assumptions change the expected number.
                </p>

                <p>
                    Even with conservative estimates, the equation typically predicts <strong>dozens to thousands</strong>
                    of civilizations. Yet we observe: <span class="highlight">silence</span>.
                </p>

                <h2>Proposed Solutions</h2>

                <div class="solutions-grid">
                    <div class="solution-card">
                        <h3>üåç Rare Earth Hypothesis</h3>
                        <p>Complex life requires an extraordinary confluence of factors: plate tectonics, a large moon, Jupiter as a debris shield, the right galactic position. Earth is a fluke.</p>
                    </div>
                    <div class="solution-card">
                        <h3>üíÄ The Great Filter</h3>
                        <p>At some step in evolution, civilizations hit an almost-impossible barrier. If it's behind us (like abiogenesis), we're lucky. If it's ahead (like nuclear war), we're doomed.</p>
                    </div>
                    <div class="solution-card">
                        <h3>ü¶Å Zoo Hypothesis</h3>
                        <p>Advanced civilizations are observing us like animals in a zoo, deliberately avoiding contact to let us develop naturally.</p>
                    </div>
                    <div class="solution-card">
                        <h3>ü§´ Dark Forest Theory</h3>
                        <p>The universe is dangerous. Civilizations that broadcast their location get destroyed by predatory ones. Silence is survival.</p>
                    </div>
                    <div class="solution-card">
                        <h3>‚è∞ We're Too Early</h3>
                        <p>Complex life takes time. We might be among the first technological civilizations. Others will emerge in millions of years.</p>
                    </div>
                    <div class="solution-card">
                        <h3>üì° Wrong Frequencies</h3>
                        <p>We're searching for radio waves. Advanced civilizations might use technologies we can't detect‚Äîquantum communication, gravitational waves, or methods we can't imagine.</p>
                    </div>
                </div>

                <h2>The 2024 Update: Plate Tectonics</h2>

                <p>
                    Recent research by Stern and Gerya (2024) added new factors to the Drake equation:
                    the fraction of planets with <span class="highlight">oceans AND continents</span> AND
                    <span class="highlight">plate tectonics lasting 500+ million years</span>.
                </p>

                <p>
                    Their conclusion? The product of these factors is <strong>&lt; 0.002</strong>‚Äîmeaning
                    Earth's geology may be extraordinarily rare. Plate tectonics may be essential for
                    complex life, recycling nutrients and regulating climate over billions of years.
                </p>

                <h2>The Existential Weight</h2>

                <p>
                    The Fermi Paradox isn't just scientific curiosity‚Äîit has <span class="highlight">existential implications</span>.
                    If advanced civilizations routinely destroy themselves (through nuclear war, climate catastrophe,
                    or AI gone wrong), that's a chilling warning for humanity.
                </p>

                <p>
                    Or perhaps we really are alone‚Äîthe only conscious beings in a vast, silent cosmos.
                    Either answer is profound: we're in danger, or we're precious beyond measure.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Create starfield
        const starfield = document.getElementById('starfield');
        for (let i = 0; i < 200; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.width = star.style.height = (Math.random() * 2 + 1) + 'px';
            star.style.animationDelay = Math.random() * 3 + 's';
            starfield.appendChild(star);
        }

        // Drake equation parameters
        const params = {
            rStar: document.getElementById('rStar'),
            fp: document.getElementById('fp'),
            ne: document.getElementById('ne'),
            fl: document.getElementById('fl'),
            fi: document.getElementById('fi'),
            fc: document.getElementById('fc'),
            L: document.getElementById('L')
        };

        const displays = {
            rStar: document.getElementById('rStarVal'),
            fp: document.getElementById('fpVal'),
            ne: document.getElementById('neVal'),
            fl: document.getElementById('flVal'),
            fi: document.getElementById('fiVal'),
            fc: document.getElementById('fcVal'),
            L: document.getElementById('LVal')
        };

        const resultN = document.getElementById('resultN');
        const civVisual = document.getElementById('civVisual');
        const paradoxStatement = document.getElementById('paradoxStatement');

        function formatNumber(n) {
            if (n >= 1000000000) return (n / 1000000000).toFixed(1) + 'B';
            if (n >= 1000000) return (n / 1000000).toFixed(1) + 'M';
            if (n >= 1000) return (n / 1000).toFixed(1) + 'K';
            return Math.round(n).toString();
        }

        function calculateN() {
            const rStar = parseFloat(params.rStar.value);
            const fp = parseFloat(params.fp.value);
            const ne = parseFloat(params.ne.value);
            const fl = parseFloat(params.fl.value);
            const fi = parseFloat(params.fi.value);
            const fc = parseFloat(params.fc.value);
            const L = parseFloat(params.L.value);

            // Update displays
            displays.rStar.textContent = rStar.toFixed(1);
            displays.fp.textContent = Math.round(fp * 100) + '%';
            displays.ne.textContent = ne.toFixed(1);
            displays.fl.textContent = Math.round(fl * 100) + '%';
            displays.fi.textContent = Math.round(fi * 100) + '%';
            displays.fc.textContent = Math.round(fc * 100) + '%';
            displays.L.textContent = formatNumber(L);

            const N = rStar * fp * ne * fl * fi * fc * L;
            resultN.textContent = formatNumber(N);

            // Update paradox statement
            if (N < 1) {
                paradoxStatement.innerHTML = '<strong>NO PARADOX:</strong> Your parameters predict we\'re alone. Eerie, but consistent.';
                paradoxStatement.style.borderColor = '#888';
                paradoxStatement.style.background = 'rgba(100,100,100,0.2)';
            } else if (N < 10) {
                paradoxStatement.innerHTML = '<strong>MILD PARADOX:</strong> Only a few civilizations expected. Maybe we just haven\'t found them yet.';
                paradoxStatement.style.borderColor = 'var(--star-gold)';
                paradoxStatement.style.background = 'rgba(255,217,61,0.2)';
            } else {
                paradoxStatement.innerHTML = '<strong>THE PARADOX:</strong> ' + formatNumber(N) + ' civilizations expected, yet we detect... nothing. Where are they?';
                paradoxStatement.style.borderColor = 'var(--warning-red)';
                paradoxStatement.style.background = 'rgba(255,68,68,0.2)';
            }

            // Update visualization
            updateCivVisual(N);

            return N;
        }

        function updateCivVisual(N) {
            civVisual.innerHTML = '';
            const displayCount = Math.min(Math.round(N), 100);

            if (displayCount === 0) {
                civVisual.innerHTML = '<span class="empty-message">No civilizations predicted üëΩ</span>';
            } else if (displayCount === 1) {
                civVisual.innerHTML = '<span class="empty-message">Just us... alone in the cosmos üåç</span>';
            } else {
                for (let i = 0; i < displayCount; i++) {
                    const dot = document.createElement('div');
                    dot.className = 'civ-dot';
                    dot.style.left = (10 + Math.random() * 80) + '%';
                    dot.style.top = (10 + Math.random() * 80) + '%';
                    dot.style.animationDelay = (Math.random() * 2) + 's';
                    civVisual.appendChild(dot);
                }
            }
        }

        // Event listeners
        Object.values(params).forEach(slider => {
            slider.addEventListener('input', calculateN);
        });

        // Hypothesis cards
        const hypothesisCards = document.querySelectorAll('.hypothesis-card');
        const filterMarker = document.getElementById('filterMarker');
        const filterPosition = document.getElementById('filterPosition');

        hypothesisCards.forEach(card => {
            card.addEventListener('click', () => {
                hypothesisCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');

                const hyp = card.dataset.hyp;
                switch(hyp) {
                    case 'rare':
                        filterMarker.style.left = '10%';
                        filterPosition.textContent = 'Filter at abiogenesis‚Äîlife itself is nearly impossible. We passed it!';
                        break;
                    case 'filter':
                        filterMarker.style.left = '85%';
                        filterPosition.textContent = 'Filter ahead‚Äîcivilizations destroy themselves before spreading. Danger!';
                        break;
                    case 'zoo':
                        filterMarker.style.display = 'none';
                        filterPosition.textContent = 'No filter needed‚Äîthey\'re just watching us. üëÄ';
                        break;
                    case 'dark':
                        filterMarker.style.left = '75%';
                        filterPosition.textContent = 'Filter at expansion‚Äîthose who broadcast get destroyed. Stay quiet!';
                        break;
                    case 'time':
                        filterMarker.style.left = '40%';
                        filterPosition.textContent = 'No filter‚Äîwe\'re just early. Give it a billion years.';
                        break;
                    default:
                        filterMarker.style.left = '70%';
                }
                if (hyp !== 'zoo') filterMarker.style.display = 'block';
            });
        });

        // Initialize
        calculateN();
    </script>
</body>
</html>
