<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>705 - Condorcet Paradox | Surprising Paradoxes | CCAB</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
            padding: 20px;
        }
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #64b5f6;
            text-decoration: none;
            font-size: 14px;
            opacity: 0.8;
            z-index: 100;
        }
        .back-link:hover { opacity: 1; }
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding-top: 40px;
        }
        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #9b59b6, #e74c3c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .subtitle {
            text-align: center;
            color: #aaa;
            font-size: 1.1rem;
            margin-bottom: 30px;
        }
        .paradox-statement {
            background: rgba(155, 89, 182, 0.15);
            border: 1px solid rgba(155, 89, 182, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
        }
        .paradox-statement h2 {
            color: #9b59b6;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        .paradox-statement p {
            font-size: 1.2rem;
            line-height: 1.6;
        }
        .main-section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
        }
        .section-title {
            font-size: 1.3rem;
            color: #9b59b6;
            margin-bottom: 20px;
            text-align: center;
        }
        .voters-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        @media (max-width: 700px) {
            .voters-grid { grid-template-columns: 1fr; }
        }
        .voter-group {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .voter-group h4 {
            color: #64b5f6;
            margin-bottom: 10px;
        }
        .voter-count {
            font-size: 2rem;
            font-weight: bold;
            color: #f1c40f;
            margin-bottom: 10px;
        }
        .voter-count input {
            width: 70px;
            font-size: 1.5rem;
            text-align: center;
            background: rgba(0,0,0,0.3);
            border: 2px solid #f1c40f;
            border-radius: 8px;
            color: #f1c40f;
            padding: 5px;
        }
        .preference-list {
            font-size: 1.1rem;
            line-height: 2;
        }
        .preference-list .rank {
            display: inline-block;
            width: 25px;
            height: 25px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            line-height: 25px;
            font-size: 0.8rem;
            margin-right: 8px;
        }
        .candidate {
            display: inline-block;
            padding: 3px 12px;
            border-radius: 15px;
            font-weight: bold;
        }
        .candidate-a { background: #e74c3c; }
        .candidate-b { background: #3498db; }
        .candidate-c { background: #2ecc71; }
        .cycle-visualization {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            position: relative;
        }
        .cycle-container {
            position: relative;
            width: 300px;
            height: 260px;
        }
        .cycle-node {
            position: absolute;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .cycle-node.a { background: #e74c3c; top: 0; left: 115px; }
        .cycle-node.b { background: #3498db; bottom: 20px; left: 20px; }
        .cycle-node.c { background: #2ecc71; bottom: 20px; right: 20px; }
        .cycle-arrow {
            position: absolute;
            font-size: 2rem;
            color: #f1c40f;
        }
        .arrow-ab { top: 80px; left: 55px; transform: rotate(60deg); }
        .arrow-bc { bottom: 50px; left: 135px; }
        .arrow-ca { top: 80px; right: 55px; transform: rotate(-60deg); }
        .matchup-result {
            position: absolute;
            font-size: 0.8rem;
            background: rgba(0,0,0,0.7);
            padding: 4px 8px;
            border-radius: 10px;
            white-space: nowrap;
        }
        .result-ab { top: 110px; left: 20px; }
        .result-bc { bottom: 0; left: 50%; transform: translateX(-50%); }
        .result-ca { top: 110px; right: 20px; }
        .matchups-section {
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .matchups-section h4 {
            color: #64b5f6;
            margin-bottom: 15px;
            text-align: center;
        }
        .matchup-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        @media (max-width: 600px) {
            .matchup-grid { grid-template-columns: 1fr; }
        }
        .matchup-card {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        .matchup-title {
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        .matchup-score {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .matchup-winner {
            font-size: 0.9rem;
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
        }
        .matchup-winner.a { background: rgba(231, 76, 60, 0.3); color: #e74c3c; }
        .matchup-winner.b { background: rgba(52, 152, 219, 0.3); color: #3498db; }
        .matchup-winner.c { background: rgba(46, 204, 113, 0.3); color: #2ecc71; }
        .verdict-box {
            background: rgba(231, 76, 60, 0.15);
            border: 2px solid rgba(231, 76, 60, 0.5);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 25px;
        }
        .verdict-box.cycle {
            border-color: rgba(231, 76, 60, 0.5);
            background: rgba(231, 76, 60, 0.15);
        }
        .verdict-box.winner {
            border-color: rgba(46, 204, 113, 0.5);
            background: rgba(46, 204, 113, 0.15);
        }
        .verdict-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
        }
        .verdict-box.cycle .verdict-title { color: #e74c3c; }
        .verdict-box.winner .verdict-title { color: #2ecc71; }
        .rps-comparison {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }
        .rps-comparison h4 {
            color: #f1c40f;
            margin-bottom: 15px;
        }
        .rps-icons {
            font-size: 3rem;
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        .btn {
            padding: 12px 24px;
            font-size: 0.95rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-primary {
            background: linear-gradient(135deg, #9b59b6, #e74c3c);
            color: white;
        }
        .btn-primary:hover { transform: scale(1.05); }
        .btn-secondary {
            background: rgba(100, 181, 246, 0.2);
            border: 2px solid #64b5f6;
            color: #64b5f6;
        }
        .explanation-section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
        }
        .explanation-section h3 {
            color: #9b59b6;
            margin-bottom: 15px;
        }
        .explanation-section p {
            line-height: 1.7;
            margin-bottom: 12px;
        }
        .arrow-box {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid rgba(231, 76, 60, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }
        .arrow-box h4 {
            color: #e74c3c;
            margin-bottom: 12px;
        }
        .arrow-box ul {
            margin-left: 20px;
            line-height: 1.8;
        }
        .history {
            background: rgba(155, 89, 182, 0.1);
            border-left: 4px solid #9b59b6;
            padding: 20px;
            margin-top: 30px;
            border-radius: 0 12px 12px 0;
        }
        .history h4 {
            color: #9b59b6;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <h1>The Condorcet Paradox</h1>
        <p class="subtitle">Marquis de Condorcet (1785) ‚Ä¢ The Voting Paradox</p>

        <div class="paradox-statement">
            <h2>The Paradox</h2>
            <p>Even when every voter has rational, transitive preferences,<br>
            the <strong>majority preference</strong> can form a <strong>cycle</strong>:<br>
            A beats B, B beats C, but C beats A!</p>
        </div>

        <div class="main-section">
            <h3 class="section-title">Interactive Voting Simulation</h3>

            <div class="voters-grid">
                <div class="voter-group">
                    <h4>Group 1</h4>
                    <div class="voter-count">
                        <input type="number" id="group1" value="35" min="0" max="100" onchange="updateResults()">
                    </div>
                    <div class="preference-list">
                        <div><span class="rank">1</span><span class="candidate candidate-a">A</span></div>
                        <div><span class="rank">2</span><span class="candidate candidate-b">B</span></div>
                        <div><span class="rank">3</span><span class="candidate candidate-c">C</span></div>
                    </div>
                </div>
                <div class="voter-group">
                    <h4>Group 2</h4>
                    <div class="voter-count">
                        <input type="number" id="group2" value="33" min="0" max="100" onchange="updateResults()">
                    </div>
                    <div class="preference-list">
                        <div><span class="rank">1</span><span class="candidate candidate-b">B</span></div>
                        <div><span class="rank">2</span><span class="candidate candidate-c">C</span></div>
                        <div><span class="rank">3</span><span class="candidate candidate-a">A</span></div>
                    </div>
                </div>
                <div class="voter-group">
                    <h4>Group 3</h4>
                    <div class="voter-count">
                        <input type="number" id="group3" value="32" min="0" max="100" onchange="updateResults()">
                    </div>
                    <div class="preference-list">
                        <div><span class="rank">1</span><span class="candidate candidate-c">C</span></div>
                        <div><span class="rank">2</span><span class="candidate candidate-a">A</span></div>
                        <div><span class="rank">3</span><span class="candidate candidate-b">B</span></div>
                    </div>
                </div>
            </div>

            <div class="cycle-visualization">
                <div class="cycle-container">
                    <div class="cycle-node a">A</div>
                    <div class="cycle-node b">B</div>
                    <div class="cycle-node c">C</div>
                    <div class="cycle-arrow arrow-ab">‚Üí</div>
                    <div class="cycle-arrow arrow-bc">‚Üí</div>
                    <div class="cycle-arrow arrow-ca">‚Üí</div>
                    <div class="matchup-result result-ab" id="label-ab">A beats B</div>
                    <div class="matchup-result result-bc" id="label-bc">B beats C</div>
                    <div class="matchup-result result-ca" id="label-ca">C beats A</div>
                </div>
            </div>

            <div class="matchups-section">
                <h4>Pairwise Matchups</h4>
                <div class="matchup-grid">
                    <div class="matchup-card">
                        <div class="matchup-title"><span class="candidate candidate-a">A</span> vs <span class="candidate candidate-b">B</span></div>
                        <div class="matchup-score" id="score-ab">67 - 33</div>
                        <div class="matchup-winner a" id="winner-ab">A wins!</div>
                    </div>
                    <div class="matchup-card">
                        <div class="matchup-title"><span class="candidate candidate-b">B</span> vs <span class="candidate candidate-c">C</span></div>
                        <div class="matchup-score" id="score-bc">68 - 32</div>
                        <div class="matchup-winner b" id="winner-bc">B wins!</div>
                    </div>
                    <div class="matchup-card">
                        <div class="matchup-title"><span class="candidate candidate-c">C</span> vs <span class="candidate candidate-a">A</span></div>
                        <div class="matchup-score" id="score-ca">65 - 35</div>
                        <div class="matchup-winner c" id="winner-ca">C wins!</div>
                    </div>
                </div>
            </div>

            <div class="verdict-box cycle" id="verdict-box">
                <div class="verdict-title" id="verdict-title">‚ö†Ô∏è CONDORCET CYCLE DETECTED!</div>
                <p id="verdict-text">A ‚Üí B ‚Üí C ‚Üí A ‚Äî No candidate beats all others. There is no clear winner!</p>
            </div>

            <div class="rps-comparison">
                <h4>It's Just Like Rock-Paper-Scissors!</h4>
                <div class="rps-icons">ü™® ‚Üí ‚úÇÔ∏è ‚Üí üìÑ ‚Üí ü™®</div>
                <p>Rock beats Scissors, Scissors beats Paper, Paper beats Rock ‚Äî a cycle with no winner.</p>
            </div>

            <div class="controls">
                <button class="btn btn-primary" onclick="setClassicCycle()">Classic Cycle (35-33-32)</button>
                <button class="btn btn-secondary" onclick="setCondorcetWinner()">Clear Winner (40-35-25)</button>
                <button class="btn btn-secondary" onclick="randomize()">Randomize</button>
            </div>
        </div>

        <div class="explanation-section">
            <h3>Why Does This Matter?</h3>
            <p>The Condorcet Paradox reveals a fundamental problem: <strong>majority rule can be irrational</strong>, even when every individual voter is perfectly rational!</p>
            <p>In the classic example above, 67% of voters prefer A to B, 68% prefer B to C, and 65% prefer C to A. Every pairwise comparison has a clear majority winner, yet the "group preference" contradicts itself.</p>
            <p>This means there's no voting system that always produces a "fair" result by purely aggregating preferences ‚Äî a preview of Arrow's deeper impossibility result.</p>

            <div class="arrow-box">
                <h4>Arrow's Impossibility Theorem (1951)</h4>
                <p>Kenneth Arrow proved that <strong>no voting system</strong> can satisfy all of these reasonable criteria simultaneously:</p>
                <ul>
                    <li><strong>Non-dictatorship</strong> ‚Äî One person doesn't decide everything</li>
                    <li><strong>Pareto efficiency</strong> ‚Äî If everyone prefers A to B, so does the group</li>
                    <li><strong>Independence of irrelevant alternatives</strong> ‚Äî Adding candidate C shouldn't change whether A beats B</li>
                    <li><strong>Unrestricted domain</strong> ‚Äî Works for any possible preferences</li>
                </ul>
                <p style="margin-top: 12px;">The Condorcet Paradox is the seed from which this impossibility grows. Arrow won the Nobel Prize in Economics for this work in 1972.</p>
            </div>
        </div>

        <div class="history">
            <h4>Historical Note</h4>
            <p>The paradox was first discovered by Catalan philosopher <strong>Ramon Llull</strong> in the 13th century while studying church governance, but his work was lost until recently. French mathematician <strong>Marie Jean Antoine Nicolas de Caritat, Marquis de Condorcet</strong> rediscovered it in 1785. It remained a theoretical curiosity until Kenneth Arrow generalized it into his Impossibility Theorem, revolutionizing social choice theory and economics.</p>
        </div>
    </div>

    <script>
        // Preference orderings for each group
        // Group 1: A > B > C
        // Group 2: B > C > A
        // Group 3: C > A > B

        function getVotes() {
            return {
                g1: parseInt(document.getElementById('group1').value) || 0,
                g2: parseInt(document.getElementById('group2').value) || 0,
                g3: parseInt(document.getElementById('group3').value) || 0
            };
        }

        function calculateMatchups() {
            const v = getVotes();
            const total = v.g1 + v.g2 + v.g3;

            // A vs B: Who prefers A over B?
            // Group 1: A > B (yes)
            // Group 2: B > ... > A (no)
            // Group 3: C > A > B (yes)
            const aOverB = v.g1 + v.g3;
            const bOverA = v.g2;

            // B vs C: Who prefers B over C?
            // Group 1: A > B > C (yes)
            // Group 2: B > C (yes)
            // Group 3: C > ... (no)
            const bOverC = v.g1 + v.g2;
            const cOverB = v.g3;

            // C vs A: Who prefers C over A?
            // Group 1: A > ... > C (no)
            // Group 2: B > C > A (yes)
            // Group 3: C > A (yes)
            const cOverA = v.g2 + v.g3;
            const aOverC = v.g1;

            return {
                ab: { a: aOverB, b: bOverA, winner: aOverB > bOverA ? 'a' : (bOverA > aOverB ? 'b' : 'tie') },
                bc: { b: bOverC, c: cOverB, winner: bOverC > cOverB ? 'b' : (cOverB > bOverC ? 'c' : 'tie') },
                ca: { c: cOverA, a: aOverC, winner: cOverA > aOverC ? 'c' : (aOverC > cOverA ? 'a' : 'tie') },
                total
            };
        }

        function updateResults() {
            const m = calculateMatchups();

            // Update scores
            document.getElementById('score-ab').textContent = `${m.ab.a} - ${m.ab.b}`;
            document.getElementById('score-bc').textContent = `${m.bc.b} - ${m.bc.c}`;
            document.getElementById('score-ca').textContent = `${m.ca.c} - ${m.ca.a}`;

            // Update winner badges
            updateWinner('winner-ab', m.ab.winner, 'A', 'B');
            updateWinner('winner-bc', m.bc.winner, 'B', 'C');
            updateWinner('winner-ca', m.ca.winner, 'C', 'A');

            // Update cycle labels
            document.getElementById('label-ab').textContent = m.ab.winner === 'a' ? 'A beats B' : (m.ab.winner === 'b' ? 'B beats A' : 'Tie');
            document.getElementById('label-bc').textContent = m.bc.winner === 'b' ? 'B beats C' : (m.bc.winner === 'c' ? 'C beats B' : 'Tie');
            document.getElementById('label-ca').textContent = m.ca.winner === 'c' ? 'C beats A' : (m.ca.winner === 'a' ? 'A beats C' : 'Tie');

            // Check for Condorcet winner or cycle
            const aWins = (m.ab.winner === 'a' ? 1 : 0) + (m.ca.winner === 'a' ? 1 : 0);
            const bWins = (m.ab.winner === 'b' ? 1 : 0) + (m.bc.winner === 'b' ? 1 : 0);
            const cWins = (m.bc.winner === 'c' ? 1 : 0) + (m.ca.winner === 'c' ? 1 : 0);

            const verdictBox = document.getElementById('verdict-box');
            const verdictTitle = document.getElementById('verdict-title');
            const verdictText = document.getElementById('verdict-text');

            if (aWins === 2) {
                verdictBox.className = 'verdict-box winner';
                verdictTitle.textContent = '‚úì CONDORCET WINNER: A';
                verdictText.textContent = 'Candidate A beats both B and C in pairwise matchups. No paradox here!';
            } else if (bWins === 2) {
                verdictBox.className = 'verdict-box winner';
                verdictTitle.textContent = '‚úì CONDORCET WINNER: B';
                verdictText.textContent = 'Candidate B beats both A and C in pairwise matchups. No paradox here!';
            } else if (cWins === 2) {
                verdictBox.className = 'verdict-box winner';
                verdictTitle.textContent = '‚úì CONDORCET WINNER: C';
                verdictText.textContent = 'Candidate C beats both A and B in pairwise matchups. No paradox here!';
            } else {
                verdictBox.className = 'verdict-box cycle';
                verdictTitle.textContent = '‚ö†Ô∏è CONDORCET CYCLE DETECTED!';
                const cycle = getCycleDescription(m);
                verdictText.textContent = `${cycle} ‚Äî No candidate beats all others. There is no clear winner!`;
            }
        }

        function getCycleDescription(m) {
            const parts = [];
            if (m.ab.winner === 'a') parts.push('A‚ÜíB');
            else if (m.ab.winner === 'b') parts.push('B‚ÜíA');

            if (m.bc.winner === 'b') parts.push('B‚ÜíC');
            else if (m.bc.winner === 'c') parts.push('C‚ÜíB');

            if (m.ca.winner === 'c') parts.push('C‚ÜíA');
            else if (m.ca.winner === 'a') parts.push('A‚ÜíC');

            return parts.join(', ');
        }

        function updateWinner(id, winner, label1, label2) {
            const el = document.getElementById(id);
            if (winner === label1.toLowerCase()) {
                el.textContent = `${label1} wins!`;
                el.className = `matchup-winner ${label1.toLowerCase()}`;
            } else if (winner === label2.toLowerCase()) {
                el.textContent = `${label2} wins!`;
                el.className = `matchup-winner ${label2.toLowerCase()}`;
            } else {
                el.textContent = 'Tie!';
                el.className = 'matchup-winner';
            }
        }

        function setClassicCycle() {
            document.getElementById('group1').value = 35;
            document.getElementById('group2').value = 33;
            document.getElementById('group3').value = 32;
            updateResults();
        }

        function setCondorcetWinner() {
            document.getElementById('group1').value = 40;
            document.getElementById('group2').value = 35;
            document.getElementById('group3').value = 25;
            updateResults();
        }

        function randomize() {
            document.getElementById('group1').value = Math.floor(Math.random() * 40) + 10;
            document.getElementById('group2').value = Math.floor(Math.random() * 40) + 10;
            document.getElementById('group3').value = Math.floor(Math.random() * 40) + 10;
            updateResults();
        }

        // Initialize
        updateResults();
    </script>
</body>
</html>
