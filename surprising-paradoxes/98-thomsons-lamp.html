<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thomson's Lamp - Surprising Paradoxes</title>
    <style>
        :root {
            --bg-dark: #0a0a1a;
            --bg-medium: #1a1a2e;
            --glow-on: #ffd93d;
            --glow-off: #333;
            --accent: #6c63ff;
            --text: #e0e0e0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-dark);
            min-height: 100vh;
            color: var(--text);
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            text-decoration: none;
            color: var(--accent);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
            background: rgba(255,255,255,0.1);
            padding: 10px 15px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .back-link:hover {
            transform: translateX(-5px);
            background: var(--accent);
            color: white;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, var(--glow-on), #ff9500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #888;
        }

        /* The Lamp */
        .lamp-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 40px 0;
            padding: 40px;
            background: linear-gradient(180deg, var(--bg-medium) 0%, var(--bg-dark) 100%);
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .lamp {
            position: relative;
            width: 120px;
            height: 200px;
        }

        .lamp-shade {
            width: 120px;
            height: 80px;
            background: linear-gradient(180deg, #444 0%, #222 100%);
            border-radius: 50% 50% 40% 40% / 30% 30% 70% 70%;
            position: relative;
            box-shadow: inset 0 10px 20px rgba(0,0,0,0.5);
        }

        .lamp-shade::after {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 30px;
            background: radial-gradient(ellipse at center, var(--glow-off) 0%, transparent 70%);
            border-radius: 50%;
            transition: all 0.1s ease;
        }

        .lamp.on .lamp-shade::after {
            background: radial-gradient(ellipse at center, var(--glow-on) 0%, rgba(255, 217, 61, 0.3) 70%);
        }

        .lamp.on {
            filter: drop-shadow(0 0 30px rgba(255, 217, 61, 0.5));
        }

        .lamp-stem {
            width: 20px;
            height: 80px;
            background: linear-gradient(90deg, #666 0%, #888 50%, #666 100%);
            margin: 0 auto;
        }

        .lamp-base {
            width: 80px;
            height: 20px;
            background: linear-gradient(180deg, #555 0%, #333 100%);
            border-radius: 5px;
            margin: 0 auto;
        }

        .glow {
            position: absolute;
            top: -50px;
            left: -50px;
            width: 220px;
            height: 220px;
            background: radial-gradient(circle, rgba(255, 217, 61, 0.3) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.1s ease;
            pointer-events: none;
        }

        .lamp.on .glow {
            opacity: 1;
        }

        /* Timer Display */
        .timer-section {
            text-align: center;
            margin: 30px 0;
        }

        .timer {
            font-size: 4rem;
            font-family: 'Courier New', monospace;
            color: var(--glow-on);
            text-shadow: 0 0 20px rgba(255, 217, 61, 0.5);
        }

        .timer-label {
            font-size: 1rem;
            color: #666;
            margin-top: 10px;
        }

        .switch-count {
            font-size: 1.5rem;
            color: var(--accent);
            margin-top: 15px;
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 15px 30px;
            font-size: 1rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .control-btn.start {
            background: linear-gradient(135deg, var(--accent) 0%, #8b5cf6 100%);
            color: white;
        }

        .control-btn.stop {
            background: #c0392b;
            color: white;
        }

        .control-btn.reset {
            background: #555;
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Speed slider */
        .speed-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .speed-control input {
            width: 200px;
            accent-color: var(--accent);
        }

        /* Paradox Description */
        .paradox-box {
            background: linear-gradient(135deg, var(--bg-medium) 0%, #252540 100%);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            border: 1px solid rgba(108, 99, 255, 0.3);
        }

        .paradox-box h2 {
            color: var(--glow-on);
            margin-bottom: 20px;
            text-align: center;
        }

        .sequence-display {
            display: flex;
            justify-content: center;
            gap: 5px;
            flex-wrap: wrap;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }

        .sequence-item {
            padding: 8px 12px;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .sequence-item.on {
            background: var(--glow-on);
            color: #000;
        }

        .sequence-item.off {
            background: #333;
            color: #888;
        }

        .sequence-item.active {
            transform: scale(1.2);
            box-shadow: 0 0 15px var(--glow-on);
        }

        /* Question at End */
        .final-question {
            background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            margin: 30px 0;
            display: none;
        }

        .final-question.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .final-question h2 {
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .final-question p {
            font-size: 1.2rem;
            line-height: 1.8;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Series Display */
        .series-section {
            background: var(--bg-medium);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
        }

        .series-section h2 {
            color: var(--accent);
            margin-bottom: 20px;
            text-align: center;
        }

        .math-formula {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            margin: 15px 0;
            overflow-x: auto;
        }

        .grandi-series {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .grandi-term {
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .grandi-term.plus {
            background: var(--glow-on);
            color: #000;
        }

        .grandi-term.minus {
            background: #555;
            color: #fff;
        }

        /* Philosophy Section */
        .philosophy {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .philosopher-card {
            background: linear-gradient(135deg, var(--bg-medium) 0%, #252540 100%);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid var(--accent);
        }

        .philosopher-card h3 {
            color: var(--glow-on);
            margin-bottom: 15px;
        }

        .philosopher-card p {
            line-height: 1.7;
            color: #aaa;
        }

        /* Zeno Connection */
        .zeno-connection {
            background: linear-gradient(135deg, #1e3a5f 0%, #16213e 100%);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
        }

        .zeno-connection h2 {
            color: #64b5f6;
            margin-bottom: 20px;
            text-align: center;
        }

        .dichotomy-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 5px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .distance-segment {
            height: 30px;
            background: linear-gradient(90deg, #64b5f6 0%, #42a5f5 100%);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
        }

        footer {
            text-align: center;
            padding: 30px;
            color: #666;
            font-style: italic;
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .timer { font-size: 2.5rem; }
            .lamp { transform: scale(0.8); }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">
        <span>‚Üê</span> Back to Paradoxes
    </a>

    <div class="container">
        <header>
            <h1>üí° Thomson's Lamp</h1>
            <p class="subtitle">A supertask that defies logic</p>
        </header>

        <div class="lamp-container">
            <div class="lamp" id="lamp">
                <div class="glow"></div>
                <div class="lamp-shade"></div>
                <div class="lamp-stem"></div>
                <div class="lamp-base"></div>
            </div>

            <div class="timer-section">
                <div class="timer" id="timer">0:00.000</div>
                <div class="timer-label">Time elapsed (target: 2:00.000)</div>
                <div class="switch-count">Switches: <span id="switch-count">0</span></div>
            </div>

            <div class="controls">
                <button class="control-btn start" id="start-btn" onclick="startLamp()">Start Supertask</button>
                <button class="control-btn stop" id="stop-btn" onclick="stopLamp()" disabled>Stop</button>
                <button class="control-btn reset" onclick="resetLamp()">Reset</button>
            </div>

            <div class="speed-control">
                <span>Speed:</span>
                <input type="range" id="speed-slider" min="1" max="100" value="50">
                <span id="speed-label">1√ó</span>
            </div>
        </div>

        <div class="paradox-box">
            <h2>üîÑ The Switching Pattern</h2>
            <p style="text-align: center; margin-bottom: 20px;">
                The lamp switches at t = 1 min, 1.5 min, 1.75 min, 1.875 min, ...
            </p>

            <div class="sequence-display" id="sequence">
                <span class="sequence-item off" data-index="0">OFF</span>
                <span class="sequence-item on" data-index="1">ON</span>
                <span class="sequence-item off" data-index="2">OFF</span>
                <span class="sequence-item on" data-index="3">ON</span>
                <span class="sequence-item off" data-index="4">OFF</span>
                <span class="sequence-item on" data-index="5">ON</span>
                <span class="sequence-item off" data-index="6">...</span>
            </div>

            <p style="text-align: center; color: #888; margin-top: 10px;">
                Each interval is <strong>half</strong> the previous one. Infinitely many switches in 2 minutes!
            </p>
        </div>

        <div class="final-question" id="final-question">
            <h2>‚ö° AT t = 2 MINUTES...</h2>
            <p>
                After <strong>infinitely many</strong> switches, is the lamp <strong>ON</strong> or <strong>OFF</strong>?
            </p>
            <p style="margin-top: 20px;">
                ‚Ä¢ It can't be ON‚Äîevery time it turned on, it was immediately turned off.<br>
                ‚Ä¢ It can't be OFF‚Äîevery time it turned off, it was immediately turned on.<br>
                ‚Ä¢ But it MUST be one or the other!
            </p>
            <p style="margin-top: 20px; font-size: 1.5rem;">
                <strong>ü§Ø CONTRADICTION!</strong>
            </p>
        </div>

        <div class="series-section">
            <h2>üìä The Mathematics</h2>

            <p style="text-align: center;">The time intervals form a geometric series:</p>
            <div class="math-formula">
                1 + ¬Ω + ¬º + ‚Öõ + 1/16 + ... = 2 minutes
            </div>

            <p style="text-align: center; margin: 30px 0;">But the lamp's state forms <strong>Grandi's series</strong>:</p>

            <div class="grandi-series">
                <span class="grandi-term plus">1</span>
                <span class="grandi-term minus">‚àí1</span>
                <span class="grandi-term plus">+1</span>
                <span class="grandi-term minus">‚àí1</span>
                <span class="grandi-term plus">+1</span>
                <span class="grandi-term minus">‚àí1</span>
                <span class="grandi-term" style="background: transparent; color: #888;">...</span>
            </div>

            <div class="math-formula">
                1 ‚àí 1 + 1 ‚àí 1 + 1 ‚àí 1 + ... = ???
            </div>

            <p style="text-align: center; color: #888;">
                This series does NOT converge‚Äîit oscillates between 0 and 1 forever.
                <br>The lamp's final state is <strong>undefined</strong>.
            </p>
        </div>

        <h2 style="text-align: center; margin: 40px 0 20px; color: var(--glow-on);">
            üí≠ Philosophical Responses
        </h2>

        <div class="philosophy">
            <div class="philosopher-card">
                <h3>Thomson (1954)</h3>
                <p>The paradox shows that <strong>supertasks are impossible</strong>. We cannot complete infinitely many discrete tasks. The very concept is incoherent.</p>
            </div>
            <div class="philosopher-card">
                <h3>Benacerraf (1962)</h3>
                <p>The description is simply <strong>incomplete</strong>. Nothing in the setup determines the state at t=2. We can freely stipulate it to be ON or OFF‚Äîno contradiction!</p>
            </div>
            <div class="philosopher-card">
                <h3>Earman & Norton</h3>
                <p>The paradox isn't about logic but about <strong>physics</strong>. Real switches have minimum actuation times. Supertasks may be physically impossible but logically coherent.</p>
            </div>
            <div class="philosopher-card">
                <h3>Modern View</h3>
                <p>The lamp highlights that infinite processes don't always have well-defined limits. The "final state" is a <strong>boundary condition</strong> that must be specified separately.</p>
            </div>
        </div>

        <div class="zeno-connection">
            <h2>üèÉ Connection to Zeno's Dichotomy</h2>
            <p style="text-align: center; margin-bottom: 20px;">
                Thomson's Lamp is the discrete counterpart to Zeno's Dichotomy:
            </p>

            <div class="dichotomy-visual">
                <div class="distance-segment" style="width: 100px;">¬Ω</div>
                <div class="distance-segment" style="width: 50px;">¬º</div>
                <div class="distance-segment" style="width: 25px;">‚Öõ</div>
                <div class="distance-segment" style="width: 12px;"></div>
                <div class="distance-segment" style="width: 6px;"></div>
                <span style="color: #64b5f6;">‚Üí üèÅ</span>
            </div>

            <p style="text-align: center; margin-top: 20px;">
                <strong>Dichotomy:</strong> Continuous motion completing infinitely many sub-journeys.<br>
                <strong>Thomson:</strong> Discrete actions (switches) occurring infinitely many times.
            </p>

            <p style="text-align: center; margin-top: 20px; color: #888;">
                While Dichotomy is resolved by calculus (limits exist for continuous motion),<br>
                Thomson's Lamp shows that <strong>discrete sequences need not converge</strong>.
            </p>
        </div>

        <div class="paradox-box">
            <h2>üìú Historical Context</h2>
            <p style="line-height: 1.8;">
                <strong>James F. Thomson</strong> introduced this thought experiment in his 1954 paper
                "Tasks and Super-Tasks." He coined the term "supertask" for any process that
                completes infinitely many discrete operations in finite time.
            </p>
            <p style="line-height: 1.8; margin-top: 15px;">
                Thomson argued that the lamp paradox demonstrates the <strong>logical impossibility</strong>
                of supertasks. However, later philosophers showed that while Thomson's specific setup
                is underdetermined, supertasks in general may be logically consistent‚Äîthey're just
                strange.
            </p>
        </div>

        <footer>
            <p>"The lamp is neither on nor off at the limit‚Äîit simply has no defined state."</p>
            <p style="margin-top: 10px;">‚Äî Related: Ross-Littlewood Paradox, Zeno's Dichotomy, Grandi's Series</p>
        </footer>
    </div>

    <script>
        let isRunning = false;
        let lampOn = false;
        let switchCount = 0;
        let startTime = 0;
        let currentInterval = 60000; // Start at 1 minute (in ms)
        let nextSwitchTime = 0;
        let animationFrame = null;
        let speedMultiplier = 1;

        const lamp = document.getElementById('lamp');
        const timerEl = document.getElementById('timer');
        const switchCountEl = document.getElementById('switch-count');
        const startBtn = document.getElementById('start-btn');
        const stopBtn = document.getElementById('stop-btn');
        const speedSlider = document.getElementById('speed-slider');
        const speedLabel = document.getElementById('speed-label');
        const finalQuestion = document.getElementById('final-question');

        speedSlider.addEventListener('input', function() {
            speedMultiplier = Math.pow(10, (this.value - 50) / 25);
            speedLabel.textContent = speedMultiplier.toFixed(1) + '√ó';
        });

        function formatTime(ms) {
            const totalSeconds = ms / 1000;
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${minutes}:${seconds.toFixed(3).padStart(6, '0')}`;
        }

        function toggleLamp() {
            lampOn = !lampOn;
            lamp.classList.toggle('on', lampOn);
            switchCount++;
            switchCountEl.textContent = switchCount;

            // Highlight current sequence item
            const items = document.querySelectorAll('.sequence-item');
            items.forEach((item, i) => {
                item.classList.remove('active');
                if (i === Math.min(switchCount, items.length - 1)) {
                    item.classList.add('active');
                }
            });
        }

        function startLamp() {
            if (isRunning) return;

            isRunning = true;
            startBtn.disabled = true;
            stopBtn.disabled = false;
            finalQuestion.classList.remove('show');

            // Reset state
            lampOn = false;
            switchCount = 0;
            lamp.classList.remove('on');
            switchCountEl.textContent = '0';

            // First switch at 1 minute (60000ms)
            currentInterval = 60000;
            startTime = performance.now();
            nextSwitchTime = currentInterval;

            // Turn on initially
            toggleLamp();

            animate();
        }

        function animate() {
            if (!isRunning) return;

            const elapsed = (performance.now() - startTime) * speedMultiplier;
            timerEl.textContent = formatTime(Math.min(elapsed, 120000));

            // Check if we've reached the next switch time
            while (elapsed >= nextSwitchTime && nextSwitchTime < 120000) {
                toggleLamp();
                currentInterval /= 2;
                nextSwitchTime += currentInterval;

                // Prevent infinite loop when intervals become too small
                if (currentInterval < 0.001) break;
            }

            // Check if we've reached 2 minutes
            if (elapsed >= 120000) {
                completeSupertask();
                return;
            }

            animationFrame = requestAnimationFrame(animate);
        }

        function completeSupertask() {
            isRunning = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;

            // Show the paradox
            timerEl.textContent = '2:00.000';
            switchCountEl.textContent = '‚àû';

            // Make lamp flicker rapidly to show undefined state
            let flickerCount = 0;
            const flicker = setInterval(() => {
                lamp.classList.toggle('on');
                flickerCount++;
                if (flickerCount > 20) {
                    clearInterval(flicker);
                    lamp.classList.remove('on');
                    lamp.style.filter = 'grayscale(1) brightness(0.5)';
                    finalQuestion.classList.add('show');
                }
            }, 50);
        }

        function stopLamp() {
            isRunning = false;
            startBtn.disabled = false;
            stopBtn.disabled = true;
            if (animationFrame) {
                cancelAnimationFrame(animationFrame);
            }
        }

        function resetLamp() {
            stopLamp();
            lampOn = false;
            switchCount = 0;
            lamp.classList.remove('on');
            lamp.style.filter = '';
            timerEl.textContent = '0:00.000';
            switchCountEl.textContent = '0';
            finalQuestion.classList.remove('show');

            // Reset sequence highlights
            const items = document.querySelectorAll('.sequence-item');
            items.forEach(item => item.classList.remove('active'));
        }
    </script>
</body>
</html>
