<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buridan's Bridge - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --river-blue: #3498db;
            --bridge-brown: #8b4513;
            --stone-gray: #7f8c8d;
            --promise-gold: #f1c40f;
            --truth-green: #2ecc71;
            --false-red: #e74c3c;
            --dark-bg: #1a1a2e;
            --card-bg: rgba(52, 152, 219, 0.15);
            --light-text: #f0f0f5;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Nunito', sans-serif;
            background: var(--dark-bg);
            min-height: 100vh;
            color: var(--light-text);
            overflow-x: hidden;
        }

        /* Animated water background */
        .water-bg {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(to top, #1a5276, #2980b9, transparent);
            z-index: 0;
            opacity: 0.3;
        }
        .wave {
            position: absolute;
            bottom: 0;
            width: 200%;
            height: 100px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1440 320'%3E%3Cpath fill='%233498db' fill-opacity='0.3' d='M0,192L48,176C96,160,192,128,288,138.7C384,149,480,203,576,213.3C672,224,768,192,864,181.3C960,171,1056,181,1152,181.3C1248,181,1344,171,1392,165.3L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z'%3E%3C/path%3E%3C/svg%3E") repeat-x;
            animation: waveFlow 8s linear infinite;
        }
        .wave:nth-child(2) {
            animation-delay: -4s;
            opacity: 0.5;
        }
        @keyframes waveFlow {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--river-blue);
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 30px;
            padding: 10px 20px;
            background: var(--card-bg);
            border-radius: 30px;
            border: 1px solid rgba(52, 152, 219, 0.3);
            transition: all 0.3s ease;
        }
        .back-link:hover {
            background: rgba(52, 152, 219, 0.2);
            transform: translateX(-5px);
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            font-weight: 600;
            color: var(--promise-gold);
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(241, 196, 15, 0.3);
        }
        h2 {
            font-family: 'Lora', serif;
            font-size: 1.6rem;
            color: var(--river-blue);
            margin-bottom: 20px;
        }

        .intro {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 40px;
            color: rgba(240, 240, 245, 0.9);
        }
        .intro strong {
            color: var(--promise-gold);
        }

        /* Bridge Scene */
        .bridge-scene {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .scene-visual {
            position: relative;
            height: 300px;
            margin: 30px 0;
            background: linear-gradient(to bottom,
                #2c3e50 0%,
                #2c3e50 40%,
                #3498db 40%,
                #2980b9 100%);
            border-radius: 15px;
            overflow: hidden;
        }

        /* Bridge */
        .bridge {
            position: absolute;
            bottom: 60%;
            left: 20%;
            width: 60%;
            height: 30px;
            background: linear-gradient(to bottom, #a0522d, #8b4513);
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .bridge::before, .bridge::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 80px;
            background: #696969;
            bottom: -50px;
            border-radius: 5px;
        }
        .bridge::before { left: 10%; }
        .bridge::after { right: 10%; }

        /* Characters */
        .character-scene {
            position: absolute;
            width: 60px;
            transition: all 0.5s ease;
        }

        .socrates-scene {
            left: 15%;
            bottom: 62%;
        }
        .plato-scene {
            left: 55%;
            bottom: 62%;
        }

        .socrates-scene.crossed {
            left: 75%;
        }
        .socrates-scene.thrown {
            bottom: 20%;
            transform: rotate(45deg);
        }

        .character-head {
            width: 30px;
            height: 35px;
            background: #f5d0c5;
            border-radius: 50% 50% 45% 45%;
            margin: 0 auto;
        }
        .character-body {
            width: 40px;
            height: 40px;
            margin: 0 auto;
            margin-top: -5px;
            border-radius: 10px 10px 0 0;
        }
        .socrates-scene .character-body {
            background: #e74c3c;
        }
        .plato-scene .character-body {
            background: #3498db;
        }

        .character-name {
            text-align: center;
            font-size: 0.8rem;
            margin-top: 5px;
            color: white;
            font-weight: 600;
        }

        /* Speech Bubbles */
        .speech-bubbles {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 20px 0;
        }

        .speech {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .speaker-icon {
            min-width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        .plato-icon {
            background: var(--river-blue);
            color: white;
        }
        .socrates-icon {
            background: var(--false-red);
            color: white;
        }

        .speech-bubble {
            background: rgba(255,255,255,0.1);
            padding: 15px 20px;
            border-radius: 15px;
            flex: 1;
            position: relative;
        }
        .speech-bubble::before {
            content: '';
            position: absolute;
            left: -10px;
            top: 15px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 10px solid rgba(255,255,255,0.1);
        }

        /* Outcome Buttons */
        .outcome-controls {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-cross {
            background: linear-gradient(135deg, var(--truth-green), #27ae60);
            color: white;
        }
        .btn-throw {
            background: linear-gradient(135deg, var(--river-blue), #2980b9);
            color: white;
        }
        .btn-reset {
            background: rgba(255,255,255,0.1);
            color: var(--light-text);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Logic Analysis */
        .logic-display {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }

        .logic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .logic-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        .logic-card.valid {
            border-color: var(--truth-green);
            background: rgba(46, 204, 113, 0.15);
        }
        .logic-card.violated {
            border-color: var(--false-red);
            background: rgba(231, 76, 60, 0.15);
        }
        .logic-card.paradox {
            border-color: var(--promise-gold);
            background: rgba(241, 196, 15, 0.15);
            animation: paradoxPulse 2s ease-in-out infinite;
        }

        @keyframes paradoxPulse {
            0%, 100% { box-shadow: 0 0 15px rgba(241, 196, 15, 0.3); }
            50% { box-shadow: 0 0 30px rgba(241, 196, 15, 0.6); }
        }

        .logic-card h4 {
            color: var(--river-blue);
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .verdict {
            font-size: 1.3rem;
            color: var(--promise-gold);
            margin-top: 20px;
            font-weight: 600;
            text-align: center;
        }

        /* Solutions Section */
        .solutions-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .solution-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .solution-tab {
            padding: 10px 20px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 25px;
            color: var(--light-text);
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .solution-tab.active {
            background: var(--river-blue);
            color: white;
        }
        .solution-tab:hover:not(.active) {
            background: rgba(255,255,255,0.2);
        }

        .solution-content {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 25px;
            min-height: 150px;
        }

        .solution-content h3 {
            color: var(--promise-gold);
            margin-bottom: 15px;
            font-family: 'Lora', serif;
        }

        /* History Timeline */
        .history-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .timeline {
            position: relative;
            padding-left: 30px;
            border-left: 3px solid var(--river-blue);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding-left: 25px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -39px;
            top: 5px;
            width: 16px;
            height: 16px;
            background: var(--promise-gold);
            border-radius: 50%;
            border: 3px solid var(--dark-bg);
        }
        .timeline-date {
            color: var(--river-blue);
            font-weight: 600;
            margin-bottom: 5px;
        }
        .timeline-title {
            color: var(--promise-gold);
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        /* Don Quixote Section */
        .quixote-section {
            background: linear-gradient(135deg, var(--card-bg), rgba(241, 196, 15, 0.1));
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(241, 196, 15, 0.3);
        }

        .quote-block {
            background: rgba(0,0,0,0.3);
            border-left: 4px solid var(--promise-gold);
            padding: 20px 25px;
            margin: 20px 0;
            font-style: italic;
            font-size: 1.1rem;
            line-height: 1.8;
        }
        .quote-attribution {
            text-align: right;
            color: var(--river-blue);
            margin-top: 15px;
            font-style: normal;
        }

        /* Core Insight */
        .insight-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .insight-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .insight-card {
            background: rgba(0,0,0,0.2);
            border-radius: 15px;
            padding: 25px;
            border-left: 4px solid var(--river-blue);
        }
        .insight-card h4 {
            color: var(--promise-gold);
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .bridge-scene { padding: 25px; }
            .scene-visual { height: 220px; }
        }

        /* ============================================ */
        /* NARRATIVE ADVENTURE MODE STYLES */
        /* ============================================ */

        .narrative-toggle-container {
            text-align: center;
            margin: 40px 0;
        }

        #narrative-toggle {
            padding: 18px 40px;
            font-size: 1.15rem;
            background: linear-gradient(135deg, var(--promise-gold), #e67e22);
            color: #1a1a2e;
            border: none;
            border-radius: 30px;
            font-family: 'Lora', serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 25px rgba(241, 196, 15, 0.3);
        }
        #narrative-toggle:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 40px rgba(241, 196, 15, 0.5);
        }

        #narrative-mode {
            display: none;
            background: linear-gradient(135deg, rgba(26, 26, 46, 0.98), rgba(30, 30, 60, 0.98));
            border-radius: 25px;
            padding: 40px;
            margin: 40px 0;
            border: 2px solid var(--promise-gold);
            box-shadow: 0 0 50px rgba(241, 196, 15, 0.2);
            max-height: 80vh;
            overflow-y: auto;
        }

        .narrative-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(241, 196, 15, 0.3);
        }

        .narrative-header h2 {
            color: var(--promise-gold);
            font-family: 'Lora', serif;
            font-size: 1.4rem;
            margin: 0;
        }

        .narrative-stats {
            display: flex;
            gap: 25px;
        }

        .narrative-stats span {
            font-size: 0.9rem;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
        }

        #wisdom-display {
            color: var(--river-blue);
        }

        #karma-display {
            color: var(--truth-green);
        }

        .scene-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
        }

        #scene-title {
            font-family: 'Lora', serif;
            font-size: 1.8rem;
            color: var(--promise-gold);
            margin-bottom: 25px;
            text-shadow: 0 0 20px rgba(241, 196, 15, 0.3);
        }

        #scene-text {
            font-size: 1.1rem;
            line-height: 1.9;
            color: rgba(240, 240, 245, 0.95);
        }

        #scene-text strong {
            color: var(--promise-gold);
        }

        #scene-choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .choice-btn {
            padding: 20px 25px;
            background: rgba(52, 152, 219, 0.2);
            border: 2px solid rgba(52, 152, 219, 0.5);
            border-radius: 15px;
            color: var(--light-text);
            font-family: 'Nunito', sans-serif;
            font-size: 1.05rem;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s ease;
        }

        .choice-btn:hover {
            background: rgba(52, 152, 219, 0.4);
            border-color: var(--river-blue);
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(52, 152, 219, 0.3);
        }

        .restart-btn {
            background: linear-gradient(135deg, var(--promise-gold), #e67e22) !important;
            border: none !important;
            color: #1a1a2e !important;
            text-align: center !important;
            font-weight: 600 !important;
            margin-top: 20px;
        }

        .restart-btn:hover {
            transform: translateY(-3px) !important;
        }

        .achievement-unlocked {
            background: linear-gradient(135deg, rgba(241, 196, 15, 0.2), rgba(230, 126, 34, 0.2));
            border: 2px solid var(--promise-gold);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
            font-size: 1.2rem;
            animation: achievementGlow 2s ease-in-out infinite;
        }

        @keyframes achievementGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(241, 196, 15, 0.3); }
            50% { box-shadow: 0 0 40px rgba(241, 196, 15, 0.6); }
        }

        .achievement-icon {
            font-size: 1.5rem;
            color: var(--promise-gold);
            margin-right: 10px;
        }

        .final-stats {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .final-stats p {
            margin: 10px 0;
            font-size: 1rem;
        }

        /* Narrative Mode Scrollbar */
        #narrative-mode::-webkit-scrollbar {
            width: 8px;
        }
        #narrative-mode::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
        }
        #narrative-mode::-webkit-scrollbar-thumb {
            background: var(--promise-gold);
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            #narrative-mode {
                padding: 25px;
            }
            .narrative-header {
                flex-direction: column;
                gap: 15px;
            }
            #scene-title {
                font-size: 1.4rem;
            }
            .choice-btn {
                padding: 15px 20px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="water-bg">
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <div class="container">
        <a href="index.html" class="back-link">
            <span>←</span>
            <span>Back to Paradoxes</span>
        </a>

        <h1>Buridan's Bridge</h1>

        <!-- Narrative Adventure Toggle -->
        <div class="narrative-toggle-container">
            <button id="narrative-toggle" onclick="toggleNarrative()">Play Narrative Adventure</button>
        </div>

        <!-- Narrative Adventure Mode -->
        <div id="narrative-mode">
            <div class="narrative-header">
                <h2>Narrative Adventure Mode</h2>
                <div class="narrative-stats">
                    <span id="wisdom-display">Wisdom: 0</span>
                    <span id="karma-display">Karma: 0</span>
                </div>
            </div>
            <div class="scene-container">
                <h3 id="scene-title">The Bridge at Dawn</h3>
                <div id="scene-text"></div>
            </div>
            <div id="scene-choices"></div>
        </div>

        <p class="intro">
            Plato guards a bridge and makes Socrates a promise: <strong>"If you speak truth, you may cross.
            If you lie, I'll throw you in the water."</strong> Socrates replies: <strong>"You will throw me in the water."</strong>
            Now what? If Plato throws him in, he spoke truth and should cross. If he lets him cross, he lied and should be thrown in.
            Either way, Plato <strong>breaks his promise</strong>.
        </p>

        <!-- Interactive Bridge Scene -->
        <section class="bridge-scene">
            <h2>The Scene</h2>

            <div class="scene-visual">
                <div class="bridge"></div>
                <div class="character-scene socrates-scene" id="socrates">
                    <div class="character-head"></div>
                    <div class="character-body"></div>
                    <div class="character-name">Socrates</div>
                </div>
                <div class="character-scene plato-scene">
                    <div class="character-head"></div>
                    <div class="character-body"></div>
                    <div class="character-name">Plato</div>
                </div>
            </div>

            <div class="speech-bubbles">
                <div class="speech">
                    <div class="speaker-icon plato-icon">P</div>
                    <div class="speech-bubble">
                        <strong>Plato:</strong> "Socrates! If your first statement is TRUE, I will let you cross.
                        But if it is FALSE, I will throw you into the water!"
                    </div>
                </div>
                <div class="speech">
                    <div class="speaker-icon socrates-icon">S</div>
                    <div class="speech-bubble">
                        <strong>Socrates:</strong> "You will throw me into the water."
                    </div>
                </div>
            </div>

            <div class="logic-display">
                <h3>What Happens Now?</h3>
                <div class="logic-grid" id="logic-grid">
                    <div class="logic-card" id="if-cross">
                        <h4>If Plato Lets Him Cross</h4>
                        <p id="cross-result">Socrates said he'd be thrown in... which was FALSE. But Plato promised to throw liars in!</p>
                    </div>
                    <div class="logic-card" id="if-throw">
                        <h4>If Plato Throws Him In</h4>
                        <p id="throw-result">Socrates said he'd be thrown in... which was TRUE. But Plato promised to let truth-tellers cross!</p>
                    </div>
                </div>
                <p class="verdict" id="verdict">Choose an outcome to see the paradox unfold</p>
            </div>

            <div class="outcome-controls">
                <button class="btn btn-cross" id="btn-cross" onclick="letCross()">
                    Let Socrates Cross
                </button>
                <button class="btn btn-throw" id="btn-throw" onclick="throwIn()">
                    Throw Him In
                </button>
                <button class="btn btn-reset" onclick="resetScene()">
                    Reset
                </button>
            </div>
        </section>

        <!-- Solutions -->
        <section class="solutions-section">
            <h2>Proposed Solutions</h2>

            <div class="solution-tabs">
                <button class="solution-tab active" onclick="showSolution(0)">Buridan's Answer</button>
                <button class="solution-tab" onclick="showSolution(1)">Three-Valued Logic</button>
                <button class="solution-tab" onclick="showSolution(2)">Jacquette's Defense</button>
                <button class="solution-tab" onclick="showSolution(3)">Ulatowski's Caution</button>
                <button class="solution-tab" onclick="showSolution(4)">Humorous Solutions</button>
            </div>

            <div class="solution-content" id="solution-content">
                <h3>Buridan's Own Answer</h3>
                <p>Jean Buridan, the medieval philosopher who formulated this paradox, gave two key insights:</p>
                <br>
                <p><strong>1. The statement is neither true nor false.</strong> Socrates' claim "You will throw me in the water"
                is a <em>future contingent</em>—its truth depends on what Plato chooses to do. Before Plato acts,
                the statement has no determinate truth value.</p>
                <br>
                <p><strong>2. Plato shouldn't have made that promise.</strong> The conditional promise itself is
                problematic. Since Plato cannot fulfill it without violating it, he is not morally obligated to keep
                an impossible promise. Buridan suggests the fault lies with making such a rash vow.</p>
            </div>
        </section>

        <!-- History -->
        <section class="history-section">
            <h2>Historical Journey</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">~350 BCE</div>
                    <div class="timeline-title">Eubulides' Crocodile Dilemma</div>
                    <p>An ancient variant: A crocodile steals a child and promises to return it if the mother correctly
                    guesses what it will do. She says: "You will not return my child."</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">~1350 CE</div>
                    <div class="timeline-title">Jean Buridan's Sophismata</div>
                    <p>The French philosopher Jean Buridan includes "Buridan's Bridge" as Sophism 17 in his influential
                    work on logical puzzles. He was already famous for "Buridan's Ass."</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">1605</div>
                    <div class="timeline-title">Don Quixote</div>
                    <p>Miguel de Cervantes adapts the paradox in his masterpiece. Sancho Panza, as governor, must judge
                    a man who says he will be hanged—creating the same logical trap.</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">1920s</div>
                    <div class="timeline-title">Many-Valued Logic</div>
                    <p>Jan Lukasiewicz develops three-valued logic, providing a formal framework for handling
                    future contingents and indeterminate statements.</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Present</div>
                    <div class="timeline-title">Modern Analysis</div>
                    <p>Philosophers like Dale Jacquette and Joseph Ulatowski continue to debate the best resolution,
                    connecting it to issues in deontic logic and promise-keeping.</p>
                </div>
            </div>
        </section>

        <!-- Don Quixote Connection -->
        <section class="quixote-section">
            <h2>In Don Quixote</h2>
            <p>Cervantes immortalized this paradox when Sancho Panza became governor of an island:</p>

            <div class="quote-block">
                "There is a law in this island that whoever wants to enter must first swear where he is going
                and for what purpose. If he swears truly, he may pass; but if he swears falsely, he shall be hanged
                on the gallows without any mercy."
                <br><br>
                A man approaches and swears: "I am going to be hanged on that gallows."
                <br><br>
                If they hang him, he told the truth, so he should go free. If they let him go, he lied,
                so he should be hanged.
                <div class="quote-attribution">— Miguel de Cervantes, Don Quixote (1605)</div>
            </div>

            <p>Sancho's wisdom? He chose <strong>mercy over strict logic</strong>, letting the man go free,
            reasoning that when doubt exists, clemency is the better path.</p>
        </section>

        <!-- Core Insight -->
        <section class="insight-section">
            <h2>Why This Matters</h2>

            <div class="insight-grid">
                <div class="insight-card">
                    <h4>Self-Defeating Promises</h4>
                    <p>Some conditional promises are logically impossible to keep. The paradox reveals that
                    we can construct statements that make any response a violation.</p>
                </div>
                <div class="insight-card">
                    <h4>Future Contingents</h4>
                    <p>Statements about the future may not be true or false until the future arrives.
                    This has implications for free will, determinism, and prophecy.</p>
                </div>
                <div class="insight-card">
                    <h4>Legal Systems</h4>
                    <p>What happens when laws contradict themselves? The paradox anticipates Gödel's
                    incompleteness—any sufficiently powerful system can construct self-undermining statements.</p>
                </div>
                <div class="insight-card">
                    <h4>Contractual Obligations</h4>
                    <p>In contract law, impossible conditions can void obligations. The paradox shows how
                    cleverly worded conditions can trap the promisor.</p>
                </div>
            </div>
        </section>

        <!-- Final Reflection -->
        <section class="bridge-scene">
            <h2>The Deeper Lesson</h2>
            <p style="font-size: 1.15rem; line-height: 1.8;">
                Buridan's Bridge teaches us that <strong>language can be weaponized</strong>. Socrates,
                by carefully choosing his words, creates a situation where Plato cannot win.
                <br><br>
                But the paradox also reveals something about <strong>the limits of strict logic in human affairs</strong>.
                Real-world promises, laws, and agreements must allow for edge cases and exceptional circumstances.
                <br><br>
                Perhaps the truest wisdom comes from Sancho Panza: when logic fails, <strong>choose compassion</strong>.
                A system that cannot bend will eventually break.
            </p>
        </section>
    </div>

    <script>
        // ============================================
        // NARRATIVE ADVENTURE MODE
        // ============================================

        let gameState = {
            currentScene: 'intro',
            choices: [],
            karma: 0,
            wisdomPoints: 0,
            endings: []
        };

        const narrativeScenes = {
            intro: {
                title: "The Bridge at Dawn",
                text: `The morning mist rises from the river as you approach Plato's bridge. For years, travelers have told tales of this place—where logic becomes a trap and even the wisest philosophers fear to tread.

You see two figures ahead: Plato, the stern guardian in blue robes, and Socrates, the shrewd questioner in red, standing at the bridge's entrance.

"Ah, a traveler!" Plato calls out. "Come closer. You shall witness a contest of minds."`,
                choices: [
                    { text: "Approach and watch silently", next: 'witness', karma: 0 },
                    { text: "Ask what is happening", next: 'ask_context', karma: 0 },
                    { text: "Offer to help resolve their dispute", next: 'offer_help', karma: 1 }
                ]
            },
            witness: {
                title: "Silent Observer",
                text: `You step closer, keeping your distance. Plato puffs out his chest and declares:

"My rule is simple, Socrates. Speak a truth, and you may cross. Speak a falsehood, and into the water you go. Now—what say you?"

Socrates strokes his beard, a knowing smile playing on his lips. "Very well, Plato. I say this: YOU WILL THROW ME IN THE WATER."

Plato's confident expression falters. His brow furrows as the implications sink in...`,
                choices: [
                    { text: "Point out the logical trap to Plato", next: 'explain_trap', wisdom: 2 },
                    { text: "Suggest Plato let Socrates cross", next: 'suggest_mercy', karma: 1 },
                    { text: "Suggest Plato throw Socrates in anyway", next: 'suggest_force', karma: -1 }
                ]
            },
            ask_context: {
                title: "The Terms of Passage",
                text: `Plato turns to you with a welcoming gesture. "I am the keeper of this bridge. All who wish to cross must first make a statement. If it be TRUE, they pass freely. If it be FALSE, into the river they go!"

"A fair system," Socrates says dryly. "Until someone speaks a truth that cannot be true."

"Nonsense!" Plato scoffs. "Truth is truth. Logic cannot fail."

Socrates exchanges a glance with you. "Shall we test that theory?"`,
                choices: [
                    { text: "Encourage Socrates to try his statement", next: 'witness', karma: 0 },
                    { text: "Warn Plato this might be a trick", next: 'warn_plato', karma: 0 },
                    { text: "Challenge Socrates to find another way", next: 'challenge_socrates', wisdom: 1 }
                ]
            },
            offer_help: {
                title: "The Mediator",
                text: `Both philosophers turn to face you with interest.

"A peacemaker approaches," Socrates observes. "How refreshing."

"Very well," Plato says. "You may arbitrate. I have sworn an oath: truth-speakers cross, liars are thrown in. Socrates must make a statement, and I must judge it."

Socrates nods slowly. "And I intend to say something... interesting."

The weight of judgment falls upon your shoulders.`,
                choices: [
                    { text: "Accept the role of arbiter", next: 'become_judge', wisdom: 1, karma: 1 },
                    { text: "Suggest they abandon the contest", next: 'suggest_abandon', karma: 0 },
                    { text: "Listen first, then decide", next: 'witness', karma: 0 }
                ]
            },
            warn_plato: {
                title: "A Wary Counsel",
                text: `"Be careful, Plato," you say. "Socrates is known for his wordcraft. He may find a statement that traps you."

Plato laughs dismissively. "My oath is ironclad! No mere words can defeat pure logic."

Socrates smiles. "Then let us proceed." He clears his throat and declares:

"YOU WILL THROW ME IN THE WATER."

The color drains from Plato's face as he realizes his predicament.`,
                choices: [
                    { text: "Help Plato analyze the problem", next: 'analyze_together', wisdom: 2 },
                    { text: "Remind Plato of his oath", next: 'strict_oath', karma: -1 },
                    { text: "Suggest a compromise", next: 'compromise_path', karma: 1, wisdom: 1 }
                ]
            },
            challenge_socrates: {
                title: "A Different Path",
                text: `"Socrates," you say, "surely there's another way. Must you trap Plato in paradox?"

The old philosopher regards you thoughtfully. "An interesting question. I could simply tell the truth—say I intend to visit Athens—and cross freely. But what would that prove?"

"It would prove that not every problem needs a clever solution," you reply.

Plato nods approvingly. "Wisdom speaks!"

Socrates strokes his beard. "Perhaps... but the paradox exists regardless. Should we not explore it?"`,
                choices: [
                    { text: "Agree to explore the paradox academically", next: 'academic_path', wisdom: 2 },
                    { text: "Insist on the simple solution", next: 'simple_path', karma: 1 },
                    { text: "Propose both—cross first, discuss after", next: 'practical_path', wisdom: 1, karma: 1 }
                ]
            },
            explain_trap: {
                title: "The Logic Revealed",
                text: `"Plato," you explain, "if you throw him in, his statement becomes true—but you swore to let truth-tellers cross. If you let him cross, his statement becomes false—but you swore to punish liars."

Plato stares at you, then at Socrates, who nods with a satisfied expression.

"He has created a statement whose truth depends entirely on YOUR choice," you continue. "Neither option fulfills your oath."

"Then... what should I do?" Plato asks, genuinely perplexed.`,
                choices: [
                    { text: "Suggest the oath was poorly designed", next: 'oath_critique', wisdom: 2 },
                    { text: "Recommend mercy—let him cross", next: 'mercy_ending', karma: 2 },
                    { text: "Propose a creative loophole", next: 'loophole_path', wisdom: 1 }
                ]
            },
            suggest_mercy: {
                title: "The Call for Mercy",
                text: `"Let him cross, Plato. When logic fails, compassion should guide us."

Plato hesitates. "But my oath..."

"Was made before you knew such statements were possible," you argue. "You cannot be held to an impossible standard."

Socrates observes quietly, neither agreeing nor disagreeing.

Plato sighs heavily. "Perhaps you are right. But it pains me to break my word..."`,
                choices: [
                    { text: "Assure him this is wisdom, not weakness", next: 'mercy_ending', karma: 2, wisdom: 1 },
                    { text: "Suggest he modify his oath going forward", next: 'reform_oath', karma: 1, wisdom: 2 },
                    { text: "Point out Socrates exploited a flaw", next: 'blame_socrates', karma: -1 }
                ]
            },
            suggest_force: {
                title: "The Hard Line",
                text: `"Throw him in, Plato. He tried to outsmart you—let him face the consequences."

Plato looks uncertain. "But if I throw him in, his statement was true..."

"Does it matter?" you press. "He came here to make a mockery of your system. Actions have consequences."

Socrates raises an eyebrow. "How interesting. You choose punishment over logic."

"I choose order over chaos," you reply.`,
                choices: [
                    { text: "Stand firm—into the water with him", next: 'harsh_ending', karma: -2 },
                    { text: "Reconsider—maybe this is too harsh", next: 'suggest_mercy', karma: 1 },
                    { text: "Let Plato decide for himself", next: 'plato_decides', karma: 0 }
                ]
            },
            become_judge: {
                title: "The Weight of Judgment",
                text: `You take your place between the philosophers. Socrates speaks his statement:

"YOU WILL THROW ME IN THE WATER."

Both men turn to you expectantly.

"Well?" Plato asks. "Is it true or false? How should I act?"

The river rushes below, indifferent to philosophy.`,
                choices: [
                    { text: "Rule it as neither true nor false", next: 'neither_ruling', wisdom: 3 },
                    { text: "Rule in favor of mercy", next: 'mercy_ending', karma: 2 },
                    { text: "Declare the contest void", next: 'void_contest', wisdom: 2, karma: 1 }
                ]
            },
            analyze_together: {
                title: "Collaborative Reasoning",
                text: `You sit with Plato by the bridge, working through the logic together.

"If I throw him in..." Plato begins.
"His statement is true, violating your oath to let truth-tellers pass," you finish.
"And if I let him cross..."
"His statement is false, violating your oath to punish liars."

Plato nods grimly. "So my oath itself is the problem. I made a promise that certain statements could break."

Socrates joins you. "Now we're getting somewhere."`,
                choices: [
                    { text: "Suggest Plato was foolish to make such an oath", next: 'harsh_lesson', wisdom: 1 },
                    { text: "Focus on how to prevent this in the future", next: 'reform_oath', karma: 1, wisdom: 2 },
                    { text: "Celebrate the discovery of the paradox", next: 'celebrate_paradox', wisdom: 3 }
                ]
            },
            neither_ruling: {
                title: "The Third Value",
                text: `"The statement is neither true nor false," you declare. "It is INDETERMINATE—its truth depends on an action not yet taken."

Both philosophers look startled, then thoughtful.

"A third category..." Plato muses. "I never considered that."

"Aristotle would be proud," Socrates says with genuine respect. "You've found what he called the 'future contingent.'"

"Since your oath only addresses true and false statements," you continue, "this one falls outside its scope. You are free to act as you wish."`,
                choices: [
                    { text: "Recommend Plato let Socrates cross", next: 'enlightened_ending', karma: 1, wisdom: 1 },
                    { text: "Let Plato choose freely", next: 'free_choice_ending', wisdom: 1 },
                    { text: "Suggest they both cross together, as friends", next: 'friendship_ending', karma: 2, wisdom: 1 }
                ]
            },
            void_contest: {
                title: "The Voided Game",
                text: `"I declare this contest void," you announce. "Socrates crafted a statement specifically to break the system. That's not playing the game—that's attacking its rules."

Plato looks relieved. "Then I need not honor my oath?"

"Your oath was made in good faith for good-faith statements. This was a trap, not a test."

Socrates shrugs philosophically. "Fair enough. Though I would argue that exposing flaws IS good faith."

"Perhaps," you concede. "But the contest is still void."`,
                choices: [
                    { text: "Suggest they start fresh with new rules", next: 'new_rules_ending', wisdom: 2, karma: 1 },
                    { text: "Recommend abandoning the bridge game entirely", next: 'abandon_ending', karma: 1 },
                    { text: "Propose they debate the nature of paradoxes instead", next: 'philosophical_ending', wisdom: 3 }
                ]
            },
            oath_critique: {
                title: "The Flawed Oath",
                text: `"The fault lies not with Socrates," you say carefully, "but with the oath itself. Any rule that can be exploited by clever wording was never complete to begin with."

Plato winces. "You're saying I'm to blame?"

"Not blame—just that wisdom requires anticipating edge cases. Your oath assumed all statements would be straightforward. Socrates showed that assumption was wrong."

"The law that cannot handle exceptions is no law at all," Socrates agrees.`,
                choices: [
                    { text: "Help Plato design a better oath", next: 'better_oath_ending', wisdom: 3, karma: 1 },
                    { text: "Suggest some mysteries are unsolvable", next: 'mystery_ending', wisdom: 2 },
                    { text: "Point toward three-valued logic", next: 'logic_ending', wisdom: 3 }
                ]
            },
            loophole_path: {
                title: "The Creative Escape",
                text: `"What if," you suggest slowly, "you let Socrates cross the bridge... and THEN throw him in the water from the other side?"

Both philosophers stare at you.

"Technically," you continue, "he would have crossed—fulfilling the first half. And he would be thrown in—fulfilling his prediction. Both conditions are met!"

Socrates bursts out laughing. "Brilliant! Absolutely brilliant!"

Even Plato cracks a smile. "That's cheating, but I admire the ingenuity."`,
                choices: [
                    { text: "Encourage them to try it", next: 'loophole_ending', wisdom: 1, karma: 0 },
                    { text: "Admit it's just a joke—seek a real solution", next: 'serious_ending', wisdom: 2, karma: 1 },
                    { text: "Propose throwing Buridan in instead", next: 'humor_ending', wisdom: 0, karma: 0 }
                ]
            },
            reform_oath: {
                title: "The Reformed Oath",
                text: `"Going forward," you suggest, "the oath should exclude self-referential or paradoxical statements."

Plato nods eagerly, pulling out a wax tablet. "Yes! How about: 'If you speak a simple truth about external facts, you may cross...'"

"'And if you speak a simple falsehood about external facts, you shall be thrown in,'" Socrates finishes. "That would prevent my trick."

"Though it also makes the game less interesting," Socrates adds with a wink.`,
                choices: [
                    { text: "Accept this as a good compromise", next: 'reform_ending', wisdom: 2, karma: 1 },
                    { text: "Suggest even more safeguards", next: 'complex_ending', wisdom: 1 },
                    { text: "Argue the game should be abandoned entirely", next: 'abandon_ending', karma: 1 }
                ]
            },
            celebrate_paradox: {
                title: "The Joy of Discovery",
                text: `"Don't you see?" you exclaim. "This is a gift! Socrates has revealed something profound about language and logic itself!"

Both philosophers look at you with new interest.

"Go on," Plato says.

"Self-referential statements can create impossible situations. This isn't a flaw in your oath—it's a fundamental truth about systems of rules. Any system powerful enough to express complex ideas can express ideas that break itself!"

Socrates claps his hands. "You speak of what Gödel will prove millennia hence!"`,
                choices: [
                    { text: "Embrace the philosophical implications", next: 'philosophical_ending', wisdom: 3 },
                    { text: "Suggest writing this discovery down", next: 'scholarly_ending', wisdom: 2, karma: 1 },
                    { text: "Return to the practical matter at hand", next: 'practical_ending', wisdom: 1, karma: 1 }
                ]
            },
            // ENDINGS
            mercy_ending: {
                title: "The Compassionate Resolution",
                text: `Plato extends his hand toward the bridge. "Cross, old friend. When logic offers no answer, let kindness choose."

Socrates walks across, turning at the other side. "You chose wisely, Plato. Sancho Panza would approve."

As you watch them embrace on the far shore, you understand something profound: the truest wisdom is knowing when rules must yield to humanity.

THE END - The Path of Mercy`,
                ending: true,
                achievement: "Compassionate Philosopher"
            },
            harsh_ending: {
                title: "The Rigid Resolution",
                text: `Plato shoves Socrates into the water. The old philosopher surfaces, spluttering but unharmed.

"You broke your oath!" Socrates calls from the river. "I told the truth!"

"You exploited my trust!" Plato shouts back. "That deserves punishment regardless!"

As you walk away, you wonder: was justice served, or merely anger?

THE END - The Path of Force`,
                ending: true,
                achievement: "Stern Arbiter"
            },
            enlightened_ending: {
                title: "The Three-Valued Solution",
                text: `With the paradox resolved through the third truth-value, both philosophers cross the bridge together, discussing your insight.

"You've given us a new tool," Plato says. "Not all propositions need be true or false."

"Future contingents, liar paradoxes, even free will debates—all transformed," Socrates adds.

You've planted a seed that will bloom into many-valued logic, helping humanity think more clearly for millennia to come.

THE END - The Path of Logic`,
                ending: true,
                achievement: "Pioneer of Three-Valued Logic"
            },
            friendship_ending: {
                title: "The Bond Unbroken",
                text: `"Cross together," you urge. "As friends, not adversaries."

Plato hesitates, then smiles. He takes Socrates' arm, and they walk across the bridge side by side.

"Perhaps," Plato admits, "I was too caught up in rules to see what matters."

"And I," Socrates replies, "was too clever for my own good."

The paradox remains unsolved, but something more valuable was preserved: a friendship.

THE END - The Path of Friendship`,
                ending: true,
                achievement: "Peacemaker"
            },
            philosophical_ending: {
                title: "The Eternal Question",
                text: `The three of you sit by the river until sunset, exploring the implications of self-reference, paradox, and the limits of formal systems.

"We've stumbled upon something ancient and eternal," Socrates observes. "Humans have always been able to think thoughts that trap themselves."

"And perhaps that's the point," Plato adds. "The paradox humbles us. Logic is powerful, but not omnipotent."

You leave the bridge wiser, carrying a question you'll ponder for the rest of your days.

THE END - The Path of Wonder`,
                ending: true,
                achievement: "Seeker of Truth"
            },
            loophole_ending: {
                title: "The Clever Compromise",
                text: `Plato lets Socrates cross. Then, with a mischievous grin, he runs to the other side and gently pushes Socrates into the shallow water.

Both philosophers emerge laughing, soaking wet but satisfied.

"You fulfilled both conditions!" Socrates wheezes.

"And made a mockery of the whole exercise!" Plato chuckles.

Sometimes the best solution is the one that makes everyone laugh.

THE END - The Path of Wit`,
                ending: true,
                achievement: "Master of Loopholes"
            },
            humor_ending: {
                title: "The Buridan Gambit",
                text: `"You know what?" you declare. "Let's find Buridan and throw HIM in the river for inventing this impossible puzzle!"

Both philosophers look at each other, then at you, then burst into laughter.

"I knew I liked this traveler," Socrates wheezes.

"A toast to impractical solutions!" Plato agrees.

The three of you set off to find Buridan, armed with rope and good humor.

THE END - The Path of Absurdity`,
                ending: true,
                achievement: "Chaos Agent"
            },
            better_oath_ending: {
                title: "The Refined Law",
                text: `Together, you craft a new oath for Plato:

"Those who speak clearly true statements of fact may cross. Those who speak clearly false statements shall face the water. Those whose statements are self-referential, paradoxical, or indeterminate shall be judged by wisdom, not rule."

"It's not as elegant," Plato admits.

"But it's wiser," you reply.

True progress often means trading simplicity for completeness.

THE END - The Path of Reform`,
                ending: true,
                achievement: "Lawgiver"
            },
            logic_ending: {
                title: "The Birth of Many-Valued Logic",
                text: `You sketch out the beginnings of three-valued logic in the sand:

TRUE | FALSE | INDETERMINATE

"If we accept this third value," you explain, "many paradoxes dissolve."

Plato and Socrates study your diagram with growing excitement.

"You've opened a door," Socrates breathes. "A door we didn't know existed."

Centuries later, Lukasiewicz will formalize what you sketched today.

THE END - The Path of Innovation`,
                ending: true,
                achievement: "Father of Many-Valued Logic"
            },
            scholarly_ending: {
                title: "The Record for Posterity",
                text: `You insist that Plato record this encounter in writing. "Future generations must know of this paradox and its lessons."

Plato agrees, and what follows becomes one of the most studied problems in philosophy—referenced by Cervantes, analyzed by Buridan, formalized by modern logicians.

Your name is lost to history, but your wisdom lives on in every philosophy classroom that ponders the bridge.

THE END - The Path of Legacy`,
                ending: true,
                achievement: "Scholar"
            },
            practical_ending: {
                title: "The Pragmatic Resolution",
                text: `"Enough philosophy!" you declare. "Socrates, just make a normal statement. Say where you're going."

Socrates sighs. "Very well. I am traveling to Athens to teach."

"True," Plato agrees. "You may cross."

Socrates walks across, turning to wave. "Thank you, traveler, for cutting through the fog."

Sometimes the wisest choice is the simplest one.

THE END - The Path of Pragmatism`,
                ending: true,
                achievement: "Practical Philosopher"
            },
            free_choice_ending: {
                title: "The Liberated Guardian",
                text: `"Your oath binds you not," you tell Plato. "Choose freely what feels right."

Plato stands silent for a long moment, then extends his hand. "Cross, Socrates. Not because logic demands it, but because I choose mercy."

"That is the truest freedom," Socrates replies, crossing the bridge. "Choice unconstrained by false necessity."

You've given Plato more than a solution—you've given him liberation.

THE END - The Path of Freedom`,
                ending: true,
                achievement: "Liberator"
            },
            new_rules_ending: {
                title: "A Fresh Start",
                text: `The old game is abandoned. In its place, you help design a new one—a game of riddles and wisdom rather than binary traps.

"This is better," Plato admits. "More interesting, more fair."

"And no one gets thrown in the river," Socrates adds approvingly.

The bridge becomes a place of philosophical exchange, not punishment. A small change, but a meaningful one.

THE END - The Path of Innovation`,
                ending: true,
                achievement: "Reformer"
            },
            abandon_ending: {
                title: "The End of the Game",
                text: `"Perhaps," you suggest, "this bridge should simply be a bridge. No oaths, no tests, just... passage."

Both philosophers consider this radical idea.

"Then what would be the point of guarding it?" Plato asks.

"Maybe there doesn't need to be a point. Maybe some things just are."

Plato removes his guardian's cloak and joins Socrates in crossing. The bridge stands open to all.

THE END - The Path of Simplicity`,
                ending: true,
                achievement: "Bridge Liberator"
            },
            mystery_ending: {
                title: "The Accepted Mystery",
                text: `"Some questions have no answers," you say gently. "And that's okay."

Both philosophers look at you with surprise, then slow understanding.

"You mean... just accept the paradox?" Plato asks.

"Accept that it exists. Accept that it reveals limits. Accept that wisdom includes knowing what cannot be solved."

They nod slowly. The paradox remains, but peace descends.

THE END - The Path of Acceptance`,
                ending: true,
                achievement: "Mystic"
            }
        };

        function startNarrative() {
            gameState = {
                currentScene: 'intro',
                choices: [],
                karma: 0,
                wisdomPoints: 0,
                endings: []
            };
            document.getElementById('narrative-mode').style.display = 'block';
            document.getElementById('narrative-toggle').textContent = 'Return to Classic Mode';
            renderScene();
        }

        function exitNarrative() {
            document.getElementById('narrative-mode').style.display = 'none';
            document.getElementById('narrative-toggle').textContent = 'Play Narrative Adventure';
        }

        function toggleNarrative() {
            const narrativeMode = document.getElementById('narrative-mode');
            if (narrativeMode.style.display === 'none') {
                startNarrative();
            } else {
                exitNarrative();
            }
        }

        function renderScene() {
            const scene = narrativeScenes[gameState.currentScene];
            if (!scene) return;

            document.getElementById('scene-title').textContent = scene.title;
            document.getElementById('scene-text').innerHTML = scene.text;

            const choicesContainer = document.getElementById('scene-choices');
            choicesContainer.innerHTML = '';

            if (scene.ending) {
                // This is an ending
                const achievementDiv = document.createElement('div');
                achievementDiv.className = 'achievement-unlocked';
                achievementDiv.innerHTML = `<span class="achievement-icon">★</span> Achievement Unlocked: <strong>${scene.achievement}</strong>`;
                choicesContainer.appendChild(achievementDiv);

                const statsDiv = document.createElement('div');
                statsDiv.className = 'final-stats';
                statsDiv.innerHTML = `
                    <p><strong>Wisdom Points:</strong> ${gameState.wisdomPoints}</p>
                    <p><strong>Karma:</strong> ${gameState.karma > 0 ? '+' + gameState.karma : gameState.karma}</p>
                    <p><strong>Choices Made:</strong> ${gameState.choices.length}</p>
                `;
                choicesContainer.appendChild(statsDiv);

                const restartBtn = document.createElement('button');
                restartBtn.className = 'choice-btn restart-btn';
                restartBtn.textContent = 'Play Again';
                restartBtn.onclick = startNarrative;
                choicesContainer.appendChild(restartBtn);
            } else {
                scene.choices.forEach((choice, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'choice-btn';
                    btn.textContent = choice.text;
                    btn.onclick = () => makeChoice(choice);
                    choicesContainer.appendChild(btn);
                });
            }

            // Update progress indicator
            document.getElementById('wisdom-display').textContent = `Wisdom: ${gameState.wisdomPoints}`;
            document.getElementById('karma-display').textContent = `Karma: ${gameState.karma > 0 ? '+' + gameState.karma : gameState.karma}`;
        }

        function makeChoice(choice) {
            gameState.choices.push(choice.text);
            if (choice.wisdom) gameState.wisdomPoints += choice.wisdom;
            if (choice.karma) gameState.karma += choice.karma;
            gameState.currentScene = choice.next;
            renderScene();

            // Scroll to top of narrative panel
            document.getElementById('narrative-mode').scrollTop = 0;
        }

        const solutions = [
            {
                title: "Buridan's Own Answer",
                content: `<p>Jean Buridan, the medieval philosopher who formulated this paradox, gave two key insights:</p>
                <br>
                <p><strong>1. The statement is neither true nor false.</strong> Socrates' claim "You will throw me in the water"
                is a <em>future contingent</em>—its truth depends on what Plato chooses to do. Before Plato acts,
                the statement has no determinate truth value.</p>
                <br>
                <p><strong>2. Plato shouldn't have made that promise.</strong> The conditional promise itself is
                problematic. Since Plato cannot fulfill it without violating it, he is not morally obligated to keep
                an impossible promise. Buridan suggests the fault lies with making such a rash vow.</p>`
            },
            {
                title: "Three-Valued Logic",
                content: `<p>Following Lukasiewicz and others, we can adopt a <strong>three-valued logic</strong> where statements
                can be TRUE, FALSE, or INDETERMINATE.</p>
                <br>
                <p>Socrates' statement "You will throw me in the water" is <strong>indeterminate</strong> at the moment
                of utterance. Since Plato's promise only applies to true or false statements, and this is neither,
                the promise <em>doesn't trigger at all</em>.</p>
                <br>
                <p>This is similar to Aristotle's famous "sea battle tomorrow" problem—future contingents may not have
                truth values until they occur or fail to occur.</p>`
            },
            {
                title: "Jacquette's Defense of Plato",
                content: `<p>Philosopher <strong>Dale Jacquette</strong> argues that Plato can do either action without
                violating his promise!</p>
                <br>
                <p>The key insight: Plato's conditional promise was given <em>only for statements that are clearly
                and unconditionally true or false</em>. Since Socrates' self-referential statement doesn't meet
                this criterion, the promise simply doesn't apply.</p>
                <br>
                <p>Plato can freely choose to let Socrates cross or throw him in—his promise is null and void
                for this type of statement. The cleverness of Socrates voids the contract.</p>`
            },
            {
                title: "Ulatowski's Caution",
                content: `<p><strong>Joseph Ulatowski</strong> takes a different approach: when the truth value is
                genuinely indeterminate, Plato should "err on the side of caution."</p>
                <br>
                <p>Since Plato cannot know whether Socrates spoke truth or falsehood, and throwing someone
                in water is more harmful than letting them cross, the precautionary principle suggests
                <strong>letting Socrates cross</strong>.</p>
                <br>
                <p>This connects to legal principles like "innocent until proven guilty" and "in dubio pro reo"
                (when in doubt, favor the accused). Uncertainty should benefit, not harm.</p>`
            },
            {
                title: "Humorous Solutions",
                content: `<p>Ulatowski playfully suggests some creative escapes:</p>
                <br>
                <p><strong>1. The Loophole:</strong> Let Socrates cross the bridge, <em>then</em> throw him in the water
                from the other side. Technically, both parts of the promise are fulfilled!</p>
                <br>
                <p><strong>2. The Turnabout:</strong> Plato and Socrates should join forces and throw <em>Buridan</em>
                off his own bridge, for inventing such a troublesome puzzle.</p>
                <br>
                <p><strong>3. The Escape:</strong> Socrates could simply say "I will not give you a statement"
                as his first statement. Plato's promise doesn't apply to non-statements!</p>`
            }
        ];

        let currentSolution = 0;

        function showSolution(index) {
            currentSolution = index;
            const tabs = document.querySelectorAll('.solution-tab');
            tabs.forEach((tab, i) => {
                tab.classList.toggle('active', i === index);
            });

            const content = document.getElementById('solution-content');
            content.innerHTML = `<h3>${solutions[index].title}</h3>${solutions[index].content}`;
        }

        function letCross() {
            const socrates = document.getElementById('socrates');
            socrates.classList.add('crossed');
            socrates.classList.remove('thrown');

            document.getElementById('if-cross').classList.add('violated');
            document.getElementById('if-throw').classList.remove('violated');

            document.getElementById('verdict').textContent =
                'PROMISE VIOLATED: Socrates lied, so he should have been thrown in!';

            disableButtons();
        }

        function throwIn() {
            const socrates = document.getElementById('socrates');
            socrates.classList.add('thrown');
            socrates.classList.remove('crossed');

            document.getElementById('if-throw').classList.add('violated');
            document.getElementById('if-cross').classList.remove('violated');

            document.getElementById('verdict').textContent =
                'PROMISE VIOLATED: Socrates told the truth, so he should have crossed!';

            disableButtons();
        }

        function disableButtons() {
            document.getElementById('btn-cross').disabled = true;
            document.getElementById('btn-throw').disabled = true;

            document.getElementById('if-cross').classList.add('paradox');
            document.getElementById('if-throw').classList.add('paradox');
        }

        function resetScene() {
            const socrates = document.getElementById('socrates');
            socrates.classList.remove('crossed', 'thrown');

            document.getElementById('if-cross').classList.remove('violated', 'paradox');
            document.getElementById('if-throw').classList.remove('violated', 'paradox');

            document.getElementById('verdict').textContent =
                'Choose an outcome to see the paradox unfold';

            document.getElementById('btn-cross').disabled = false;
            document.getElementById('btn-throw').disabled = false;

            document.getElementById('cross-result').textContent =
                "Socrates said he'd be thrown in... which was FALSE. But Plato promised to throw liars in!";
            document.getElementById('throw-result').textContent =
                "Socrates said he'd be thrown in... which was TRUE. But Plato promised to let truth-tellers cross!";
        }
    </script>
</body>
</html>
