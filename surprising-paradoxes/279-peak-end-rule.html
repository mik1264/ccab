<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Peak-End Rule - Memories Ignore Duration</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2d1b4e 0%, #1a1030 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        .back-link { color: #e056fd; text-decoration: none; margin-bottom: 20px; display: inline-block; }
        h1 {
            font-size: 2.4rem;
            background: linear-gradient(135deg, #e056fd, #686de0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle { font-size: 1.1rem; color: #b090d0; max-width: 800px; margin: 0 auto; line-height: 1.6; }
        .experiment-container {
            background: rgba(50, 40, 80, 0.7);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .experiment-container h2 { color: #e056fd; margin-bottom: 20px; text-align: center; }
        .experience-graph {
            background: rgba(30, 25, 50, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .graph-title { color: #b090d0; text-align: center; margin-bottom: 15px; }
        .graph-container { position: relative; height: 200px; margin: 20px 0; }
        .graph-canvas { width: 100%; height: 100%; }
        .graph-axis-x { display: flex; justify-content: space-between; color: #7060a0; font-size: 0.8rem; margin-top: 5px; }
        .graph-labels { display: flex; justify-content: space-between; margin-top: 15px; }
        .graph-label {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.85rem;
        }
        .graph-label.peak { background: rgba(224, 86, 253, 0.2); color: #e056fd; }
        .graph-label.end { background: rgba(104, 109, 224, 0.2); color: #686de0; }
        .graph-label.duration { background: rgba(255, 255, 255, 0.1); color: #a080c0; }
        .scenario-cards { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 25px 0; }
        .scenario-card {
            background: rgba(30, 25, 50, 0.8);
            border-radius: 12px;
            padding: 25px;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
        }
        .scenario-card:hover { border-color: rgba(224, 86, 253, 0.5); }
        .scenario-card.selected { border-color: #e056fd; background: rgba(224, 86, 253, 0.1); }
        .scenario-title { color: #e056fd; font-size: 1.1rem; margin-bottom: 10px; }
        .scenario-desc { color: #a080c0; font-size: 0.9rem; line-height: 1.5; margin-bottom: 15px; }
        .scenario-stats { display: flex; justify-content: space-around; gap: 10px; }
        .stat-item { text-align: center; }
        .stat-value { font-size: 1.3rem; font-weight: bold; color: #686de0; }
        .stat-label { font-size: 0.75rem; color: #7060a0; }
        .vote-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            border: none;
            border-radius: 20px;
            background: linear-gradient(135deg, #e056fd, #686de0);
            color: white;
            font-family: inherit;
            font-size: 0.95rem;
            cursor: pointer;
        }
        .results-section { display: none; margin-top: 25px; }
        .results-section.visible { display: block; }
        .reveal-box {
            background: rgba(224, 86, 253, 0.15);
            border: 2px solid rgba(224, 86, 253, 0.4);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }
        .reveal-box h3 { color: #e056fd; margin-bottom: 15px; }
        .reveal-box p { color: #c0a0e0; line-height: 1.7; }
        .memory-formula {
            background: rgba(30, 25, 50, 0.8);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            margin: 25px 0;
        }
        .formula { font-size: 1.8rem; color: #e056fd; font-family: 'Courier New', monospace; margin: 15px 0; }
        .formula-explain { color: #a080c0; font-size: 0.9rem; }
        .research-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 25px 0; }
        .research-item {
            background: rgba(30, 25, 50, 0.8);
            border-radius: 10px;
            padding: 15px;
        }
        .research-item h4 { color: #e056fd; margin-bottom: 10px; font-size: 0.95rem; }
        .research-item p { color: #a080c0; font-size: 0.85rem; line-height: 1.5; }
        .case-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 30px 0; }
        .case-card {
            background: rgba(50, 40, 80, 0.7);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #e056fd;
        }
        .case-card h3 { color: #e056fd; margin-bottom: 12px; }
        .case-card p { color: #a080c0; font-size: 0.95rem; line-height: 1.6; }
        .insight-box {
            background: linear-gradient(135deg, rgba(224, 86, 253, 0.2), rgba(104, 109, 224, 0.1));
            border-left: 4px solid #e056fd;
            padding: 20px;
            border-radius: 0 12px 12px 0;
            margin: 25px 0;
        }
        .insight-box h3 { color: #e056fd; margin-bottom: 10px; }
        .explanation { background: rgba(50, 40, 80, 0.5); border-radius: 15px; padding: 25px; margin-top: 30px; }
        .explanation h2 { color: #e056fd; margin-bottom: 15px; }
        .explanation p { color: #a080c0; line-height: 1.8; margin-bottom: 15px; }
        @media (max-width: 600px) { .scenario-cards { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-link">‚Üê Back to Surprising Paradoxes</a>
            <h1>The Peak-End Rule</h1>
            <p class="subtitle">Your brain doesn't sum up experiences‚Äîit remembers the PEAK moment and the ENDING, then ignores everything else! Duration? Irrelevant. A painful 8-minute procedure with a gentle ending feels better than a 4-minute one that ends abruptly.</p>
        </header>

        <div class="experiment-container">
            <h2>üé¢ The Colonoscopy Paradox</h2>

            <div class="experience-graph">
                <div class="graph-title">Kahneman's Famous Study: Two Colonoscopy Patients</div>
                <canvas id="graphCanvas" class="graph-canvas"></canvas>
                <div class="graph-axis-x">
                    <span>0 min</span>
                    <span>4 min</span>
                    <span>8 min</span>
                    <span>12 min</span>
                    <span>16 min</span>
                </div>
                <div class="graph-labels">
                    <div class="graph-label peak">üìà Peak = Worst moment</div>
                    <div class="graph-label end">üèÅ End = Final moment</div>
                    <div class="graph-label duration">‚è±Ô∏è Duration = Ignored!</div>
                </div>
            </div>

            <p style="text-align: center; color: #b090d0; margin-bottom: 25px;">Which patient would YOU rather be? Choose based on their experiences:</p>

            <div class="scenario-cards" id="scenarioCards">
                <div class="scenario-card" id="patientA" data-patient="A">
                    <div class="scenario-title">üë§ Patient A</div>
                    <div class="scenario-desc">Short procedure. Pain peaked high, then stopped abruptly at the worst moment.</div>
                    <div class="scenario-stats">
                        <div class="stat-item">
                            <div class="stat-value">4 min</div>
                            <div class="stat-label">Duration</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">8/10</div>
                            <div class="stat-label">Peak Pain</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">7/10</div>
                            <div class="stat-label">End Pain</div>
                        </div>
                    </div>
                    <button class="vote-btn">I'd rather be Patient A</button>
                </div>

                <div class="scenario-card" id="patientB" data-patient="B">
                    <div class="scenario-title">üë§ Patient B</div>
                    <div class="scenario-desc">Long procedure. Same peak pain, but gradually tapered to mild discomfort at the end.</div>
                    <div class="scenario-stats">
                        <div class="stat-item">
                            <div class="stat-value">16 min</div>
                            <div class="stat-label">Duration</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">8/10</div>
                            <div class="stat-label">Peak Pain</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">2/10</div>
                            <div class="stat-label">End Pain</div>
                        </div>
                    </div>
                    <button class="vote-btn">I'd rather be Patient B</button>
                </div>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="reveal-box">
                    <h3>üéØ The Paradox Revealed</h3>
                    <p id="revealText">Patient B suffered 4x LONGER, experiencing more total pain... yet rated the experience as LESS unpleasant! The gentle ending overwrote 12 extra minutes of suffering in memory. Kahneman calls this "duration neglect"‚Äîyour brain simply doesn't weight time properly.</p>
                </div>

                <div class="memory-formula">
                    <div style="color: #b090d0; margin-bottom: 10px;">Your Memory's Equation:</div>
                    <div class="formula">Memory = (Peak + End) / 2</div>
                    <div class="formula-explain">Duration? Not in the equation. Total suffering? Ignored. Only the worst moment and the final moment matter.</div>
                </div>

                <div class="research-grid">
                    <div class="research-item">
                        <h4>üßä Cold Water Study</h4>
                        <p>Hand in 14¬∞C water for 60s vs 90s (last 30s warmed to 15¬∞C). People CHOSE the 90s option for repeat‚Äîpreferring MORE total discomfort!</p>
                    </div>
                    <div class="research-item">
                        <h4>üé¨ Movie Ratings</h4>
                        <p>A great 2-hour movie with a bad ending gets worse ratings than a mediocre 90-min movie with a great ending.</p>
                    </div>
                    <div class="research-item">
                        <h4>‚úàÔ∏è Vacation Memory</h4>
                        <p>A 2-week vacation isn't remembered as "better" than 1 week‚Äîunless week 2 has higher peaks or a better finale.</p>
                    </div>
                    <div class="research-item">
                        <h4>üè• Medical Procedures</h4>
                        <p>Doctors now extend procedures slightly with reduced intensity at the end‚Äîpatients report better experiences and return more willingly.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="case-cards">
            <div class="case-card">
                <h3>üé¢ Theme Parks</h3>
                <p>Disney ends rides with gift shops and photo ops‚Äîpositive endings color the whole experience. Rollercoasters build to a peak, then coast to a gentle stop.</p>
            </div>
            <div class="case-card">
                <h3>üéµ Concerts</h3>
                <p>Musicians save their biggest hit for the encore. The peak+end creates the memory, not the middle 90 minutes. A weak closer ruins everything.</p>
            </div>
            <div class="case-card">
                <h3>üçΩÔ∏è Dining</h3>
                <p>Restaurants bring complimentary desserts or mints. The meal's memory is formed by the best dish and the final taste‚Äînot the average.</p>
            </div>
            <div class="case-card">
                <h3>üì± App Design</h3>
                <p>Successful apps create "peak moments" (achievements, rewards) and end sessions positively. Frustrating endings = users never return.</p>
            </div>
        </div>

        <div class="insight-box">
            <h3>üß† Two Selves in Conflict</h3>
            <p><strong>The Experiencing Self</strong> lives moment-to-moment, feeling all 16 minutes of pain equally. It would choose the 4-minute procedure every time.<br><br>
            <strong>The Remembering Self</strong> creates the story. It only stores peak and end, ignoring duration. It would choose the 16-minute procedure.<br><br>
            <strong>The conflict:</strong> We make decisions based on remembered experiences, not lived ones. We often choose MORE suffering if it makes better memories!</p>
        </div>

        <div class="explanation">
            <h2>The Science</h2>
            <p><strong>Daniel Kahneman</strong> won the Nobel Prize in Economics (2002), partly for this work. His colonoscopy study with Don Redelmeier (1996) showed patients rated experiences based on peak pain + final pain, with duration having almost zero influence.</p>
            <p><strong>The paradox:</strong> Objectively, Patient A suffered less. But subjectively, Patient B has better memories and would be more willing to return for future procedures. Which matters more?</p>
            <p><strong>Practical wisdom:</strong> End experiences on a high note. The peak will happen whether you plan it or not‚Äîbut you can control the ending. Save something good for last.</p>
            <p style="font-style: italic; color: #7060a0;">We don't live our lives‚Äîwe remember them. And memory plays by different rules than experience.</p>
        </div>
    </div>

    <script>
        // Draw the experience graph
        function drawGraph() {
            var canvas = document.getElementById('graphCanvas');
            var ctx = canvas.getContext('2d');

            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = 200;

            var w = canvas.width;
            var h = canvas.height;
            var padding = 30;

            // Clear
            ctx.fillStyle = 'rgba(30, 25, 50, 0.8)';
            ctx.fillRect(0, 0, w, h);

            // Draw axes
            ctx.strokeStyle = '#5040a0';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, h - padding);
            ctx.lineTo(w - padding, h - padding);
            ctx.stroke();

            // Y-axis labels
            ctx.fillStyle = '#7060a0';
            ctx.font = '12px Georgia';
            ctx.textAlign = 'right';
            ctx.fillText('High Pain', padding - 5, padding + 10);
            ctx.fillText('No Pain', padding - 5, h - padding);

            // Patient A data (short, ends at peak)
            var patientA = [
                { x: 0, y: 2 },
                { x: 0.15, y: 5 },
                { x: 0.2, y: 7 },
                { x: 0.25, y: 8 }, // Peak
                { x: 0.25, y: 7 }  // Abrupt end
            ];

            // Patient B data (long, gradual decline)
            var patientB = [
                { x: 0, y: 2 },
                { x: 0.1, y: 5 },
                { x: 0.15, y: 8 }, // Peak
                { x: 0.25, y: 7 },
                { x: 0.4, y: 6 },
                { x: 0.6, y: 5 },
                { x: 0.8, y: 3 },
                { x: 1, y: 2 } // Gentle end
            ];

            function drawLine(data, color, label) {
                ctx.strokeStyle = color;
                ctx.lineWidth = 3;
                ctx.beginPath();

                data.forEach(function(point, i) {
                    var x = padding + point.x * (w - 2 * padding);
                    var y = h - padding - (point.y / 10) * (h - 2 * padding);
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                });

                ctx.stroke();
            }

            drawLine(patientA, '#e056fd', 'Patient A');
            drawLine(patientB, '#686de0', 'Patient B');

            // Legend
            ctx.fillStyle = '#e056fd';
            ctx.fillRect(w - 150, 20, 15, 3);
            ctx.fillStyle = '#b090d0';
            ctx.font = '11px Georgia';
            ctx.textAlign = 'left';
            ctx.fillText('Patient A (4 min)', w - 130, 24);

            ctx.fillStyle = '#686de0';
            ctx.fillRect(w - 150, 35, 15, 3);
            ctx.fillText('Patient B (16 min)', w - 130, 39);
        }

        // Handle scenario selection
        document.querySelectorAll('.scenario-card').forEach(function(card) {
            card.addEventListener('click', function() {
                document.querySelectorAll('.scenario-card').forEach(function(c) {
                    c.classList.remove('selected');
                });
                card.classList.add('selected');

                var patient = card.dataset.patient;
                var reveal = document.getElementById('resultsSection');
                var revealText = document.getElementById('revealText');

                if (patient === 'A') {
                    revealText.textContent = "You chose the objectively BETTER experience (less total pain)‚Äîbut most people choose Patient B! Even though B suffered 4x longer, the gentle ending made their memory of the experience less negative. Your 'remembering self' often betrays your 'experiencing self.'";
                } else {
                    revealText.textContent = "You chose what FEELS like the better experience‚Äîbut Patient B suffered 4x LONGER and had the same peak pain! The gentle ending overwrote 12 extra minutes of suffering. Kahneman proved our brains ignore duration entirely. Memory only stores peak and end.";
                }

                reveal.classList.add('visible');
                reveal.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Initialize
        window.addEventListener('load', drawGraph);
        window.addEventListener('resize', drawGraph);
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
