<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Mpemba Effect - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
            --hot: #ef4444;
            --cold: #3b82f6;
            --ice: #bfdbfe;
            --freezer: #1e3a5f;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #FEFAE0 0%, #F4F1DE 50%, #EDE8D5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
            line-height: 1.8;
        }
        .organic-shape {
            position: fixed;
            border-radius: 60% 40% 50% 50% / 50% 60% 40% 50%;
            opacity: 0.12;
            z-index: 0;
            animation: morph 30s ease-in-out infinite;
        }
        .shape-1 { width: 600px; height: 600px; background: var(--hot); top: -200px; right: -150px; }
        .shape-2 { width: 500px; height: 500px; background: var(--cold); bottom: -150px; left: -150px; animation-delay: -15s; }
        @keyframes morph {
            0%, 100% { border-radius: 60% 40% 50% 50% / 50% 60% 40% 50%; }
            25% { border-radius: 50% 60% 40% 50% / 40% 50% 60% 50%; }
            50% { border-radius: 40% 50% 60% 50% / 50% 40% 50% 60%; }
            75% { border-radius: 50% 40% 50% 60% / 60% 50% 40% 50%; }
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px 80px;
            position: relative;
            z-index: 1;
        }
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--moss);
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 30px;
            padding: 10px 20px;
            background: rgba(255,255,255,0.6);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            transition: all 0.3s ease;
        }
        .back-link:hover { background: rgba(255,255,255,0.9); transform: translateX(-5px); }
        h1 { font-family: 'Lora', serif; font-size: 2.8rem; color: var(--moss); margin-bottom: 20px; }
        .subtitle { font-size: 1.3rem; color: var(--terracotta); margin-bottom: 40px; font-weight: 500; }
        .section {
            background: rgba(255,255,255,0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(138,154,91,0.2);
        }
        h2 { font-family: 'Lora', serif; font-size: 1.6rem; color: var(--moss); margin-bottom: 20px; }
        h3 { font-family: 'Lora', serif; font-size: 1.3rem; color: var(--terracotta); margin: 25px 0 15px; }
        p { margin-bottom: 15px; color: #555; }
        .highlight {
            background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(59,130,246,0.1));
            border-left: 4px solid var(--hot);
            padding: 20px 25px;
            border-radius: 0 15px 15px 0;
            margin: 25px 0;
        }
        .highlight p { margin-bottom: 0; font-weight: 500; color: var(--dark-moss); }

        /* Simulation Container */
        .sim-container {
            background: linear-gradient(180deg, #1e3a5f 0%, #0f172a 100%);
            border-radius: 20px;
            padding: 40px 30px;
            margin: 25px 0;
            position: relative;
            overflow: hidden;
        }
        .sim-title {
            font-family: 'Lora', serif;
            font-size: 1.6rem;
            color: #f8fafc;
            margin-bottom: 10px;
            text-align: center;
        }
        .sim-subtitle {
            color: #94a3b8;
            text-align: center;
            margin-bottom: 25px;
        }

        /* Freezer background */
        .freezer-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 30%, rgba(59,130,246,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(59,130,246,0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        .frost-particle {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.3;
            animation: float 10s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        /* Beakers */
        .beakers-container {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin: 40px 0;
            position: relative;
            z-index: 1;
        }
        .beaker-wrapper {
            text-align: center;
        }
        .beaker {
            width: 120px;
            height: 160px;
            background: linear-gradient(180deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 0 0 20px 20px;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }
        .beaker::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -5px;
            right: -5px;
            height: 15px;
            background: rgba(255,255,255,0.2);
            border: 3px solid rgba(255,255,255,0.3);
            border-bottom: none;
            border-radius: 5px 5px 0 0;
        }
        .water {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 75%;
            transition: all 0.5s ease;
            border-radius: 0 0 17px 17px;
        }
        .water.hot {
            background: linear-gradient(180deg, #fca5a5 0%, #ef4444 50%, #dc2626 100%);
        }
        .water.cold {
            background: linear-gradient(180deg, #93c5fd 0%, #3b82f6 50%, #1d4ed8 100%);
        }
        .water.freezing {
            animation: freeze 0.5s ease forwards;
        }
        .water.frozen {
            background: linear-gradient(180deg, #e0f2fe 0%, #bae6fd 50%, #7dd3fc 100%);
        }
        @keyframes freeze {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        .steam {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 5px;
        }
        .steam-line {
            width: 3px;
            height: 20px;
            background: rgba(255,255,255,0.5);
            border-radius: 2px;
            animation: steam 1.5s ease-in-out infinite;
        }
        .steam-line:nth-child(2) { animation-delay: 0.3s; height: 25px; }
        .steam-line:nth-child(3) { animation-delay: 0.6s; height: 18px; }
        @keyframes steam {
            0%, 100% { opacity: 0.3; transform: translateY(0) scaleY(1); }
            50% { opacity: 0.7; transform: translateY(-10px) scaleY(1.2); }
        }
        .ice-crystals {
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.5rem;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .ice-crystals.visible {
            opacity: 1;
        }
        .beaker-label {
            margin-top: 15px;
            color: #e2e8f0;
            font-weight: 600;
        }
        .temp-display {
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 5px;
        }
        .temp-display.hot { color: var(--hot); }
        .temp-display.cold { color: var(--cold); }
        .temp-display.frozen { color: #7dd3fc; }

        /* Timer */
        .timer-display {
            text-align: center;
            margin: 20px 0;
        }
        .timer-value {
            font-size: 3rem;
            font-weight: 700;
            color: #f8fafc;
            font-family: 'Courier New', monospace;
        }
        .timer-label {
            color: #94a3b8;
            font-size: 0.9rem;
        }

        /* Progress bars */
        .progress-container {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 30px 0;
        }
        .progress-item {
            flex: 1;
            max-width: 200px;
        }
        .progress-label {
            display: flex;
            justify-content: space-between;
            color: #94a3b8;
            font-size: 0.85rem;
            margin-bottom: 8px;
        }
        .progress-bar-bg {
            height: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            border-radius: 6px;
            transition: width 0.3s ease;
        }
        .progress-bar.hot {
            background: linear-gradient(90deg, #fca5a5, #ef4444);
        }
        .progress-bar.cold {
            background: linear-gradient(90deg, #93c5fd, #3b82f6);
        }

        /* Controls */
        .sim-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        .sim-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .sim-btn.primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
        }
        .sim-btn.primary:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(59,130,246,0.4); }
        .sim-btn.secondary {
            background: rgba(255,255,255,0.1);
            color: #e2e8f0;
            border: 2px solid rgba(255,255,255,0.2);
        }
        .sim-btn.secondary:hover { background: rgba(255,255,255,0.2); }
        .sim-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        /* Results */
        .results-box {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }
        .results-box.visible {
            display: block;
        }
        .result-title {
            color: #fcd34d;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .result-text {
            color: #e2e8f0;
        }

        /* Explanation Cards */
        .explanation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        .explanation-card {
            background: rgba(0,0,0,0.03);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }
        .explanation-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .explanation-title {
            font-weight: 600;
            color: var(--terracotta);
            margin-bottom: 8px;
        }
        .explanation-desc {
            font-size: 0.9rem;
            color: #666;
        }

        /* Quote */
        .quote {
            background: linear-gradient(135deg, rgba(239,68,68,0.1), rgba(59,130,246,0.1));
            border-left: 4px solid var(--hot);
            padding: 20px 25px;
            margin: 25px 0;
            font-style: italic;
            border-radius: 0 15px 15px 0;
        }
        .quote-attribution {
            margin-top: 15px;
            font-style: normal;
            font-weight: 600;
            color: var(--hot);
        }

        /* Timeline */
        .timeline {
            position: relative;
            margin: 30px 0;
            padding-left: 30px;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--hot), var(--cold));
            border-radius: 2px;
        }
        .timeline-item {
            position: relative;
            margin-bottom: 25px;
            padding-left: 25px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: var(--hot);
            border-radius: 50%;
            border: 3px solid var(--cream);
        }
        .timeline-year {
            font-weight: 700;
            color: var(--terracotta);
        }

        /* Controversy box */
        .controversy-box {
            background: linear-gradient(135deg, rgba(251,191,36,0.1), rgba(245,158,11,0.1));
            border: 2px solid rgba(251,191,36,0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }
        .controversy-title {
            color: #f59e0b;
            font-weight: 700;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        /* Sources */
        .sources {
            background: rgba(255,255,255,0.4);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }
        .sources h3 { font-family: 'Lora', serif; color: var(--moss); margin-bottom: 10px; }
        .sources ul { list-style: none; }
        .sources li { margin-bottom: 8px; }
        .sources a { color: var(--terracotta); text-decoration: none; }
        .sources a:hover { text-decoration: underline; }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .beakers-container { gap: 30px; }
            .beaker { width: 100px; height: 130px; }
            .progress-container { flex-direction: column; align-items: center; }
        }
    </style>
</head>
<body>
    <div class="organic-shape shape-1"></div>
    <div class="organic-shape shape-2"></div>

    <main class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <h1>The Mpemba Effect</h1>
        <p class="subtitle">When hot water freezes faster than cold</p>

        <div class="section">
            <h2>The Paradox</h2>
            <p>Fill two identical containers with water‚Äîone boiling hot, one room temperature. Place them in a freezer. Which freezes first?</p>

            <div class="highlight">
                <p>Intuition says the cold water should freeze first. But under certain conditions, the hot water wins. This bizarre phenomenon has puzzled scientists for over 2,000 years.</p>
            </div>

            <p>This counterintuitive observation is called the <strong>Mpemba Effect</strong>, named after Erasto Mpemba, a Tanzanian student who rediscovered it in 1963 while making ice cream. But the effect was known to Aristotle, Francis Bacon, and Ren√© Descartes long before.</p>
        </div>

        <!-- Interactive Simulation -->
        <div class="sim-container">
            <div class="freezer-bg"></div>
            <div id="frostParticles"></div>
            <h3 class="sim-title">‚ùÑÔ∏è Freezer Experiment ‚ùÑÔ∏è</h3>
            <p class="sim-subtitle">Watch hot water race cold water to freeze</p>

            <div class="beakers-container">
                <div class="beaker-wrapper">
                    <div class="beaker" id="hotBeaker">
                        <div class="steam" id="hotSteam">
                            <div class="steam-line"></div>
                            <div class="steam-line"></div>
                            <div class="steam-line"></div>
                        </div>
                        <div class="water hot" id="hotWater"></div>
                        <div class="ice-crystals" id="hotIce">‚ùÑÔ∏è</div>
                    </div>
                    <div class="beaker-label">Hot Water</div>
                    <div class="temp-display hot" id="hotTemp">90¬∞C</div>
                </div>

                <div class="beaker-wrapper">
                    <div class="beaker" id="coldBeaker">
                        <div class="water cold" id="coldWater"></div>
                        <div class="ice-crystals" id="coldIce">‚ùÑÔ∏è</div>
                    </div>
                    <div class="beaker-label">Cold Water</div>
                    <div class="temp-display cold" id="coldTemp">25¬∞C</div>
                </div>
            </div>

            <div class="timer-display">
                <div class="timer-value" id="timer">0:00</div>
                <div class="timer-label">Time in freezer</div>
            </div>

            <div class="progress-container">
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Hot ‚Üí Frozen</span>
                        <span id="hotProgress">0%</span>
                    </div>
                    <div class="progress-bar-bg">
                        <div class="progress-bar hot" id="hotBar" style="width: 0%"></div>
                    </div>
                </div>
                <div class="progress-item">
                    <div class="progress-label">
                        <span>Cold ‚Üí Frozen</span>
                        <span id="coldProgress">0%</span>
                    </div>
                    <div class="progress-bar-bg">
                        <div class="progress-bar cold" id="coldBar" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <div class="results-box" id="resultsBox">
                <div class="result-title" id="resultTitle">üèÜ Hot Water Wins!</div>
                <div class="result-text" id="resultText">
                    The hot water froze first, demonstrating the Mpemba Effect!
                </div>
            </div>

            <div class="sim-controls">
                <button class="sim-btn primary" id="startBtn" onclick="startExperiment()">‚ñ∂Ô∏è Start Experiment</button>
                <button class="sim-btn secondary" onclick="resetExperiment()">üîÑ Reset</button>
            </div>
        </div>

        <div class="section">
            <h2>The Story of Erasto Mpemba</h2>

            <div class="quote">
                "My name is Erasto B. Mpemba, and I am going to tell you about my discovery, which was due to misusing a refrigerator."
                <div class="quote-attribution">‚Äî Erasto Mpemba, 1969</div>
            </div>

            <p>In 1963, Erasto Mpemba was a Form 3 student at Magamba Secondary School in Tanzania. During a cookery class, students were making ice cream by boiling milk with sugar, letting it cool, then freezing it.</p>

            <p>Mpemba, impatient and worried about running out of freezer space, put his still-hot mixture directly into the freezer. To everyone's surprise‚Äîincluding his teacher's‚Äîhis ice cream froze before his classmates' cooled mixtures.</p>

            <p>When Mpemba asked his physics teacher why, he was told he must have made a mistake. But Mpemba persisted, eventually asking visiting physicist Dr. Denis Osborne from University College in Dar es Salaam. Osborne took the question seriously, conducted experiments with his technician, and confirmed the effect. They published their findings together in 1969.</p>
        </div>

        <div class="section">
            <h2>Proposed Explanations</h2>
            <p>Despite decades of research, no single explanation fully accounts for the Mpemba Effect. Several mechanisms likely contribute:</p>

            <div class="explanation-grid">
                <div class="explanation-card">
                    <div class="explanation-icon">üí®</div>
                    <div class="explanation-title">Evaporation</div>
                    <div class="explanation-desc">Hot water evaporates faster, reducing the mass that needs to freeze. Less water = faster freezing.</div>
                </div>
                <div class="explanation-card">
                    <div class="explanation-icon">ü´ß</div>
                    <div class="explanation-title">Dissolved Gases</div>
                    <div class="explanation-desc">Hot water holds less dissolved gas. Fewer bubbles may affect convection currents and crystallization.</div>
                </div>
                <div class="explanation-card">
                    <div class="explanation-icon">üå°Ô∏è</div>
                    <div class="explanation-title">Convection</div>
                    <div class="explanation-desc">Stronger temperature gradients in hot water create faster convection currents, distributing heat more efficiently.</div>
                </div>
                <div class="explanation-card">
                    <div class="explanation-icon">‚ùÑÔ∏è</div>
                    <div class="explanation-title">Supercooling</div>
                    <div class="explanation-desc">Cold water may supercool (stay liquid below 0¬∞C) while hot water crystallizes more readily due to fewer impurities.</div>
                </div>
                <div class="explanation-card">
                    <div class="explanation-icon">üßä</div>
                    <div class="explanation-title">Frost Insulation</div>
                    <div class="explanation-desc">Hot containers melt surrounding frost, making better contact with the freezer. Cold containers sit on insulating frost.</div>
                </div>
                <div class="explanation-card">
                    <div class="explanation-icon">‚öõÔ∏è</div>
                    <div class="explanation-title">Hydrogen Bonds</div>
                    <div class="explanation-desc">Recent research suggests heating changes how water molecules bond, affecting energy storage and release.</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Historical Timeline</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-year">~350 BCE</div>
                    <div class="timeline-text">Aristotle notes that water "previously warmed" freezes faster. Greeks in Pontus use hot water to freeze fishing lines faster.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">1620</div>
                    <div class="timeline-text">Francis Bacon writes about the phenomenon in Novum Organum.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">1637</div>
                    <div class="timeline-text">Ren√© Descartes describes the effect in his meteorological writings.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">1963</div>
                    <div class="timeline-text">Erasto Mpemba accidentally rediscovers the effect while making ice cream in Tanzania.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">1969</div>
                    <div class="timeline-text">Mpemba and Dr. Denis Osborne publish their findings in Physics Education journal.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2016</div>
                    <div class="timeline-text">Imperial College London researchers publish study questioning whether the effect is real or an artifact of measurement.</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2020s</div>
                    <div class="timeline-text">Research continues; some studies confirm the effect, others fail to reproduce it. The debate continues.</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>The Scientific Controversy</h2>

            <div class="controversy-box">
                <div class="controversy-title">‚ö†Ô∏è Not Everyone Is Convinced</div>
                <p style="color: #92400e; margin-bottom: 0;">In 2016, researchers at Imperial College London published a paper titled "Questioning the Mpemba effect: hot water does not cool more quickly than cold." They argued that many observations of the effect are artifacts of poor experimental design‚Äîparticularly thermometer placement, which varies at different heights in water.</p>
            </div>

            <p>The controversy highlights a fundamental challenge: the Mpemba Effect is highly sensitive to experimental conditions. Container material, water purity, freezer temperature, air currents, and dozens of other variables affect the outcome.</p>

            <p>Some researchers argue the effect is real but only appears under specific conditions. Others say it's an illusion created by uncontrolled variables. Still others believe multiple mechanisms work together, making it appear sometimes but not always.</p>

            <p>What's certain is this: after 2,000+ years of observations and decades of modern research, we still don't have a complete explanation. That's what makes it such a compelling paradox.</p>
        </div>

        <div class="section">
            <h2>Try It Yourself</h2>
            <p>Want to test the Mpemba Effect at home? Here are some tips:</p>

            <ul style="margin-left: 25px; margin-bottom: 15px;">
                <li>Use identical containers (metal works better than plastic)</li>
                <li>Use distilled water to minimize dissolved mineral differences</li>
                <li>Start with temperatures around 35¬∞C (cold) and 100¬∞C (hot)</li>
                <li>Place containers at the same height and position in the freezer</li>
                <li>Check frequently but consistently (opening the door affects temperature)</li>
                <li>Repeat multiple times‚Äîthe effect doesn't always appear!</li>
            </ul>

            <p>Many home experimenters report seeing the effect, while others don't. That inconsistency is part of what makes this paradox so fascinating‚Äîand so controversial.</p>
        </div>

        <div class="sources">
            <h3>Sources & Further Reading</h3>
            <ul>
                <li><a href="https://en.wikipedia.org/wiki/Mpemba_effect" target="_blank">Wikipedia: Mpemba Effect</a></li>
                <li><a href="https://www.iflscience.com/the-mpemba-effect-the-bizarre-phenomenon-where-hot-water-freezes-faster-than-cold-78606" target="_blank">IFLScience: The Mpemba Effect</a></li>
                <li><a href="https://www.nature.com/articles/srep37665" target="_blank">Nature: Questioning the Mpemba Effect</a></li>
                <li><a href="https://science.howstuffworks.com/dictionary/physics-terms/mpemba-effect.htm" target="_blank">HowStuffWorks: The Mpemba Effect</a></li>
                <li><a href="https://www.sciencebuddies.org/science-fair-projects/project-ideas/Phys_p032/physics/mpemba-effect-can-hot-water-freeze-faster-than-cold-water" target="_blank">Science Buddies: Investigating the Mpemba Effect</a></li>
            </ul>
        </div>
    </main>

    <script>
        let experimentRunning = false;
        let animationId = null;
        let startTime = null;

        // Simulation parameters (demonstrating the effect)
        const HOT_START = 90;
        const COLD_START = 25;
        const FREEZE_POINT = 0;
        const HOT_FREEZE_TIME = 30; // seconds (hot freezes first in this demo)
        const COLD_FREEZE_TIME = 38; // seconds

        function createFrostParticles() {
            const container = document.getElementById('frostParticles');
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'frost-particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = (2 + Math.random() * 4) + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(particle);
            }
        }

        function startExperiment() {
            if (experimentRunning) return;
            experimentRunning = true;
            startTime = Date.now();
            document.getElementById('startBtn').disabled = true;
            document.getElementById('resultsBox').classList.remove('visible');
            animate();
        }

        function animate() {
            if (!experimentRunning) return;

            const elapsed = (Date.now() - startTime) / 1000;
            const minutes = Math.floor(elapsed / 60);
            const seconds = Math.floor(elapsed % 60);
            document.getElementById('timer').textContent =
                `${minutes}:${seconds.toString().padStart(2, '0')}`;

            // Calculate progress (0 to 1)
            const hotProgress = Math.min(elapsed / HOT_FREEZE_TIME, 1);
            const coldProgress = Math.min(elapsed / COLD_FREEZE_TIME, 1);

            // Update temperatures
            const hotTemp = Math.max(FREEZE_POINT, HOT_START - (HOT_START - FREEZE_POINT) * hotProgress);
            const coldTemp = Math.max(FREEZE_POINT, COLD_START - (COLD_START - FREEZE_POINT) * coldProgress);

            document.getElementById('hotTemp').textContent = Math.round(hotTemp) + '¬∞C';
            document.getElementById('coldTemp').textContent = Math.round(coldTemp) + '¬∞C';

            // Update progress bars
            document.getElementById('hotBar').style.width = (hotProgress * 100) + '%';
            document.getElementById('coldBar').style.width = (coldProgress * 100) + '%';
            document.getElementById('hotProgress').textContent = Math.round(hotProgress * 100) + '%';
            document.getElementById('coldProgress').textContent = Math.round(coldProgress * 100) + '%';

            // Update water appearance
            const hotWater = document.getElementById('hotWater');
            const coldWater = document.getElementById('coldWater');
            const hotSteam = document.getElementById('hotSteam');

            // Fade steam as hot water cools
            hotSteam.style.opacity = Math.max(0, 1 - hotProgress * 2);

            // Color transition
            if (hotProgress < 0.5) {
                // Still warm
                hotWater.style.background = `linear-gradient(180deg,
                    rgba(252, 165, 165, ${1 - hotProgress}) 0%,
                    rgba(239, 68, 68, ${1 - hotProgress}) 50%,
                    rgba(147, 197, 253, ${hotProgress}) 100%)`;
            } else {
                hotWater.style.background = `linear-gradient(180deg, #93c5fd 0%, #3b82f6 50%, #1d4ed8 100%)`;
            }

            // Check for freezing
            if (hotProgress >= 1 && !document.getElementById('hotIce').classList.contains('visible')) {
                document.getElementById('hotIce').classList.add('visible');
                hotWater.classList.add('frozen');
                document.getElementById('hotTemp').textContent = 'FROZEN';
                document.getElementById('hotTemp').className = 'temp-display frozen';
            }

            if (coldProgress >= 1 && !document.getElementById('coldIce').classList.contains('visible')) {
                document.getElementById('coldIce').classList.add('visible');
                coldWater.classList.add('frozen');
                document.getElementById('coldTemp').textContent = 'FROZEN';
                document.getElementById('coldTemp').className = 'temp-display frozen';
            }

            // Check if experiment complete
            if (hotProgress >= 1 && coldProgress >= 1) {
                experimentRunning = false;
                document.getElementById('startBtn').disabled = false;
                showResults();
                return;
            }

            animationId = requestAnimationFrame(animate);
        }

        function showResults() {
            const resultsBox = document.getElementById('resultsBox');
            resultsBox.classList.add('visible');
            document.getElementById('resultTitle').textContent = 'üèÜ Hot Water Wins!';
            document.getElementById('resultText').innerHTML = `
                The hot water (starting at 90¬∞C) froze in <strong>${HOT_FREEZE_TIME} seconds</strong>,
                while cold water (starting at 25¬∞C) took <strong>${COLD_FREEZE_TIME} seconds</strong>.<br><br>
                This demonstrates the Mpemba Effect‚Äîthough in real experiments, results vary based on many factors!
            `;
        }

        function resetExperiment() {
            experimentRunning = false;
            if (animationId) cancelAnimationFrame(animationId);

            document.getElementById('timer').textContent = '0:00';
            document.getElementById('hotTemp').textContent = '90¬∞C';
            document.getElementById('hotTemp').className = 'temp-display hot';
            document.getElementById('coldTemp').textContent = '25¬∞C';
            document.getElementById('coldTemp').className = 'temp-display cold';

            document.getElementById('hotBar').style.width = '0%';
            document.getElementById('coldBar').style.width = '0%';
            document.getElementById('hotProgress').textContent = '0%';
            document.getElementById('coldProgress').textContent = '0%';

            document.getElementById('hotWater').className = 'water hot';
            document.getElementById('coldWater').className = 'water cold';
            document.getElementById('hotWater').style.background = '';
            document.getElementById('hotSteam').style.opacity = '1';

            document.getElementById('hotIce').classList.remove('visible');
            document.getElementById('coldIce').classList.remove('visible');

            document.getElementById('resultsBox').classList.remove('visible');
            document.getElementById('startBtn').disabled = false;
        }

        // Initialize
        createFrostParticles();
    </script>
</body>
</html>
