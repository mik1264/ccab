<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Levitation - Flux Pinning - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Nunito:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #050515 0%, #101535 50%, #050515 100%);
            min-height: 100vh;
            color: #e0e0e0;
        }
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #4cf;
            text-decoration: none;
            font-weight: 500;
            padding: 10px 20px;
            background: rgba(10,20,40,0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            border: 1px solid rgba(68,204,255,0.3);
            transition: all 0.3s ease;
        }
        .back-link:hover {
            background: rgba(20,40,60,0.9);
            transform: translateX(-5px);
        }
        header {
            text-align: center;
            padding: 80px 20px 20px;
        }
        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            background: linear-gradient(135deg, #4cf, #48f, #84f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #8cf;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
        }
        .paradox-highlight {
            background: linear-gradient(135deg, rgba(68,136,255,0.15), rgba(68,204,255,0.15));
            border: 1px solid rgba(68,204,255,0.4);
            border-radius: 15px;
            padding: 25px;
            margin: 30px auto;
            max-width: 800px;
            text-align: center;
        }
        .paradox-highlight h2 {
            font-family: 'Lora', serif;
            color: #4cf;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        .paradox-highlight p {
            color: #cef;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        .canvas-container {
            display: flex;
            justify-content: center;
            padding: 20px;
        }
        canvas {
            display: block;
            border-radius: 15px;
            background: #030308;
            border: 1px solid rgba(68,204,255,0.3);
            cursor: grab;
        }
        canvas:active {
            cursor: grabbing;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
        }
        .control-group {
            background: rgba(10,25,50,0.8);
            border-radius: 15px;
            padding: 15px;
            border: 1px solid rgba(68,204,255,0.3);
            min-width: 180px;
        }
        .control-group label {
            display: block;
            color: #8cf;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.85rem;
        }
        .control-group input[type="range"] {
            width: 100%;
            margin: 8px 0;
            accent-color: #4cf;
        }
        .btn-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        button {
            background: linear-gradient(135deg, #4cf, #48f);
            color: #000;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }
        button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(68,204,255,0.4);
        }
        button.active {
            background: linear-gradient(135deg, #f84, #f48);
            color: #fff;
        }
        .info-panel {
            background: rgba(10,20,40,0.9);
            border-radius: 15px;
            padding: 20px;
            margin: 20px auto;
            max-width: 700px;
            border: 1px solid rgba(68,204,255,0.3);
        }
        .status-text {
            text-align: center;
            font-size: 1.1rem;
            color: #4cf;
            margin-bottom: 15px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            text-align: center;
        }
        .stat-item {
            padding: 10px;
            background: rgba(30,60,100,0.3);
            border-radius: 10px;
        }
        .stat-label {
            color: #888;
            font-size: 0.7rem;
            text-transform: uppercase;
        }
        .stat-value {
            color: #4cf;
            font-size: 1rem;
            font-family: monospace;
            margin-top: 5px;
        }
        .instructions {
            text-align: center;
            color: #888;
            font-size: 0.9rem;
            margin-top: 10px;
        }
        .essay {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
        }
        .essay h2 {
            font-family: 'Lora', serif;
            color: #4cf;
            font-size: 1.8rem;
            margin: 40px 0 20px;
            border-bottom: 1px solid rgba(68,204,255,0.3);
            padding-bottom: 10px;
        }
        .essay p {
            color: #ccc;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: justify;
        }
        .essay strong {
            color: #4cf;
        }
        .effect-box {
            background: linear-gradient(135deg, rgba(68,136,255,0.1), rgba(68,204,255,0.1));
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 3px solid #48f;
        }
        .effect-box h4 {
            color: #8cf;
            margin-bottom: 10px;
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .comparison-item {
            background: rgba(20,40,80,0.5);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(68,204,255,0.2);
        }
        .comparison-item h4 {
            color: #f84;
            margin-bottom: 10px;
        }
        .comparison-item.type2 h4 {
            color: #4cf;
        }
        .comparison-item p {
            margin-bottom: 0;
            font-size: 0.95rem;
        }
        blockquote {
            border-left: 3px solid #f84;
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: #fca;
        }
        .sources {
            background: rgba(10,25,50,0.5);
            border-radius: 15px;
            padding: 20px;
            margin-top: 40px;
        }
        .sources h3 {
            color: #4cf;
            margin-bottom: 15px;
        }
        .sources ul {
            list-style: none;
        }
        .sources li {
            margin: 10px 0;
        }
        .sources a {
            color: #8ff;
            text-decoration: none;
        }
        .sources a:hover {
            text-decoration: underline;
        }
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .comparison-grid { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <header>
        <h1>Quantum Levitation</h1>
        <p class="subtitle">Superconductors that get "locked" in mid-air</p>
    </header>

    <div class="paradox-highlight">
        <h2>The Paradox</h2>
        <p>A superconductor simultaneously <strong>repels</strong> magnetic fields (Meissner effect) AND gets <strong>trapped</strong> by them (flux pinning). The result? An object frozen in 3D space — push it, tilt it, flip it upside down, and it snaps right back. It's locked by invisible quantum threads!</p>
    </div>

    <div class="canvas-container">
        <canvas id="levitationCanvas" width="800" height="500"></canvas>
    </div>

    <div class="controls">
        <div class="control-group">
            <label>Superconductor Type</label>
            <div class="btn-group">
                <button id="btnType1">Type I</button>
                <button id="btnType2" class="active">Type II</button>
            </div>
        </div>
        <div class="control-group">
            <label>Temperature</label>
            <input type="range" id="tempSlider" min="0" max="100" value="20">
            <div style="text-align:center;color:#8cf;" id="tempValue">77 K (Liquid N₂)</div>
        </div>
        <div class="control-group">
            <label>Magnetic Field</label>
            <input type="range" id="fieldSlider" min="10" max="100" value="50">
            <div style="text-align:center;color:#8cf;" id="fieldValue">0.5 Tesla</div>
        </div>
        <div class="control-group">
            <label>Actions</label>
            <div class="btn-group">
                <button id="btnPush">Push</button>
                <button id="btnFlip">Flip</button>
                <button id="btnReset">Reset</button>
            </div>
        </div>
    </div>

    <div class="info-panel">
        <div class="status-text" id="statusText">Type II Superconductor — Flux Pinning Active</div>
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-label">Height</div>
                <div class="stat-value" id="heightValue">15 mm</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Flux Lines Pinned</div>
                <div class="stat-value" id="fluxValue">~10⁶</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Levitation Force</div>
                <div class="stat-value" id="forceValue">2.4 N</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">State</div>
                <div class="stat-value" id="stateValue">Locked</div>
            </div>
        </div>
        <div class="instructions">Click and drag the superconductor to see quantum locking in action!</div>
    </div>

    <div class="essay">
        <h2>Frozen in Thin Air</h2>

        <p>In 2011, a video from Tel Aviv University went viral: a small disc floating above a magnetic track, frozen in mid-air at any angle. Push it sideways — it snaps back. Flip it upside down — it stays. The disc seemed to defy gravity itself.</p>

        <p>This wasn't magic or camera tricks. It was <strong>quantum levitation</strong>, powered by one of the strangest phenomena in physics: flux pinning.</p>

        <div class="effect-box">
            <h4>The Meissner Effect (1933)</h4>
            <p>When certain materials become superconducting (below their critical temperature), they expel all magnetic fields from their interior. Magnetic field lines literally bend around the superconductor. This is why magnets "repel" superconductors — but the Meissner effect alone only provides unstable levitation.</p>
        </div>

        <h2>Type I vs Type II: The Critical Difference</h2>

        <div class="comparison-grid">
            <div class="comparison-item">
                <h4>Type I Superconductors</h4>
                <p>Perfect diamagnets. They expel ALL magnetic flux. Below critical field strength, completely superconducting. Above it, superconductivity destroyed. Result: <strong>unstable levitation</strong> — the superconductor can slide off sideways.</p>
            </div>
            <div class="comparison-item type2">
                <h4>Type II Superconductors</h4>
                <p>Allow partial flux penetration through "vortices." These flux tubes get TRAPPED at defects and grain boundaries. Result: <strong>3D quantum locking</strong> — the superconductor is pinned in all directions!</p>
            </div>
        </div>

        <h2>Flux Pinning: Quantum Threads</h2>

        <p>In Type II superconductors (like YBCO — yttrium barium copper oxide), magnetic field lines don't just get expelled. They penetrate the material in discrete tubes called <strong>fluxons</strong> or vortices.</p>

        <p>Each fluxon carries exactly one quantum of magnetic flux: Φ₀ = h/2e ≈ 2.07 × 10⁻¹⁵ Weber. These quantum tubes get "pinned" at impurities, crystal defects, and grain boundaries — places where superconductivity is slightly weaker.</p>

        <blockquote>"The superconductor wants to keep these flux tubes exactly where they are. Move the superconductor, and you're fighting against millions of quantum pinning sites simultaneously."</blockquote>

        <p>The result is remarkable: the superconductor becomes locked in 3D space. It remembers where it was "frozen in" relative to the magnetic field. Push it, and it springs back. The restoring force comes from the energy cost of moving flux lines through the material.</p>

        <h2>Why It Seems Impossible</h2>

        <p>Quantum levitation appears to violate our intuitions about magnetism:</p>

        <p><strong>Paradox 1:</strong> The same superconductor is both REPELLED (Meissner effect pushing it away from the magnet) and ATTRACTED (flux pinning pulling it toward its locked position).</p>

        <p><strong>Paradox 2:</strong> The disc can be locked BELOW the magnet, apparently pulled upward against gravity. How? The pinned flux tubes act like quantum "ropes" that can support the weight.</p>

        <p><strong>Paradox 3:</strong> The locking is incredibly stiff — you can hang weights from the superconductor without it budging. Yet there's no physical contact, no friction, nothing but empty space between the materials.</p>

        <h2>Applications</h2>

        <p><strong>Maglev Trains:</strong> Japan's SC Maglev uses superconducting magnets for both levitation and propulsion. No friction means speeds over 600 km/h are possible.</p>

        <p><strong>Frictionless Bearings:</strong> Flux pinning enables bearings with zero mechanical contact — useful for flywheel energy storage and precision instruments.</p>

        <p><strong>Quantum Levitation Displays:</strong> Floating objects for exhibitions and demonstrations, where superconductors glide along magnetic tracks in any orientation.</p>

        <h2>The Temperature Barrier</h2>

        <p>The catch: superconductivity requires extreme cold. Even "high-temperature" superconductors like YBCO need liquid nitrogen (77 K / -196°C). Finding room-temperature superconductors remains one of physics' great quests — and would revolutionize energy transmission, computing, and transportation.</p>

        <div class="sources">
            <h3>Sources & Further Reading</h3>
            <ul>
                <li><a href="https://quantumlevitation.com/what-is-superconducting-levitation-and-how-does-it-work/" target="_blank">Quantum Levitation: How It Works</a></li>
                <li><a href="https://bigthink.com/starts-with-a-bang/quantum-levitation/" target="_blank">Big Think: The Physics of Quantum Levitation</a></li>
                <li><a href="https://www.scientificamerican.com/article/how-do-they-do-that-a-closer-look-at-quantum-magnetic-levitation/" target="_blank">Scientific American: Quantum Magnetic Levitation</a></li>
                <li><a href="https://en.wikipedia.org/wiki/Flux_pinning" target="_blank">Wikipedia: Flux Pinning</a></li>
                <li><a href="https://www.nature.com/scitable/blog/student-voices/a_closer_look_at_quantum/" target="_blank">Nature: A Closer Look at Quantum Levitation</a></li>
            </ul>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('levitationCanvas');
        const ctx = canvas.getContext('2d');

        // High DPI
        const dpr = window.devicePixelRatio || 1;
        canvas.width = 800 * dpr;
        canvas.height = 500 * dpr;
        ctx.scale(dpr, dpr);
        canvas.style.width = '800px';
        canvas.style.height = '500px';

        const width = 800;
        const height = 500;

        // State
        let superconductorType = 2;
        let temperature = 77;
        let fieldStrength = 0.5;
        let time = 0;

        // Superconductor physics
        let scX = width / 2;
        let scY = height / 2 - 50;
        let scAngle = 0;
        let scVX = 0;
        let scVY = 0;
        let scVAngle = 0;

        // Target position (where it was "frozen")
        let targetX = width / 2;
        let targetY = height / 2 - 50;
        let targetAngle = 0;

        // Magnet position
        const magnetY = height - 80;
        const magnetWidth = 400;
        const magnetHeight = 40;

        // Dragging
        let isDragging = false;
        let dragOffsetX = 0;
        let dragOffsetY = 0;

        // Flux lines
        let fluxLines = [];

        function initFluxLines() {
            fluxLines = [];
            const numLines = 50;
            for (let i = 0; i < numLines; i++) {
                fluxLines.push({
                    x: (width / 2 - magnetWidth / 2) + Math.random() * magnetWidth,
                    baseY: magnetY,
                    phase: Math.random() * Math.PI * 2,
                    pinned: superconductorType === 2 && Math.random() < 0.7
                });
            }
        }

        initFluxLines();

        // Controls
        document.getElementById('btnType1').addEventListener('click', () => {
            superconductorType = 1;
            updateButtons();
            initFluxLines();
        });
        document.getElementById('btnType2').addEventListener('click', () => {
            superconductorType = 2;
            updateButtons();
            initFluxLines();
        });

        document.getElementById('tempSlider').addEventListener('input', (e) => {
            const val = parseInt(e.target.value);
            temperature = 4 + val * 2.9; // 4K to 293K range
            if (temperature < 90) {
                document.getElementById('tempValue').textContent = Math.round(temperature) + ' K (Superconducting)';
            } else {
                document.getElementById('tempValue').textContent = Math.round(temperature) + ' K (Normal)';
            }
        });

        document.getElementById('fieldSlider').addEventListener('input', (e) => {
            fieldStrength = parseInt(e.target.value) / 100;
            document.getElementById('fieldValue').textContent = fieldStrength.toFixed(1) + ' Tesla';
        });

        document.getElementById('btnPush').addEventListener('click', () => {
            scVX = (Math.random() - 0.5) * 20;
            scVY = -10;
        });

        document.getElementById('btnFlip').addEventListener('click', () => {
            scVAngle = Math.PI * 2;
        });

        document.getElementById('btnReset').addEventListener('click', () => {
            scX = targetX = width / 2;
            scY = targetY = height / 2 - 50;
            scAngle = targetAngle = 0;
            scVX = scVY = scVAngle = 0;
        });

        function updateButtons() {
            document.getElementById('btnType1').classList.toggle('active', superconductorType === 1);
            document.getElementById('btnType2').classList.toggle('active', superconductorType === 2);
        }

        // Mouse interaction
        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;

            const dx = mx - scX;
            const dy = my - scY;
            if (Math.sqrt(dx * dx + dy * dy) < 60) {
                isDragging = true;
                dragOffsetX = dx;
                dragOffsetY = dy;
            }
        });

        canvas.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            const rect = canvas.getBoundingClientRect();
            scX = e.clientX - rect.left - dragOffsetX;
            scY = e.clientY - rect.top - dragOffsetY;
        });

        canvas.addEventListener('mouseup', () => {
            if (isDragging && superconductorType === 2 && temperature < 90) {
                // Update target position when released (quantum locking)
                targetX = scX;
                targetY = scY;
            }
            isDragging = false;
        });

        canvas.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        function updatePhysics() {
            const isSuperconducting = temperature < 90;

            if (!isDragging && isSuperconducting) {
                if (superconductorType === 2) {
                    // Type II: Strong flux pinning - snap back to target
                    const pinStrength = 0.15 * fieldStrength;
                    const dampening = 0.92;

                    scVX += (targetX - scX) * pinStrength;
                    scVY += (targetY - scY) * pinStrength;
                    scVAngle += (targetAngle - scAngle) * pinStrength;

                    scVX *= dampening;
                    scVY *= dampening;
                    scVAngle *= dampening;

                    scX += scVX;
                    scY += scVY;
                    scAngle += scVAngle;
                } else {
                    // Type I: Only Meissner repulsion - unstable
                    const meissnerForce = 0.5 * fieldStrength;
                    const equilibriumY = magnetY - 100;

                    scVY += (equilibriumY - scY) * 0.02 * meissnerForce;
                    scVY *= 0.98;
                    scY += scVY;

                    // Drift sideways (unstable)
                    scVX += (Math.random() - 0.5) * 0.5;
                    scVX *= 0.99;
                    scX += scVX;

                    // Clamp
                    scX = Math.max(100, Math.min(width - 100, scX));
                }
            } else if (!isSuperconducting) {
                // Not superconducting - fall
                scVY += 0.5;
                scY += scVY;
                scY = Math.min(magnetY - 30, scY);
            }

            // Gravity always acts
            if (!isDragging && isSuperconducting && superconductorType === 2) {
                // Flux pinning counteracts gravity
            } else if (!isDragging) {
                scVY += 0.2;
            }

            scY = Math.min(magnetY - 30, scY);
        }

        function drawMagnet() {
            const mx = width / 2 - magnetWidth / 2;

            // Magnet body
            const gradient = ctx.createLinearGradient(mx, magnetY, mx + magnetWidth, magnetY);
            gradient.addColorStop(0, '#ff4444');
            gradient.addColorStop(0.5, '#888');
            gradient.addColorStop(1, '#4444ff');
            ctx.fillStyle = gradient;
            ctx.fillRect(mx, magnetY, magnetWidth, magnetHeight);

            // Labels
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 16px Nunito';
            ctx.textAlign = 'center';
            ctx.fillText('N', mx + 30, magnetY + 25);
            ctx.fillText('S', mx + magnetWidth - 30, magnetY + 25);

            // Field lines
            ctx.strokeStyle = 'rgba(100, 150, 255, 0.3)';
            ctx.lineWidth = 1;

            fluxLines.forEach((fl, i) => {
                const isSuperconducting = temperature < 90;
                const scRadius = 50;

                // Check if line passes through superconductor
                const dx = fl.x - scX;
                const passesThrough = Math.abs(dx) < scRadius;

                ctx.beginPath();

                if (isSuperconducting && passesThrough) {
                    if (superconductorType === 1) {
                        // Type I: Complete expulsion (Meissner)
                        // Line bends around
                        const bendDir = dx > 0 ? 1 : -1;
                        ctx.moveTo(fl.x, magnetY);
                        ctx.quadraticCurveTo(
                            fl.x + bendDir * 80,
                            scY,
                            fl.x + bendDir * 30,
                            50
                        );
                        ctx.strokeStyle = 'rgba(255, 100, 100, 0.4)';
                    } else {
                        // Type II: Flux pinning - line goes through but is pinned
                        if (fl.pinned) {
                            ctx.moveTo(fl.x, magnetY);
                            // Line connects to superconductor position
                            const pinnedX = scX + (fl.x - width / 2) * 0.3;
                            ctx.lineTo(pinnedX, scY + 25);
                            ctx.lineTo(pinnedX, scY - 25);
                            ctx.lineTo(fl.x, 50);
                            ctx.strokeStyle = 'rgba(68, 204, 255, 0.6)';
                        } else {
                            ctx.moveTo(fl.x, magnetY);
                            ctx.lineTo(fl.x, 50);
                            ctx.strokeStyle = 'rgba(100, 150, 255, 0.3)';
                        }
                    }
                } else {
                    // Normal field line
                    ctx.moveTo(fl.x, magnetY);
                    ctx.lineTo(fl.x, 50);
                    ctx.strokeStyle = 'rgba(100, 150, 255, 0.3)';
                }
                ctx.stroke();
            });
        }

        function drawSuperconductor() {
            const isSuperconducting = temperature < 90;

            ctx.save();
            ctx.translate(scX, scY);
            ctx.rotate(scAngle);

            // Glow when superconducting
            if (isSuperconducting) {
                const glowColor = superconductorType === 2 ?
                    'rgba(68, 204, 255, 0.3)' : 'rgba(255, 136, 68, 0.3)';
                const gradient = ctx.createRadialGradient(0, 0, 30, 0, 0, 80);
                gradient.addColorStop(0, glowColor);
                gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.ellipse(0, 0, 80, 50, 0, 0, Math.PI * 2);
                ctx.fill();
            }

            // Disc body
            const bodyGradient = ctx.createRadialGradient(0, -10, 0, 0, 0, 50);
            if (isSuperconducting) {
                bodyGradient.addColorStop(0, '#4488aa');
                bodyGradient.addColorStop(0.5, '#224466');
                bodyGradient.addColorStop(1, '#112233');
            } else {
                bodyGradient.addColorStop(0, '#666');
                bodyGradient.addColorStop(1, '#333');
            }
            ctx.fillStyle = bodyGradient;

            // 3D disc shape
            ctx.beginPath();
            ctx.ellipse(0, 8, 50, 15, 0, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = isSuperconducting ? '#336688' : '#555';
            ctx.beginPath();
            ctx.ellipse(0, 0, 50, 15, 0, 0, Math.PI * 2);
            ctx.fill();

            // Side
            ctx.fillStyle = isSuperconducting ? '#224466' : '#444';
            ctx.beginPath();
            ctx.moveTo(-50, 0);
            ctx.lineTo(-50, 8);
            ctx.ellipse(0, 8, 50, 15, 0, Math.PI, 0, true);
            ctx.lineTo(50, 0);
            ctx.ellipse(0, 0, 50, 15, 0, 0, Math.PI, true);
            ctx.fill();

            // Label
            ctx.fillStyle = '#fff';
            ctx.font = '10px Nunito';
            ctx.textAlign = 'center';
            ctx.fillText(isSuperconducting ? 'YBCO' : 'Warm', 0, 4);

            ctx.restore();

            // Frost/vapor when cold
            if (isSuperconducting) {
                for (let i = 0; i < 5; i++) {
                    const vx = scX + (Math.random() - 0.5) * 80;
                    const vy = scY + 20 + Math.random() * 30;
                    const alpha = Math.random() * 0.3;
                    ctx.fillStyle = `rgba(200, 220, 255, ${alpha})`;
                    ctx.beginPath();
                    ctx.arc(vx, vy + Math.sin(time * 0.05 + i) * 5, 3 + Math.random() * 5, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
        }

        function updateStats() {
            const isSuperconducting = temperature < 90;
            const heightFromMagnet = magnetY - scY - 20;

            document.getElementById('heightValue').textContent = Math.max(0, Math.round(heightFromMagnet / 3)) + ' mm';
            document.getElementById('fluxValue').textContent = isSuperconducting && superconductorType === 2 ? '~10⁶' : '0';
            document.getElementById('forceValue').textContent = isSuperconducting ? (fieldStrength * 4.8).toFixed(1) + ' N' : '0 N';

            if (!isSuperconducting) {
                document.getElementById('stateValue').textContent = 'Normal';
                document.getElementById('statusText').textContent = 'Above Critical Temperature — Not Superconducting';
            } else if (superconductorType === 1) {
                document.getElementById('stateValue').textContent = 'Meissner';
                document.getElementById('statusText').textContent = 'Type I — Meissner Effect Only (Unstable)';
            } else {
                document.getElementById('stateValue').textContent = 'Locked';
                document.getElementById('statusText').textContent = 'Type II — Flux Pinning Active (Quantum Locked)';
            }
        }

        function draw() {
            time++;

            ctx.fillStyle = '#030308';
            ctx.fillRect(0, 0, width, height);

            // Background grid
            ctx.strokeStyle = 'rgba(50, 80, 120, 0.1)';
            ctx.lineWidth = 1;
            for (let x = 0; x < width; x += 40) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
                ctx.stroke();
            }
            for (let y = 0; y < height; y += 40) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(width, y);
                ctx.stroke();
            }

            updatePhysics();
            drawMagnet();
            drawSuperconductor();
            updateStats();

            // Title
            ctx.fillStyle = '#4cf';
            ctx.font = 'bold 14px Nunito';
            ctx.textAlign = 'left';
            ctx.fillText(`Type ${superconductorType === 1 ? 'I' : 'II'} Superconductor`, 20, 30);

            requestAnimationFrame(draw);
        }

        draw();
    </script>
</body>
</html>
