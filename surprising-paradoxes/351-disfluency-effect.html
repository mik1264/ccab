<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Disfluency Effect - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #e056fd, #be2edd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #888;
        }

        .back-link {
            display: inline-block;
            color: #e056fd;
            text-decoration: none;
            margin-bottom: 20px;
            transition: transform 0.3s;
        }

        .back-link:hover {
            transform: translateX(-5px);
        }

        .intro-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .intro-panel h2 {
            color: #e056fd;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .intro-panel p {
            color: #ccc;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        @media (max-width: 900px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel h3 {
            color: #be2edd;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .font-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .toggle-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
            color: #888;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .toggle-btn.active {
            border-color: #e056fd;
            color: #e056fd;
            background: rgba(224, 86, 253, 0.1);
        }

        .reading-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            padding: 25px;
            color: #222;
            min-height: 200px;
            transition: all 0.3s;
        }

        .reading-area.easy-font {
            font-family: Arial, sans-serif;
            font-size: 16px;
            line-height: 1.6;
        }

        .reading-area.hard-font {
            font-family: 'Brush Script MT', 'Comic Sans MS', cursive;
            font-size: 13px;
            line-height: 1.4;
            font-style: italic;
            color: #666;
        }

        .reading-area h4 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .timer-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            margin: 15px 0;
            overflow: hidden;
        }

        .timer-fill {
            height: 100%;
            background: linear-gradient(90deg, #e056fd, #be2edd);
            width: 0%;
            transition: width 0.1s linear;
        }

        .study-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #e056fd, #be2edd);
            border: none;
            border-radius: 10px;
            color: #fff;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 15px;
            transition: transform 0.3s;
        }

        .study-btn:hover {
            transform: translateY(-2px);
        }

        .study-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .test-area {
            display: none;
        }

        .test-area.visible {
            display: block;
        }

        .question-box {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .question-text {
            color: #e056fd;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .answer-option {
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            color: #ccc;
        }

        .answer-option:hover {
            background: rgba(224, 86, 253, 0.1);
            border-color: rgba(224, 86, 253, 0.3);
        }

        .answer-option.selected {
            background: rgba(224, 86, 253, 0.2);
            border-color: #e056fd;
            color: #fff;
        }

        .answer-option.correct {
            background: rgba(0, 255, 136, 0.2);
            border-color: #00ff88;
            color: #00ff88;
        }

        .answer-option.incorrect {
            background: rgba(255, 107, 107, 0.2);
            border-color: #ff6b6b;
            color: #ff6b6b;
        }

        .results-panel {
            background: rgba(224, 86, 253, 0.1);
            border: 1px solid rgba(224, 86, 253, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .results-panel.visible {
            display: block;
        }

        .results-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .result-box {
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .result-score {
            font-size: 2.5rem;
            font-weight: bold;
        }

        .result-score.easy {
            color: #ff6b6b;
        }

        .result-score.hard {
            color: #00ff88;
        }

        .result-label {
            font-size: 0.85rem;
            color: #888;
            margin-top: 5px;
        }

        .research-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #e056fd;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #888;
        }

        .crt-section {
            margin-top: 20px;
        }

        .crt-problem {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .crt-text {
            margin-bottom: 15px;
            transition: all 0.3s;
        }

        .crt-text.easy {
            font-family: Arial, sans-serif;
            font-size: 16px;
            color: #fff;
        }

        .crt-text.hard {
            font-family: 'Brush Script MT', cursive;
            font-size: 14px;
            color: #aaa;
            font-style: italic;
        }

        .crt-input {
            width: 100%;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #fff;
            font-size: 1rem;
            outline: none;
        }

        .crt-input:focus {
            border-color: #e056fd;
        }

        .insight-box {
            background: rgba(255, 221, 89, 0.1);
            border: 1px solid rgba(255, 221, 89, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .insight-text {
            color: #ffdd59;
            font-size: 0.9rem;
        }

        .research-panel {
            background: rgba(190, 46, 221, 0.1);
            border-left: 4px solid #be2edd;
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin-bottom: 25px;
        }

        .research-panel h3 {
            color: #be2edd;
            margin-bottom: 15px;
        }

        .study-card {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .study-card:last-child {
            margin-bottom: 0;
        }

        .study-author {
            color: #e056fd;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .study-finding {
            color: #ccc;
            font-size: 0.95rem;
        }

        .highlight {
            color: #ffdd59;
            font-weight: bold;
        }

        .applications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .app-card {
            background: rgba(224, 86, 253, 0.1);
            border: 1px solid rgba(224, 86, 253, 0.3);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .app-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .app-title {
            color: #e056fd;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .app-desc {
            font-size: 0.8rem;
            color: #888;
        }

        .font-demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .font-demo {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .font-demo.easy {
            font-family: Arial, sans-serif;
            font-size: 14px;
            color: #222;
        }

        .font-demo.hard {
            font-family: 'Brush Script MT', cursive;
            font-size: 12px;
            color: #555;
            font-style: italic;
        }

        .font-label {
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.75rem;
            margin-top: 10px;
            display: inline-block;
            font-family: Arial, sans-serif;
            font-style: normal;
        }

        .progress-indicator {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 15px 0;
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
        }

        .progress-dot.active {
            background: #e056fd;
        }

        .progress-dot.completed {
            background: #00ff88;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Surprising Paradoxes</a>

        <header>
            <h1>The Disfluency Effect</h1>
            <p class="subtitle">Harder to read = easier to remember</p>
        </header>

        <div class="intro-panel">
            <h2>üìñ Why Ugly Fonts Make You Smarter</h2>
            <p>
                Common sense says: make text easy to read for better learning. But research reveals a stunning paradox:
                <em>difficult-to-read fonts actually improve retention and understanding</em>. Students who learned
                material in hard-to-read fonts like Comic Sans Italics scored <span class="highlight">86.5%</span> on
                tests compared to <span class="highlight">72.8%</span> for those with clean Arial. The struggle of
                processing disfluent text triggers deeper cognitive engagement. Your brain's complaint‚Äî"this is hard
                to read!"‚Äîis actually a signal to pay closer attention.
            </p>
        </div>

        <div class="main-grid">
            <div class="panel">
                <h3>üìö Font Comparison Experiment</h3>
                <p style="color: #888; margin-bottom: 15px;">Study the same facts in two fonts. Which helps you remember more?</p>

                <div class="font-toggle">
                    <button class="toggle-btn active" id="easyBtn" onclick="setFont('easy')">Easy Font (Arial)</button>
                    <button class="toggle-btn" id="hardBtn" onclick="setFont('hard')">Hard Font (Script)</button>
                </div>

                <div class="reading-area easy-font" id="readingArea">
                    <h4>The Indus Valley Civilization</h4>
                    <p>The Indus Valley Civilization flourished from 3300-1300 BCE in modern Pakistan and northwest India.
                    Its largest cities were Mohenjo-daro and Harappa, with populations of 40,000. They invented standardized
                    weights and measures, and had advanced drainage systems with toilets in every house. The civilization
                    covered 1.25 million square kilometers‚Äîlarger than Egypt and Mesopotamia combined. Their undeciphered
                    script contains 417 distinct symbols. The civilization mysteriously declined around 1900 BCE.</p>
                </div>

                <div class="timer-bar">
                    <div class="timer-fill" id="timerFill"></div>
                </div>

                <div class="progress-indicator" id="progressDots">
                    <div class="progress-dot active"></div>
                    <div class="progress-dot"></div>
                    <div class="progress-dot"></div>
                </div>

                <button class="study-btn" id="studyBtn" onclick="startStudy()">Start 30-Second Study</button>

                <div class="test-area" id="testArea">
                    <h4 style="color: #e056fd; margin-bottom: 15px;">Test Your Memory</h4>

                    <div class="question-box" id="q1">
                        <div class="question-text">What was the population of the largest cities?</div>
                        <div class="answer-options">
                            <div class="answer-option" onclick="selectAnswer(0, 0)">20,000</div>
                            <div class="answer-option" onclick="selectAnswer(0, 1)">40,000</div>
                            <div class="answer-option" onclick="selectAnswer(0, 2)">60,000</div>
                            <div class="answer-option" onclick="selectAnswer(0, 3)">80,000</div>
                        </div>
                    </div>

                    <div class="question-box" id="q2">
                        <div class="question-text">How many distinct symbols in their script?</div>
                        <div class="answer-options">
                            <div class="answer-option" onclick="selectAnswer(1, 0)">217</div>
                            <div class="answer-option" onclick="selectAnswer(1, 1)">317</div>
                            <div class="answer-option" onclick="selectAnswer(1, 2)">417</div>
                            <div class="answer-option" onclick="selectAnswer(1, 3)">517</div>
                        </div>
                    </div>

                    <div class="question-box" id="q3">
                        <div class="question-text">When did the civilization mysteriously decline?</div>
                        <div class="answer-options">
                            <div class="answer-option" onclick="selectAnswer(2, 0)">2500 BCE</div>
                            <div class="answer-option" onclick="selectAnswer(2, 1)">2100 BCE</div>
                            <div class="answer-option" onclick="selectAnswer(2, 2)">1900 BCE</div>
                            <div class="answer-option" onclick="selectAnswer(2, 3)">1500 BCE</div>
                        </div>
                    </div>

                    <button class="study-btn" onclick="showResults()">Check Answers</button>
                </div>

                <div class="results-panel" id="resultsPanel">
                    <h4 style="color: #e056fd; margin-bottom: 10px;">Your Results</h4>
                    <div class="results-comparison">
                        <div class="result-box">
                            <div class="result-score" id="yourScore">‚Äî</div>
                            <div class="result-label">Your Score<br><span id="fontUsed"></span></div>
                        </div>
                        <div class="result-box">
                            <div class="result-score" id="researchScore">‚Äî</div>
                            <div class="result-label">Research Average<br><span id="researchFont"></span></div>
                        </div>
                    </div>
                    <div class="insight-box" id="insightBox">
                        <span class="insight-text" id="insightText"></span>
                    </div>
                </div>
            </div>

            <div class="panel">
                <h3>üß† The Cognitive Reflection Test</h3>
                <p style="color: #888; margin-bottom: 15px;">Hard fonts reduce intuitive (wrong) answers</p>

                <div class="crt-section">
                    <div class="font-toggle">
                        <button class="toggle-btn active" id="crtEasyBtn" onclick="setCRTFont('easy')">Easy Font</button>
                        <button class="toggle-btn" id="crtHardBtn" onclick="setCRTFont('hard')">Hard Font</button>
                    </div>

                    <div class="crt-problem">
                        <div class="crt-text easy" id="crtText">
                            A bat and a ball cost $1.10 in total. The bat costs $1.00 more than the ball. How much does the ball cost?
                        </div>
                        <input type="text" class="crt-input" id="crtAnswer" placeholder="Enter your answer (e.g., $0.10)">
                        <button class="study-btn" onclick="checkCRT()" style="margin-top: 10px;">Check Answer</button>
                        <div class="insight-box" id="crtInsight" style="display: none;">
                            <span class="insight-text" id="crtInsightText"></span>
                        </div>
                    </div>

                    <div class="research-stats">
                        <div class="stat-item">
                            <div class="stat-value">2.45</div>
                            <div class="stat-label">Hard Font Score (of 3)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">1.90</div>
                            <div class="stat-label">Easy Font Score (of 3)</div>
                        </div>
                    </div>
                    <p style="color: #888; font-size: 0.8rem; text-align: center; margin-top: 10px;">
                        Alter et al. (2007): Hard fonts improved CRT scores by 29%
                    </p>
                </div>

                <div class="font-demo-grid">
                    <div class="font-demo easy">
                        <p>The mitochondria is the powerhouse of the cell.</p>
                        <span class="font-label">Arial 16pt - 72.8% retention</span>
                    </div>
                    <div class="font-demo hard">
                        <p>The mitochondria is the powerhouse of the cell.</p>
                        <span class="font-label">Script 12pt - 86.5% retention</span>
                    </div>
                </div>

                <div class="insight-box" style="margin-top: 20px;">
                    <span class="insight-text">
                        üí° The same content, different processing depth. Your brain interprets difficulty as a signal:
                        "This needs more attention!" Fluency creates false confidence; disfluency triggers careful thinking.
                    </span>
                </div>
            </div>
        </div>

        <div class="research-panel">
            <h3>üìö The Science of Desirable Difficulties</h3>

            <div class="study-card">
                <div class="study-author">Diemand-Yauman, Oppenheimer & Vaughan (2011) - Princeton</div>
                <div class="study-finding">
                    The landmark study. High school students learned about alien species in either Arial 16pt or
                    hard-to-read fonts (Comic Sans Italics 12pt, Bodoni MT Italics 12pt). Test results:
                    <span class="highlight">Disfluent fonts: 86.5%</span> vs
                    <span class="highlight">Fluent fonts: 72.8%</span>‚Äîa nearly 14% improvement from making text
                    harder to read!
                </div>
            </div>

            <div class="study-card">
                <div class="study-author">Alter, Oppenheimer, Epley & Eyre (2007) - Princeton</div>
                <div class="study-finding">
                    Hard-to-read fonts improve <span class="highlight">analytical thinking</span>, not just memory.
                    On the Cognitive Reflection Test (problems with intuitive but wrong answers), participants with
                    disfluent fonts scored 29% higher. The difficulty disrupted automatic processing, forcing slower,
                    more careful reasoning.
                </div>
            </div>

            <div class="study-card">
                <div class="study-author">Bjork & Bjork (2011) - "Desirable Difficulties"</div>
                <div class="study-finding">
                    Disfluency is one of many "desirable difficulties" that enhance learning. Others include spacing,
                    interleaving, and testing. The key insight: <span class="highlight">conditions that make
                    performance worse during learning often make learning better</span>. Easy study feels productive;
                    difficult study IS productive.
                </div>
            </div>

            <div class="study-card">
                <div class="study-author">Rummer, Schweppe & Schwede (2016) - Replication Attempt</div>
                <div class="study-finding">
                    Important caveat: Some replications have found <span class="highlight">mixed results</span>.
                    The effect may depend on difficulty level (too hard = frustration), motivation, and material type.
                    The font shouldn't be illegible‚Äîjust disfluent enough to signal "slow down and pay attention."
                </div>
            </div>
        </div>

        <div class="panel" style="margin-bottom: 25px;">
            <h3>üåç Practical Applications</h3>
            <div class="applications-grid">
                <div class="app-card">
                    <div class="app-icon">üìù</div>
                    <div class="app-title">Study Materials</div>
                    <div class="app-desc">Print notes in slightly harder fonts for better retention</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">‚ö†Ô∏è</div>
                    <div class="app-title">Warning Labels</div>
                    <div class="app-desc">Disfluent warnings are processed more carefully</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">üìã</div>
                    <div class="app-title">Instructions</div>
                    <div class="app-desc">Critical procedures may benefit from harder fonts</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">üéì</div>
                    <div class="app-title">Textbooks</div>
                    <div class="app-desc">Key definitions in disfluent fonts improve recall</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">üíä</div>
                    <div class="app-title">Medical Forms</div>
                    <div class="app-desc">Consent forms may be read more carefully if disfluent</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">‚úçÔ∏è</div>
                    <div class="app-title">Handwriting</div>
                    <div class="app-desc">Handwritten notes are naturally disfluent‚Äîand effective</div>
                </div>
            </div>
        </div>

        <div class="intro-panel">
            <h2>üß† The Paradox of Effort</h2>
            <p>
                The Disfluency Effect reveals a deep truth about learning: <em>ease is the enemy of depth</em>.
                When information flows effortlessly, your brain assumes it's already understood and doesn't engage
                deeply. When information requires struggle, your brain activates metacognitive monitoring: "Wait,
                this is hard‚ÄîI need to concentrate."<br><br>
                This explains why:<br>
                ‚Ä¢ <strong>Highlighting feels productive but doesn't work</strong>‚Äîtoo easy<br>
                ‚Ä¢ <strong>Re-reading creates false confidence</strong>‚Äîfluency mistaken for understanding<br>
                ‚Ä¢ <strong>Handwritten notes beat typed</strong>‚Äîthe effort of writing creates deeper processing<br>
                ‚Ä¢ <strong>Testing beats studying</strong>‚Äîretrieval is hard, and hard is good<br><br>
                The paradox extends beyond fonts. Anytime learning feels too easy, you should worry. The struggle
                isn't a sign something is wrong‚Äîit's a sign something is <em>working</em>.
            </p>
        </div>
    </div>

    <script>
        // State
        let currentFont = 'easy';
        let currentCRTFont = 'easy';
        let studyPhase = 0; // 0: not started, 1: studying, 2: testing
        let answers = [null, null, null];
        const correctAnswers = [1, 2, 2]; // 40000, 417, 1900 BCE
        let timerInterval = null;

        function setFont(font) {
            currentFont = font;
            document.getElementById('easyBtn').classList.toggle('active', font === 'easy');
            document.getElementById('hardBtn').classList.toggle('active', font === 'hard');

            const area = document.getElementById('readingArea');
            area.classList.remove('easy-font', 'hard-font');
            area.classList.add(font + '-font');
        }

        function setCRTFont(font) {
            currentCRTFont = font;
            document.getElementById('crtEasyBtn').classList.toggle('active', font === 'easy');
            document.getElementById('crtHardBtn').classList.toggle('active', font === 'hard');

            const text = document.getElementById('crtText');
            text.classList.remove('easy', 'hard');
            text.classList.add(font);
        }

        function startStudy() {
            if (studyPhase === 0) {
                // Start studying
                studyPhase = 1;
                document.getElementById('studyBtn').textContent = 'Studying...';
                document.getElementById('studyBtn').disabled = true;

                // Update progress dots
                const dots = document.querySelectorAll('.progress-dot');
                dots[0].classList.add('active');

                // Start timer
                let elapsed = 0;
                const duration = 30;
                timerInterval = setInterval(() => {
                    elapsed++;
                    const percent = (elapsed / duration) * 100;
                    document.getElementById('timerFill').style.width = percent + '%';

                    if (elapsed >= duration) {
                        clearInterval(timerInterval);
                        endStudy();
                    }
                }, 1000);
            }
        }

        function endStudy() {
            studyPhase = 2;

            // Update progress
            const dots = document.querySelectorAll('.progress-dot');
            dots[0].classList.remove('active');
            dots[0].classList.add('completed');
            dots[1].classList.add('active');

            // Hide study area, show test
            document.getElementById('readingArea').style.display = 'none';
            document.getElementById('studyBtn').style.display = 'none';
            document.getElementById('testArea').classList.add('visible');

            // Disable font toggle
            document.getElementById('easyBtn').disabled = true;
            document.getElementById('hardBtn').disabled = true;
        }

        function selectAnswer(question, answer) {
            answers[question] = answer;

            // Update UI
            const options = document.querySelectorAll(`#q${question + 1} .answer-option`);
            options.forEach((opt, i) => {
                opt.classList.remove('selected');
                if (i === answer) {
                    opt.classList.add('selected');
                }
            });
        }

        function showResults() {
            // Check if all answered
            if (answers.includes(null)) {
                alert('Please answer all questions!');
                return;
            }

            // Calculate score
            let correct = 0;
            answers.forEach((ans, i) => {
                const options = document.querySelectorAll(`#q${i + 1} .answer-option`);
                if (ans === correctAnswers[i]) {
                    correct++;
                    options[ans].classList.add('correct');
                } else {
                    options[ans].classList.add('incorrect');
                    options[correctAnswers[i]].classList.add('correct');
                }
            });

            // Update progress
            const dots = document.querySelectorAll('.progress-dot');
            dots[1].classList.remove('active');
            dots[1].classList.add('completed');
            dots[2].classList.add('completed');

            // Show results
            const panel = document.getElementById('resultsPanel');
            panel.classList.add('visible');

            const yourScore = document.getElementById('yourScore');
            const fontUsed = document.getElementById('fontUsed');
            const researchScore = document.getElementById('researchScore');
            const researchFont = document.getElementById('researchFont');
            const insightText = document.getElementById('insightText');

            yourScore.textContent = `${correct}/3`;
            yourScore.className = 'result-score ' + currentFont;
            fontUsed.textContent = currentFont === 'easy' ? '(Easy Font)' : '(Hard Font)';

            // Research comparison
            if (currentFont === 'easy') {
                researchScore.textContent = '72.8%';
                researchScore.className = 'result-score easy';
                researchFont.textContent = '(Research: Easy Font)';
                insightText.textContent = correct < 2 ?
                    "Your score aligns with research: easy fonts create false fluency. The text felt clear, but facts didn't stick!" :
                    "You beat the easy-font average! But research shows hard fonts would likely boost your score even higher.";
            } else {
                researchScore.textContent = '86.5%';
                researchScore.className = 'result-score hard';
                researchFont.textContent = '(Research: Hard Font)';
                insightText.textContent = correct >= 2 ?
                    "Your score aligns with research: the struggle of reading the hard font triggered deeper processing!" :
                    "Even with lower score, the hard font likely helped you engage more deeply. In a longer test, the effect compounds.";
            }
        }

        function checkCRT() {
            const answer = document.getElementById('crtAnswer').value.trim().toLowerCase();
            const insight = document.getElementById('crtInsight');
            const text = document.getElementById('crtInsightText');
            insight.style.display = 'block';

            // Check for common wrong answer ($0.10) or correct ($0.05)
            if (answer.includes('0.05') || answer.includes('5 cents') || answer === '$0.05' || answer === '5') {
                text.textContent = '‚úì Correct! The ball costs $0.05. Most people instinctively say $0.10 (the "intuitive" wrong answer). ' +
                    (currentCRTFont === 'hard' ?
                        'The hard font may have slowed your thinking, helping you avoid the trap!' :
                        'You resisted the intuitive pull‚Äîimpressive analytical thinking!');
            } else if (answer.includes('0.10') || answer.includes('10 cents') || answer === '$0.10' || answer === '10') {
                text.textContent = '‚úó That\'s the intuitive‚Äîbut wrong‚Äîanswer! If the ball costs $0.10 and the bat costs $1.00 MORE, the bat is $1.10, totaling $1.20. The correct answer is $0.05. ' +
                    (currentCRTFont === 'easy' ?
                        'Research shows hard-to-read fonts reduce this error by 29%‚Äîthe struggle triggers analytical thinking.' :
                        'Even with the hard font, this problem catches many people. The effect works better over multiple problems.');
            } else {
                text.textContent = 'Check your math! The ball costs $0.05. If the ball is $0.05 and the bat is $1.00 MORE, the bat is $1.05. Total: $1.10. ‚úì';
            }
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
