<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyperbolic Discounting - Why We Can't Wait</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2d4a3e 0%, #1a302a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        .back-link { color: #2ecc71; text-decoration: none; margin-bottom: 20px; display: inline-block; }
        h1 {
            font-size: 2.4rem;
            background: linear-gradient(135deg, #2ecc71, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle { font-size: 1.1rem; color: #80b090; max-width: 800px; margin: 0 auto; line-height: 1.6; }
        .experiment-container {
            background: rgba(50, 80, 65, 0.7);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .experiment-container h2 { color: #2ecc71; margin-bottom: 20px; text-align: center; }
        .choice-card {
            background: rgba(30, 50, 40, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .choice-header {
            text-align: center;
            color: #80b090;
            margin-bottom: 20px;
        }
        .choice-question {
            font-size: 1.3rem;
            color: #2ecc71;
            margin-bottom: 15px;
        }
        .choice-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .option-btn {
            padding: 25px;
            border: 2px solid rgba(46, 204, 113, 0.4);
            border-radius: 12px;
            background: rgba(46, 204, 113, 0.1);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .option-btn:hover { background: rgba(46, 204, 113, 0.2); transform: scale(1.02); }
        .option-btn.selected { border-color: #2ecc71; background: rgba(46, 204, 113, 0.3); }
        .option-btn.disabled { opacity: 0.5; pointer-events: none; }
        .option-amount {
            font-size: 2.2rem;
            font-weight: bold;
            color: #2ecc71;
            margin-bottom: 10px;
        }
        .option-timing {
            color: #80b090;
            font-size: 1rem;
        }
        .progress-bar {
            background: rgba(46, 204, 113, 0.2);
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
        }
        .progress-fill {
            background: linear-gradient(90deg, #2ecc71, #f39c12);
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s;
        }
        .round-counter {
            text-align: center;
            color: #80b090;
            margin-bottom: 15px;
        }
        .results-section { display: none; margin-top: 30px; }
        .results-section.visible { display: block; }
        .reveal-box {
            background: rgba(46, 204, 113, 0.15);
            border: 2px solid rgba(46, 204, 113, 0.4);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .reveal-box h3 { color: #2ecc71; margin-bottom: 15px; text-align: center; }
        .reveal-box p { color: #80c0a0; line-height: 1.7; }
        .reversal-demo {
            background: rgba(30, 50, 40, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        .reversal-demo h3 { color: #2ecc71; margin-bottom: 20px; text-align: center; }
        .reversal-pairs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }
        .reversal-pair {
            background: rgba(46, 204, 113, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        .reversal-pair h4 { color: #f39c12; margin-bottom: 15px; }
        .vs-text { color: #80b090; font-size: 1.2rem; margin: 10px 0; }
        .popular-choice {
            color: #2ecc71;
            font-weight: bold;
            margin-top: 10px;
            padding: 8px;
            background: rgba(46, 204, 113, 0.2);
            border-radius: 5px;
        }
        .curve-container {
            background: rgba(30, 50, 40, 0.8);
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        .curve-container h3 { color: #2ecc71; margin-bottom: 15px; text-align: center; }
        .curve-canvas {
            width: 100%;
            height: 280px;
            background: rgba(20, 40, 32, 0.8);
            border-radius: 8px;
        }
        .curve-legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #80b090;
        }
        .legend-color {
            width: 20px;
            height: 4px;
            border-radius: 2px;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        .stat-box {
            background: rgba(30, 50, 40, 0.8);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .stat-box h4 { color: #80b090; font-size: 0.9rem; margin-bottom: 10px; }
        .stat-box .value { font-size: 2rem; font-weight: bold; color: #2ecc71; }
        .stat-box .sub { font-size: 0.85rem; color: #607060; margin-top: 5px; }
        .case-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 30px 0; }
        .case-card {
            background: rgba(50, 80, 65, 0.7);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #2ecc71;
        }
        .case-card h3 { color: #2ecc71; margin-bottom: 12px; }
        .case-card p { color: #80b090; font-size: 0.95rem; line-height: 1.6; }
        .insight-box {
            background: linear-gradient(135deg, rgba(46, 204, 113, 0.2), rgba(243, 156, 18, 0.1));
            border-left: 4px solid #2ecc71;
            padding: 20px;
            border-radius: 0 12px 12px 0;
            margin: 25px 0;
        }
        .insight-box h3 { color: #2ecc71; margin-bottom: 10px; }
        .explanation { background: rgba(50, 80, 65, 0.5); border-radius: 15px; padding: 25px; margin-top: 30px; }
        .explanation h2 { color: #2ecc71; margin-bottom: 15px; }
        .explanation p { color: #80b090; line-height: 1.8; margin-bottom: 15px; }
        .restart-btn {
            display: block;
            margin: 20px auto;
            padding: 15px 40px;
            border: 2px solid #2ecc71;
            border-radius: 25px;
            background: transparent;
            color: #2ecc71;
            font-family: inherit;
            font-size: 1rem;
            cursor: pointer;
        }
        .restart-btn:hover { background: rgba(46, 204, 113, 0.2); }
        @media (max-width: 600px) {
            .choice-options, .reversal-pairs { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-link">‚Üê Back to Surprising Paradoxes</a>
            <h1>Hyperbolic Discounting</h1>
            <p class="subtitle">Would you take $100 today or $110 tomorrow? Most pick $100 NOW. But $100 in a year vs $110 in a year and one day? Now $110 wins! SAME one-day wait, completely DIFFERENT choices. We don't discount the future rationally‚Äîwe discount it hyperbolically, leading to procrastination, addiction, and preference reversals.</p>
        </header>

        <div class="experiment-container">
            <h2>üí∞ The Time Preference Test</h2>
            <p style="text-align: center; color: #80b090; margin-bottom: 25px;">Make 8 choices between money now vs. money later. Watch your preferences reveal the paradox!</p>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <div class="round-counter">Question <span id="currentRound">1</span> of 8</div>

            <div class="choice-card" id="choiceCard">
                <div class="choice-header" id="choiceHeader">Immediate vs. Delayed</div>
                <div class="choice-question" id="choiceQuestion">Which would you prefer?</div>
                <div class="choice-options">
                    <div class="option-btn" id="optionA">
                        <div class="option-amount" id="amountA">$100</div>
                        <div class="option-timing" id="timingA">Today</div>
                    </div>
                    <div class="option-btn" id="optionB">
                        <div class="option-amount" id="amountB">$110</div>
                        <div class="option-timing" id="timingB">Tomorrow</div>
                    </div>
                </div>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="reveal-box">
                    <h3>üîÑ The Preference Reversal Paradox</h3>
                    <p id="personalResult"></p>
                </div>

                <div class="reversal-demo">
                    <h3>The Classic Reversal</h3>
                    <div class="reversal-pairs">
                        <div class="reversal-pair">
                            <h4>Near-Term Choice</h4>
                            <div>$100 <strong>today</strong></div>
                            <div class="vs-text">vs</div>
                            <div>$110 <strong>tomorrow</strong></div>
                            <div class="popular-choice">~70% pick $100 today</div>
                        </div>
                        <div class="reversal-pair">
                            <h4>Far-Term Choice</h4>
                            <div>$100 in <strong>365 days</strong></div>
                            <div class="vs-text">vs</div>
                            <div>$110 in <strong>366 days</strong></div>
                            <div class="popular-choice">~70% pick $110</div>
                        </div>
                    </div>
                    <p style="text-align: center; margin-top: 20px; color: #f39c12;">
                        ‚ö†Ô∏è SAME 1-day wait, SAME $10 gain‚Äîbut preferences FLIP based on timing!
                    </p>
                </div>

                <div class="stats-grid">
                    <div class="stat-box">
                        <h4>Your "Now" Bias</h4>
                        <div class="value" id="nowBias">0%</div>
                        <div class="sub">Chose immediate reward</div>
                    </div>
                    <div class="stat-box">
                        <h4>Preference Reversals</h4>
                        <div class="value" id="reversals">0</div>
                        <div class="sub">Inconsistent choices</div>
                    </div>
                    <div class="stat-box">
                        <h4>Implied Discount Rate</h4>
                        <div class="value" id="discountRate">?%</div>
                        <div class="sub">Annual (irrational!)</div>
                    </div>
                    <div class="stat-box">
                        <h4>Patience Level</h4>
                        <div class="value" id="patienceLevel">?</div>
                        <div class="sub">Based on choices</div>
                    </div>
                </div>

                <div class="curve-container">
                    <h3>Hyperbolic vs. Exponential Discounting</h3>
                    <canvas id="curveCanvas" class="curve-canvas"></canvas>
                    <div class="curve-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #2ecc71;"></div>
                            <span>Rational (exponential)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #e74c3c;"></div>
                            <span>Human (hyperbolic)</span>
                        </div>
                    </div>
                    <p style="text-align: center; color: #80b090; margin-top: 15px; font-size: 0.9rem;">
                        The steep near-term drop in hyperbolic discounting causes preference reversals as options shift in time.
                    </p>
                </div>

                <button class="restart-btn" id="restartBtn">üîÑ Try Again</button>
            </div>
        </div>

        <div class="case-cards">
            <div class="case-card">
                <h3>üç© Diet & Health</h3>
                <p>"I'll start eating healthy Monday." The donut NOW has inflated value; future health is heavily discounted. By Monday, the cycle repeats. This is why precommitment (e.g., not buying junk food) works better than willpower.</p>
            </div>
            <div class="case-card">
                <h3>üìö Procrastination</h3>
                <p>The fun distraction NOW defeats the distant deadline. But as the deadline approaches, values flip‚Äîsuddenly the assignment IS urgent. Hyperbolic discounting perfectly predicts last-minute cramming.</p>
            </div>
            <div class="case-card">
                <h3>üí≥ Credit Card Debt</h3>
                <p>Buy now, pay later exploits hyperbolic discounting perfectly. The item's value is at its peak (NOW); the pain of payment is discounted (LATER). This is why 39% of Americans carry card debt averaging $6,500.</p>
            </div>
            <div class="case-card">
                <h3>üåç Climate Change</h3>
                <p>Future catastrophe is heavily discounted; present comfort is not. Even if climate costs are enormous, they're decades away‚Äîso we discount them to near-zero. Present benefits always win against discounted future costs.</p>
            </div>
        </div>

        <div class="insight-box">
            <h3>üß† Why We Discount Hyperbolically</h3>
            <p><strong>Evolutionary origins:</strong> In ancestral environments, the future was genuinely uncertain. A bird in hand WAS worth two in the bush‚Äîyou might not survive to collect later.<br><br>
            <strong>Neural competition:</strong> Immediate rewards activate the limbic system (emotion); delayed rewards activate the prefrontal cortex (planning). The emotional brain often wins.<br><br>
            <strong>Solutions:</strong> Precommitment devices (Odysseus and the Sirens), automatic savings, deadline bundling, and making future rewards more vivid and immediate in our minds.</p>
        </div>

        <div class="explanation">
            <h2>The Science</h2>
            <p><strong>Richard Herrnstein</strong> (1961) first observed hyperbolic discounting in pigeons. <strong>George Ainslie</strong> (1975) and <strong>Richard Thaler</strong> (1981) extended it to humans. Thaler found people required $345 in one year to equal $15 now‚Äîa 2,200% discount rate!</p>
            <p><strong>The paradox:</strong> Rational economic theory assumes exponential discounting (constant rate over time). But humans use hyperbolic discounting: very steep for near delays, shallow for far ones. This creates time-inconsistent preferences‚Äîyour future self wants different things than your present self.</p>
            <p><strong>The formula:</strong> V = A/(1 + kD) where V is present value, A is amount, D is delay, and k is discount rate. Unlike exponential discounting, hyperbolic creates a steeper curve near the present.</p>
            <p style="font-style: italic; color: #607060;">Your future self keeps making promises your present self won't keep.</p>
        </div>
    </div>

    <script>
        var questions = [
            { headerA: 'today', amountA: 100, headerB: 'tomorrow', amountB: 110, type: 'near', pair: 1 },
            { headerA: 'in 365 days', amountA: 100, headerB: 'in 366 days', amountB: 110, type: 'far', pair: 1 },
            { headerA: 'today', amountA: 50, headerB: 'in 1 week', amountB: 55, type: 'near', pair: 2 },
            { headerA: 'in 52 weeks', amountA: 50, headerB: 'in 53 weeks', amountB: 55, type: 'far', pair: 2 },
            { headerA: 'today', amountA: 100, headerB: 'in 1 month', amountB: 120, type: 'near', pair: 3 },
            { headerA: 'in 12 months', amountA: 100, headerB: 'in 13 months', amountB: 120, type: 'far', pair: 3 },
            { headerA: 'today', amountA: 500, headerB: 'in 3 months', amountB: 600, type: 'near', pair: 4 },
            { headerA: 'in 2 years', amountA: 500, headerB: 'in 2 years 3 months', amountB: 600, type: 'far', pair: 4 }
        ];

        var currentQ = 0;
        var answers = [];

        var optionA = document.getElementById('optionA');
        var optionB = document.getElementById('optionB');
        var amountA = document.getElementById('amountA');
        var amountB = document.getElementById('amountB');
        var timingA = document.getElementById('timingA');
        var timingB = document.getElementById('timingB');
        var choiceHeader = document.getElementById('choiceHeader');
        var progressFill = document.getElementById('progressFill');
        var currentRound = document.getElementById('currentRound');

        function loadQuestion() {
            if (currentQ >= questions.length) {
                showResults();
                return;
            }

            var q = questions[currentQ];
            amountA.textContent = '$' + q.amountA;
            amountB.textContent = '$' + q.amountB;
            timingA.textContent = q.headerA.charAt(0).toUpperCase() + q.headerA.slice(1);
            timingB.textContent = q.headerB.charAt(0).toUpperCase() + q.headerB.slice(1);
            choiceHeader.textContent = q.type === 'near' ? 'Near-Term Choice' : 'Far-Term Choice';

            optionA.classList.remove('selected', 'disabled');
            optionB.classList.remove('selected', 'disabled');
            currentRound.textContent = currentQ + 1;
            progressFill.style.width = (currentQ / questions.length * 100) + '%';
        }

        function selectOption(choseA) {
            var q = questions[currentQ];
            answers.push({
                question: currentQ,
                pair: q.pair,
                type: q.type,
                choseSmaller: choseA,
                choseNow: choseA
            });

            if (choseA) {
                optionA.classList.add('selected');
            } else {
                optionB.classList.add('selected');
            }
            optionA.classList.add('disabled');
            optionB.classList.add('disabled');

            setTimeout(function() {
                currentQ++;
                loadQuestion();
            }, 800);
        }

        optionA.addEventListener('click', function() {
            if (!optionA.classList.contains('disabled')) {
                selectOption(true);
            }
        });

        optionB.addEventListener('click', function() {
            if (!optionB.classList.contains('disabled')) {
                selectOption(false);
            }
        });

        function showResults() {
            document.getElementById('choiceCard').style.display = 'none';
            progressFill.style.width = '100%';

            // Analyze answers
            var nowChoices = answers.filter(function(a) { return a.choseNow; }).length;
            var nowBias = Math.round(nowChoices / answers.length * 100);

            // Count preference reversals (chose smaller-sooner in near, larger-later in far)
            var reversals = 0;
            var pairs = [1, 2, 3, 4];
            pairs.forEach(function(pair) {
                var nearAnswer = answers.find(function(a) { return a.pair === pair && a.type === 'near'; });
                var farAnswer = answers.find(function(a) { return a.pair === pair && a.type === 'far'; });
                if (nearAnswer && farAnswer) {
                    if (nearAnswer.choseNow && !farAnswer.choseNow) {
                        reversals++;
                    }
                }
            });

            document.getElementById('nowBias').textContent = nowBias + '%';
            document.getElementById('reversals').textContent = reversals;

            // Calculate implied discount rate based on choices
            var discountRate = 'Low';
            if (nowBias > 60) discountRate = '200%+';
            else if (nowBias > 40) discountRate = '50-200%';
            else discountRate = '<50%';
            document.getElementById('discountRate').textContent = discountRate;

            var patience = '';
            if (nowBias < 30) patience = 'Very Patient';
            else if (nowBias < 50) patience = 'Patient';
            else if (nowBias < 70) patience = 'Impulsive';
            else patience = 'Very Impulsive';
            document.getElementById('patienceLevel').textContent = patience;

            // Personal result message
            var msg = '';
            if (reversals >= 2) {
                msg = 'Classic hyperbolic discounting! You showed ' + reversals + ' preference reversals‚Äîchoosing the smaller-sooner option when it was immediate, but the larger-later option when both were far away. The SAME trade-off produced DIFFERENT choices based purely on timing. This is the signature of hyperbolic (not exponential) discounting.';
            } else if (nowBias > 70) {
                msg = 'You have a strong present bias, choosing the immediate option ' + nowBias + '% of the time. While this might feel impulsive, it\'s evolutionarily sensible‚Äîuncertain futures meant taking what you could get. The challenge: modern life rewards patience in ways our ancestors couldn\'t predict.';
            } else if (nowBias < 30) {
                msg = 'You showed remarkable patience, waiting for the larger reward ' + (100 - nowBias) + '% of the time. You either have strong prefrontal cortex control, or you\'ve trained yourself to discount the future less steeply. Either way, this predicts better long-term outcomes in savings, health, and goal achievement.';
            } else {
                msg = 'Your choices were fairly balanced with ' + nowBias + '% now-preferences. You showed ' + reversals + ' preference reversals. Most people show stronger present bias and more reversals‚Äîthe hyperbolic discounting effect that makes us inconsistent over time.';
            }
            document.getElementById('personalResult').textContent = msg;

            document.getElementById('resultsSection').classList.add('visible');
            drawCurve();
        }

        function drawCurve() {
            var canvas = document.getElementById('curveCanvas');
            var ctx = canvas.getContext('2d');

            canvas.width = canvas.offsetWidth * 2;
            canvas.height = canvas.offsetHeight * 2;
            ctx.scale(2, 2);
            var width = canvas.offsetWidth;
            var height = canvas.offsetHeight;

            ctx.fillStyle = 'rgba(20, 40, 32, 0.8)';
            ctx.fillRect(0, 0, width, height);

            var padding = 50;
            var graphWidth = width - padding * 2;
            var graphHeight = height - padding * 2;

            // Axes
            ctx.strokeStyle = '#80b090';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, padding);
            ctx.lineTo(padding, height - padding);
            ctx.lineTo(width - padding, height - padding);
            ctx.stroke();

            // Labels
            ctx.fillStyle = '#80b090';
            ctx.font = '12px Georgia';
            ctx.textAlign = 'center';
            ctx.fillText('Time Delay', width / 2, height - 15);
            ctx.save();
            ctx.translate(18, height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Present Value', 0, 0);
            ctx.restore();

            // Time markers
            ctx.fillStyle = '#607060';
            ctx.font = '10px Georgia';
            var times = ['Now', '1 mo', '6 mo', '1 yr', '2 yr'];
            times.forEach(function(t, i) {
                var x = padding + (i / (times.length - 1)) * graphWidth;
                ctx.fillText(t, x, height - padding + 15);
            });

            // Draw exponential (rational) curve
            ctx.strokeStyle = '#2ecc71';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (var i = 0; i <= 100; i++) {
                var x = padding + (i / 100) * graphWidth;
                var t = i / 100 * 2; // 0 to 2 years
                var v = Math.exp(-0.5 * t); // Exponential discount
                var y = height - padding - v * graphHeight;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Draw hyperbolic (human) curve
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 3;
            ctx.beginPath();
            for (var i = 0; i <= 100; i++) {
                var x = padding + (i / 100) * graphWidth;
                var t = i / 100 * 2;
                var k = 2; // Hyperbolic discount parameter
                var v = 1 / (1 + k * t); // Hyperbolic discount
                var y = height - padding - v * graphHeight;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Mark the crossover point where preferences reverse
            ctx.fillStyle = '#f39c12';
            ctx.beginPath();
            ctx.arc(padding + 0.25 * graphWidth, height - padding - 0.67 * graphHeight, 6, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = '#f39c12';
            ctx.font = '11px Georgia';
            ctx.fillText('‚Üê Preference reversal zone', padding + 0.25 * graphWidth + 60, height - padding - 0.67 * graphHeight + 4);
        }

        document.getElementById('restartBtn').addEventListener('click', function() {
            currentQ = 0;
            answers = [];
            document.getElementById('choiceCard').style.display = 'block';
            document.getElementById('resultsSection').classList.remove('visible');
            loadQuestion();
        });

        loadQuestion();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
