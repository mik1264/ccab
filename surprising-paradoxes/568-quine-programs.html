<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quines - Self-Replicating Programs - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Nunito:wght@300;400;500;600&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #0a0a15 0%, #101030 50%, #0a0a15 100%);
            min-height: 100vh;
            color: #e0e0e0;
        }
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #0f8;
            text-decoration: none;
            font-weight: 500;
            padding: 10px 20px;
            background: rgba(10,30,20,0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            border: 1px solid rgba(0,255,136,0.3);
            transition: all 0.3s ease;
        }
        .back-link:hover {
            background: rgba(20,50,30,0.9);
            transform: translateX(-5px);
        }
        header {
            text-align: center;
            padding: 80px 20px 20px;
        }
        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            background: linear-gradient(135deg, #0f8, #8f0, #ff0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #8f8;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
        }
        .paradox-highlight {
            background: linear-gradient(135deg, rgba(0,100,50,0.2), rgba(100,100,0,0.2));
            border: 1px solid rgba(0,255,136,0.4);
            border-radius: 15px;
            padding: 25px;
            margin: 30px auto;
            max-width: 800px;
            text-align: center;
        }
        .paradox-highlight h2 {
            font-family: 'Lora', serif;
            color: #ff0;
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        .paradox-highlight p {
            color: #cfc;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        .demo-container {
            max-width: 1000px;
            margin: 30px auto;
            padding: 0 20px;
        }
        .quine-demo {
            background: rgba(10,20,15,0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(0,255,136,0.3);
        }
        .quine-demo h3 {
            color: #8f8;
            font-family: 'Lora', serif;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .lang-badge {
            background: linear-gradient(135deg, #0f8, #080);
            color: #000;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: bold;
        }
        .code-container {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
        }
        .code-box {
            background: #0a0f0a;
            border-radius: 10px;
            padding: 15px;
            font-family: 'Fira Code', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            border: 1px solid rgba(0,255,136,0.2);
            position: relative;
        }
        .code-box pre {
            margin: 0;
            white-space: pre-wrap;
            word-break: break-all;
        }
        .code-box .label {
            position: absolute;
            top: -10px;
            left: 10px;
            background: #0a0f0a;
            padding: 0 5px;
            color: #666;
            font-size: 0.7rem;
            text-transform: uppercase;
        }
        .arrow {
            font-size: 2rem;
            color: #0f8;
            animation: pulse 1.5s ease-in-out infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        .run-btn {
            background: linear-gradient(135deg, #0f8, #8f0);
            color: #000;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }
        .run-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0,255,136,0.4);
        }
        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0,50,30,0.3);
            border-radius: 10px;
            font-size: 0.9rem;
            color: #aaa;
        }
        .highlight-data { color: #ff0; }
        .highlight-code { color: #0ff; }
        .visualization {
            background: rgba(10,20,15,0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(0,255,136,0.3);
        }
        canvas {
            display: block;
            margin: 0 auto;
            border-radius: 10px;
            background: #050a05;
        }
        .essay {
            max-width: 800px;
            margin: 40px auto;
            padding: 0 20px;
        }
        .essay h2 {
            font-family: 'Lora', serif;
            color: #0f8;
            font-size: 1.8rem;
            margin: 40px 0 20px;
            border-bottom: 1px solid rgba(0,255,136,0.3);
            padding-bottom: 10px;
        }
        .essay p {
            color: #ccc;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: justify;
        }
        .essay strong {
            color: #ff0;
        }
        .quote-box {
            background: rgba(0,50,30,0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 3px solid #0f8;
        }
        .quote-box h4 {
            color: #8f8;
            margin-bottom: 10px;
            font-family: 'Fira Code', monospace;
        }
        .quote-box p {
            margin-bottom: 0;
            font-size: 0.95rem;
        }
        blockquote {
            border-left: 3px solid #ff0;
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: #cfc;
        }
        .math-box {
            background: rgba(30,30,50,0.5);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            font-family: 'Times New Roman', serif;
            font-size: 1.2rem;
            color: #adf;
        }
        .sources {
            background: rgba(10,30,20,0.5);
            border-radius: 15px;
            padding: 20px;
            margin-top: 40px;
        }
        .sources h3 {
            color: #0f8;
            margin-bottom: 15px;
        }
        .sources ul {
            list-style: none;
        }
        .sources li {
            margin: 10px 0;
        }
        .sources a {
            color: #8ff;
            text-decoration: none;
        }
        .sources a:hover {
            text-decoration: underline;
        }
        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .code-container { grid-template-columns: 1fr; }
            .arrow { transform: rotate(90deg); }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <header>
        <h1>Quines</h1>
        <p class="subtitle">Programs that print themselves — the ultimate self-reference</p>
    </header>

    <div class="paradox-highlight">
        <h2>The Paradox</h2>
        <p>A <strong>quine</strong> is a program that outputs its own source code — without reading any files. How can code describe itself? It's like a sentence that tells you exactly what it says, word for word. This should be impossible, yet quines exist in every programming language!</p>
    </div>

    <div class="demo-container">
        <div class="quine-demo">
            <h3>JavaScript Quine <span class="lang-badge">JavaScript</span></h3>
            <div class="code-container">
                <div class="code-box">
                    <span class="label">Source Code</span>
                    <pre id="jsSource">(function q(){console.log('('+q+')()');})();</pre>
                </div>
                <div class="arrow">→</div>
                <div class="code-box">
                    <span class="label">Output</span>
                    <pre id="jsOutput" style="color:#0f8;">Click "Run" to see output</pre>
                </div>
            </div>
            <button class="run-btn" onclick="runJsQuine()">▶ Run Quine</button>
            <div class="explanation">
                The function <span class="highlight-code">q</span> prints itself by combining the string <span class="highlight-data">'('+q+')'</span> (which JavaScript converts to the function's source) with <span class="highlight-data">'()'</span> to create the complete self-invoking call.
            </div>
        </div>

        <div class="quine-demo">
            <h3>Python Quine <span class="lang-badge">Python</span></h3>
            <div class="code-container">
                <div class="code-box">
                    <span class="label">Source Code</span>
                    <pre id="pySource">s='s=%r;print(s%%s)';print(s%s)</pre>
                </div>
                <div class="arrow">→</div>
                <div class="code-box">
                    <span class="label">Output</span>
                    <pre id="pyOutput" style="color:#0f8;">Click "Run" to see output</pre>
                </div>
            </div>
            <button class="run-btn" onclick="runPyQuine()">▶ Run Quine</button>
            <div class="explanation">
                The string <span class="highlight-data">s</span> contains the template with <span class="highlight-code">%r</span> (repr). When <span class="highlight-code">s%s</span> runs, it substitutes <span class="highlight-data">s</span> into itself, quotes and all!
            </div>
        </div>

        <div class="quine-demo">
            <h3>The Shortest Quine <span class="lang-badge">Empty</span></h3>
            <div class="code-container">
                <div class="code-box">
                    <span class="label">Source Code</span>
                    <pre id="emptySource" style="color:#666;font-style:italic;">(empty file)</pre>
                </div>
                <div class="arrow">→</div>
                <div class="code-box">
                    <span class="label">Output</span>
                    <pre id="emptyOutput" style="color:#666;font-style:italic;">(empty output)</pre>
                </div>
            </div>
            <div class="explanation">
                Technically, an empty program that produces empty output is a quine! But this "trivial quine" is usually disallowed — the challenge is to write <em>non-empty</em> quines.
            </div>
        </div>

        <div class="visualization">
            <h3 style="color:#8f8;text-align:center;margin-bottom:15px;">The Quine Structure Visualized</h3>
            <canvas id="quineCanvas" width="800" height="350"></canvas>
            <div style="text-align:center;margin-top:15px;font-size:0.9rem;color:#888;">
                Every quine has two parts: DATA (the recipe) and CODE (the chef). The code uses the data to reconstruct both itself AND the data!
            </div>
        </div>
    </div>

    <div class="essay">
        <h2>The Bootstrap Problem</h2>

        <p>Imagine trying to write a sentence that describes exactly what it says. Not just the meaning — the actual characters. Every quote mark, every space, every letter. If you try, you hit a wall: to describe quotes, you need quotes around the quote marks, and to describe <em>those</em> quotes, you need more quotes...</p>

        <p>This is the quine paradox. It seems like infinite regression should make self-description impossible.</p>

        <div class="quote-box">
            <h4>"yields falsehood when preceded by its quotation"</h4>
            <p>yields falsehood when preceded by its quotation.</p>
            <p style="margin-top:10px;font-size:0.8rem;color:#888;">— Quine's Paradox, the linguistic inspiration for computational quines</p>
        </div>

        <h2>The Kleene Magic Trick</h2>

        <p>In 1938, logician Stephen Kleene proved something remarkable: in any sufficiently powerful computational system, <strong>self-replication is always possible</strong>. This is the Recursion Theorem, and it guarantees quines exist in every Turing-complete language.</p>

        <p>The trick has two parts:</p>

        <div class="math-box">
            QUINE = CODE(DATA)<br>
            where DATA = description of CODE
        </div>

        <p>Think of it like DNA. The <strong>DATA</strong> is the genetic information — a complete blueprint. The <strong>CODE</strong> is the cellular machinery that reads the blueprint and builds a new cell (including copying the DNA itself).</p>

        <h2>Why This Matters</h2>

        <p>Quines aren't just clever puzzles. They illuminate deep connections:</p>

        <p><strong>Gödel's Incompleteness Theorem:</strong> Gödel's proof works by constructing a mathematical statement that "talks about itself." The same diagonalization technique that makes quines possible also makes formal systems fundamentally incomplete.</p>

        <p><strong>Computer Viruses:</strong> Self-replicating code is the basis of all computer viruses. Understanding quines helps us understand how code can spread autonomously.</p>

        <p><strong>The Origin of Life:</strong> How did the first self-replicating molecule arise? The quine problem — bootstrap self-reference — is the same puzzle faced by primordial chemistry.</p>

        <blockquote>"The quine is a fixed point of the execution environment, when viewed as a function transforming programs into their outputs." — Mathematical definition</blockquote>

        <h2>Variations and Extensions</h2>

        <p><strong>Intron Quines:</strong> Quines where you can insert arbitrary "junk" code that doesn't affect the output — like biological introns in DNA.</p>

        <p><strong>Polyglot Quines:</strong> Programs that are valid in multiple languages and produce their own source code in all of them!</p>

        <p><strong>Relay Quines:</strong> Program A outputs Program B, which outputs Program A. Self-reference across time.</p>

        <p><strong>Radiation-Hardened Quines:</strong> Quines that still work even if you delete any single character. Robustness through redundancy.</p>

        <h2>The Philosophical Depth</h2>

        <p>Douglas Hofstadter, in <em>Gödel, Escher, Bach</em>, argues that quines reveal something about consciousness itself. We are, in a sense, biological quines — systems that model themselves, creating the strange loop of self-awareness.</p>

        <p>The fact that programs can describe themselves, that mathematics can reference itself, that minds can think about thinking — these are all instances of the same deep pattern. The quine is the simplest possible example of this self-referential magic.</p>

        <div class="sources">
            <h3>Sources & Further Reading</h3>
            <ul>
                <li><a href="https://en.wikipedia.org/wiki/Quine_(computing)" target="_blank">Wikipedia: Quine (Computing)</a></li>
                <li><a href="http://www.madore.org/~david/computers/quine.html" target="_blank">David Madore's Quine Page</a></li>
                <li><a href="https://rosettacode.org/wiki/Quine" target="_blank">Rosetta Code: Quines in 200+ Languages</a></li>
                <li><a href="https://en.wikipedia.org/wiki/Strange_loop" target="_blank">Wikipedia: Strange Loops</a></li>
                <li><a href="https://crypto.stanford.edu/~blynn/lambda/quine.html" target="_blank">Lambda Calculus and Quines</a></li>
            </ul>
        </div>
    </div>

    <script>
        // JavaScript Quine runner
        function runJsQuine() {
            const source = "(function q(){console.log('('+q+')()');})();";
            // Simulate the quine's output
            const q = function q(){return '('+q+')()';};
            const output = '(' + q.toString() + ')();';
            document.getElementById('jsOutput').textContent = output;
            document.getElementById('jsOutput').style.color = '#0f8';

            // Animate match
            animateMatch('jsSource', 'jsOutput');
        }

        // Python Quine simulation
        function runPyQuine() {
            const s = "s=%r;print(s%%s)";
            // Python's %r adds quotes around the string
            const output = "s='" + s + "';print(s%s)";
            document.getElementById('pyOutput').textContent = output;
            document.getElementById('pyOutput').style.color = '#0f8';

            animateMatch('pySource', 'pyOutput');
        }

        function animateMatch(srcId, outId) {
            const src = document.getElementById(srcId);
            const out = document.getElementById(outId);

            out.style.transition = 'background 0.3s';
            out.style.background = 'rgba(0,255,136,0.2)';
            setTimeout(() => {
                out.style.background = 'transparent';
            }, 500);
        }

        // Canvas visualization
        const canvas = document.getElementById('quineCanvas');
        const ctx = canvas.getContext('2d');

        // High DPI
        const dpr = window.devicePixelRatio || 1;
        canvas.width = 800 * dpr;
        canvas.height = 350 * dpr;
        ctx.scale(dpr, dpr);
        canvas.style.width = '800px';
        canvas.style.height = '350px';

        const width = 800;
        const height = 350;

        let time = 0;

        function drawQuineStructure() {
            ctx.fillStyle = '#050a05';
            ctx.fillRect(0, 0, width, height);

            const centerX = width / 2;
            const centerY = height / 2;

            // DATA box
            const dataX = 150;
            const dataY = centerY - 60;
            const boxW = 200;
            const boxH = 120;

            // Pulsing glow
            const glow = Math.sin(time * 0.03) * 0.3 + 0.7;

            // DATA box
            ctx.fillStyle = `rgba(255, 255, 0, ${glow * 0.2})`;
            ctx.strokeStyle = '#ff0';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.roundRect(dataX - boxW/2, dataY - boxH/2, boxW, boxH, 10);
            ctx.fill();
            ctx.stroke();

            ctx.fillStyle = '#ff0';
            ctx.font = 'bold 20px Nunito';
            ctx.textAlign = 'center';
            ctx.fillText('DATA', dataX, dataY - 30);

            ctx.font = '12px Fira Code';
            ctx.fillStyle = '#cca';
            ctx.fillText('"print(s%s)"', dataX, dataY);
            ctx.fillText('The recipe', dataX, dataY + 25);

            // CODE box
            const codeX = width - 150;
            const codeY = centerY - 60;

            ctx.fillStyle = `rgba(0, 255, 255, ${glow * 0.2})`;
            ctx.strokeStyle = '#0ff';
            ctx.beginPath();
            ctx.roundRect(codeX - boxW/2, codeY - boxH/2, boxW, boxH, 10);
            ctx.fill();
            ctx.stroke();

            ctx.fillStyle = '#0ff';
            ctx.font = 'bold 20px Nunito';
            ctx.fillText('CODE', codeX, codeY - 30);

            ctx.font = '12px Fira Code';
            ctx.fillStyle = '#acc';
            ctx.fillText('s=%r;', codeX, codeY);
            ctx.fillText('The chef', codeX, codeY + 25);

            // OUTPUT box
            const outX = centerX;
            const outY = centerY + 100;
            const outW = 350;
            const outH = 80;

            ctx.fillStyle = `rgba(0, 255, 136, ${glow * 0.2})`;
            ctx.strokeStyle = '#0f8';
            ctx.beginPath();
            ctx.roundRect(outX - outW/2, outY - outH/2, outW, outH, 10);
            ctx.fill();
            ctx.stroke();

            ctx.fillStyle = '#0f8';
            ctx.font = 'bold 20px Nunito';
            ctx.fillText('OUTPUT = SOURCE', outX, outY - 15);

            ctx.font = '12px Fira Code';
            ctx.fillStyle = '#8c8';
            ctx.fillText("s='s=%r;print(s%%s)';print(s%s)", outX, outY + 15);

            // Arrows
            ctx.strokeStyle = '#888';
            ctx.lineWidth = 2;

            // DATA -> CODE arrow (reading)
            ctx.beginPath();
            ctx.moveTo(dataX + boxW/2, dataY);
            ctx.lineTo(codeX - boxW/2 - 20, codeY);
            ctx.stroke();

            // Arrow head
            ctx.fillStyle = '#888';
            ctx.beginPath();
            ctx.moveTo(codeX - boxW/2, codeY);
            ctx.lineTo(codeX - boxW/2 - 15, codeY - 8);
            ctx.lineTo(codeX - boxW/2 - 15, codeY + 8);
            ctx.closePath();
            ctx.fill();

            // Label
            ctx.fillStyle = '#666';
            ctx.font = '11px Nunito';
            ctx.fillText('reads', centerX, dataY - 15);

            // CODE -> OUTPUT (prints DATA)
            const arrowProgress1 = (time % 200) / 200;
            const arrow1X = codeX - 30 + (outX - codeX + 30) * arrowProgress1;
            const arrow1Y = codeY + boxH/2 + 10 + (outY - outH/2 - codeY - boxH/2 - 20) * arrowProgress1;

            ctx.strokeStyle = '#0ff';
            ctx.beginPath();
            ctx.moveTo(codeX - 30, codeY + boxH/2);
            ctx.quadraticCurveTo(codeX - 30, outY - 60, outX + 50, outY - outH/2);
            ctx.stroke();

            // Animated dot
            ctx.fillStyle = '#0ff';
            ctx.beginPath();
            ctx.arc(arrow1X, arrow1Y, 5, 0, Math.PI * 2);
            ctx.fill();

            // DATA -> OUTPUT (copied)
            ctx.strokeStyle = '#ff0';
            ctx.beginPath();
            ctx.moveTo(dataX + 30, dataY + boxH/2);
            ctx.quadraticCurveTo(dataX + 30, outY - 60, outX - 50, outY - outH/2);
            ctx.stroke();

            const arrowProgress2 = ((time + 100) % 200) / 200;
            const arrow2X = dataX + 30 + (outX - 50 - dataX - 30) * arrowProgress2;
            const arrow2Y = dataY + boxH/2 + 10 + (outY - outH/2 - dataY - boxH/2 - 20) * arrowProgress2;

            ctx.fillStyle = '#ff0';
            ctx.beginPath();
            ctx.arc(arrow2X, arrow2Y, 5, 0, Math.PI * 2);
            ctx.fill();

            // Labels
            ctx.fillStyle = '#0aa';
            ctx.font = '10px Nunito';
            ctx.fillText('prints CODE', codeX + 50, outY - 55);

            ctx.fillStyle = '#aa0';
            ctx.fillText('prints DATA', dataX - 40, outY - 55);

            // Key insight
            ctx.fillStyle = '#fff';
            ctx.font = '14px Nunito';
            ctx.textAlign = 'center';
            ctx.fillText('DATA tells CODE how to print both DATA and CODE!', centerX, 30);

            time++;
        }

        function animate() {
            drawQuineStructure();
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
