<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newcomb's Paradox - One Box or Two?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a0a2e 0%, #2d1b4e 50%, #1a1a2e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.4em;
            background: linear-gradient(135deg, #9b59b6, #f39c12, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #aaa;
            font-style: italic;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #9b59b6;
            text-decoration: none;
            font-size: 1.1em;
            opacity: 0.8;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .back-link:hover {
            opacity: 1;
        }

        .game-area {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(155, 89, 182, 0.3);
        }

        .game-area h2 {
            color: #9b59b6;
            margin-bottom: 20px;
            text-align: center;
        }

        .predictor-section {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(155, 89, 182, 0.1);
            border-radius: 10px;
        }

        .predictor-section h3 {
            color: #f39c12;
            margin-bottom: 15px;
        }

        .accuracy-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .accuracy-control input {
            width: 200px;
            accent-color: #9b59b6;
        }

        .accuracy-value {
            color: #f39c12;
            font-weight: bold;
            font-size: 1.3em;
            min-width: 60px;
        }

        .boxes-display {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .box {
            width: 180px;
            height: 140px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .box:hover {
            transform: translateY(-5px);
        }

        .box.transparent {
            background: rgba(46, 204, 113, 0.3);
            border: 3px solid #2ecc71;
        }

        .box.opaque {
            background: linear-gradient(135deg, #34495e, #2c3e50);
            border: 3px solid #9b59b6;
        }

        .box.selected {
            box-shadow: 0 0 30px rgba(243, 156, 18, 0.6);
            transform: scale(1.05);
        }

        .box-label {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .box.transparent .box-label { color: #2ecc71; }
        .box.opaque .box-label { color: #9b59b6; }

        .box-contents {
            font-size: 1.8em;
            font-weight: bold;
        }

        .box.transparent .box-contents { color: #2ecc71; }
        .box.opaque .box-contents { color: #ccc; }

        .box-description {
            font-size: 0.85em;
            color: #aaa;
            margin-top: 10px;
        }

        .choice-buttons {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-one-box {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
        }

        .btn-two-box {
            background: linear-gradient(135deg, #2ecc71, #27ae60);
            color: white;
        }

        .btn-one-box:hover, .btn-two-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ccc;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 12px 30px;
        }

        .result-display {
            text-align: center;
            padding: 25px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            margin-top: 20px;
            min-height: 100px;
        }

        .result-display h3 {
            color: #f39c12;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .winnings {
            font-size: 2.5em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .winnings.million { color: #f39c12; }
        .winnings.thousand { color: #2ecc71; }
        .winnings.both { color: #3498db; }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 25px;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-label {
            color: #888;
            font-size: 0.85em;
            margin-bottom: 5px;
        }

        .stat-value {
            color: #9b59b6;
            font-size: 1.3em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .explanation {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(155, 89, 182, 0.3);
        }

        .explanation h2 {
            color: #9b59b6;
            margin-bottom: 15px;
        }

        .explanation p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #ccc;
        }

        .argument-box {
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .argument-box.one-box {
            background: rgba(155, 89, 182, 0.15);
            border-left: 4px solid #9b59b6;
        }

        .argument-box.two-box {
            background: rgba(46, 204, 113, 0.15);
            border-left: 4px solid #2ecc71;
        }

        .argument-box h3 {
            margin-bottom: 10px;
        }

        .argument-box.one-box h3 { color: #9b59b6; }
        .argument-box.two-box h3 { color: #2ecc71; }

        .highlight { color: #f39c12; font-weight: bold; }
        .one-box-color { color: #9b59b6; font-weight: bold; }
        .two-box-color { color: #2ecc71; font-weight: bold; }

        .simulation-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .simulation-panel h3 {
            color: #f39c12;
            margin-bottom: 15px;
            text-align: center;
        }

        .sim-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>Newcomb's Paradox</h1>
            <p class="subtitle">A perfect predictor has filled the boxes based on what you'll choose.<br>Do you take <span class="one-box-color">ONE BOX</span> or <span class="two-box-color">TWO BOXES</span>?</p>
        </header>

        <div class="game-area">
            <h2>The Game</h2>

            <div class="predictor-section">
                <h3>Omega the Predictor</h3>
                <p style="color: #aaa; margin-bottom: 15px;">
                    Omega has predicted your choice and already filled Box B accordingly.<br>
                    Omega has been correct <span id="accuracyText">99%</span> of the time in previous games.
                </p>
                <div class="accuracy-control">
                    <label style="color: #aaa;">Predictor Accuracy:</label>
                    <input type="range" id="accuracySlider" min="50" max="100" value="99">
                    <span class="accuracy-value" id="accuracyValue">99%</span>
                </div>
            </div>

            <div class="boxes-display">
                <div class="box transparent" id="boxA">
                    <div class="box-label">Box A</div>
                    <div class="box-contents">$1,000</div>
                    <div class="box-description">Transparent - Always contains $1,000</div>
                </div>
                <div class="box opaque" id="boxB">
                    <div class="box-label">Box B</div>
                    <div class="box-contents">???</div>
                    <div class="box-description">Opaque - $1,000,000 or $0</div>
                </div>
            </div>

            <p style="text-align: center; color: #aaa; margin-bottom: 20px;">
                <strong>Omega's Rule:</strong> If Omega predicted you'll take <span class="one-box-color">only Box B</span>, it contains <span class="highlight">$1,000,000</span>.<br>
                If Omega predicted you'll take <span class="two-box-color">both boxes</span>, Box B is <span style="color: #e74c3c;">EMPTY</span>.
            </p>

            <div class="choice-buttons">
                <button class="btn-one-box" onclick="makeChoice('one')">Take Only Box B</button>
                <button class="btn-two-box" onclick="makeChoice('two')">Take Both Boxes</button>
                <button class="btn-secondary" onclick="resetGame()">Reset</button>
            </div>

            <div class="result-display" id="resultDisplay">
                <p style="color: #888;">Make your choice to see what happens...</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Games Played</div>
                    <div class="stat-value" id="gamesPlayed">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">One-Box Wins</div>
                    <div class="stat-value" id="oneBoxWins">$0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Two-Box Wins</div>
                    <div class="stat-value" id="twoBoxWins">$0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">One-Box Avg</div>
                    <div class="stat-value" id="oneBoxAvg">$0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Two-Box Avg</div>
                    <div class="stat-value" id="twoBoxAvg">$0</div>
                </div>
            </div>

            <div class="simulation-panel">
                <h3>Run Simulation</h3>
                <div class="sim-controls">
                    <button class="btn-one-box" onclick="simulate('one', 100)" style="padding: 10px 20px;">100 One-Boxers</button>
                    <button class="btn-two-box" onclick="simulate('two', 100)" style="padding: 10px 20px;">100 Two-Boxers</button>
                    <button class="btn-secondary" onclick="resetStats()" style="padding: 10px 20px;">Clear Stats</button>
                </div>
            </div>
        </div>

        <div class="explanation">
            <h2>The Paradox</h2>
            <p>
                Newcomb's Paradox, created by physicist William Newcomb in 1960, divides philosophers
                and decision theorists into two camps: <span class="one-box-color">one-boxers</span>
                and <span class="two-box-color">two-boxers</span>. Both sides have compelling arguments!
            </p>

            <div class="argument-box two-box">
                <h3>The Two-Box Argument (Causal Decision Theory)</h3>
                <p>
                    "Omega has already made its prediction. Box B is already either full or empty—my choice
                    <strong>cannot change what's inside</strong>. Whatever Box B contains, taking both boxes
                    gets me $1,000 MORE than taking just Box B. It's simply dominant strategy!"
                </p>
                <p>
                    <em>Expected value: If Box B is full, I get $1,001,000. If empty, I get $1,000.
                    Either way, better than one-boxing!</em>
                </p>
            </div>

            <div class="argument-box one-box">
                <h3>The One-Box Argument (Evidential Decision Theory)</h3>
                <p>
                    "Omega is nearly perfect. If I'm the type of person who two-boxes, Omega predicted that
                    and left Box B empty—I get $1,000. If I'm the type who one-boxes, Omega predicted that
                    and I get <strong>$1,000,000</strong>. The empirical evidence is clear: one-boxers
                    walk away rich!"
                </p>
                <p>
                    <em>Expected value with 99% accuracy: 0.99 × $1,000,000 + 0.01 × $0 = $990,000</em>
                </p>
            </div>

            <h2>Why Is This Hard?</h2>
            <p>
                The paradox reveals a deep tension in decision theory. <span class="two-box-color">Causal
                Decision Theory</span> says you should maximize outcomes based on what your actions
                <em>cause</em>. <span class="one-box-color">Evidential Decision Theory</span> says you
                should maximize based on what your actions <em>reveal</em> about the world.
            </p>
            <p>
                In most situations, these agree. Newcomb's Paradox is special because your choice is
                correlated with (predicted by) the box contents, even though it doesn't cause them.
            </p>

            <div class="argument-box one-box">
                <h3>The Philosophical Divide</h3>
                <p>
                    Surveys show philosophers split roughly 50-50! Notable one-boxers include
                    <strong>Evidential Decision Theorists</strong> and proponents of
                    <strong>Functional Decision Theory</strong>. Notable two-boxers include
                    <strong>Causal Decision Theorists</strong> like David Lewis.
                </p>
                <p>
                    Robert Nozick, who first published the paradox in 1969, said: "I have put this
                    problem to a large number of people... Almost no one is indifferent. People seem
                    to divide into two types: one-boxers and two-boxers."
                </p>
            </div>

            <h2>What About Free Will?</h2>
            <p>
                Some argue the paradox assumes away free will—if Omega can predict you, are you really
                choosing? Others counter that prediction doesn't negate choice: your decision is still
                <em>yours</em>, even if predictable. The paradox probes our intuitions about causation,
                prediction, and rational agency.
            </p>
        </div>
    </div>

    <script>
        let stats = {
            gamesPlayed: 0,
            oneBoxPlays: 0,
            twoBoxPlays: 0,
            oneBoxTotal: 0,
            twoBoxTotal: 0
        };

        let accuracy = 99;

        document.getElementById('accuracySlider').addEventListener('input', function() {
            accuracy = parseInt(this.value);
            document.getElementById('accuracyValue').textContent = accuracy + '%';
            document.getElementById('accuracyText').textContent = accuracy + '%';
        });

        function makeChoice(choice) {
            const predictedCorrectly = Math.random() * 100 < accuracy;

            let boxBContents, winnings, resultHTML;

            if (choice === 'one') {
                // One-boxing
                if (predictedCorrectly) {
                    // Omega predicted one-box, put $1M in B
                    boxBContents = 1000000;
                    winnings = 1000000;
                } else {
                    // Omega wrongly predicted two-box, B is empty
                    boxBContents = 0;
                    winnings = 0;
                }

                stats.oneBoxPlays++;
                stats.oneBoxTotal += winnings;

                document.getElementById('boxB').querySelector('.box-contents').textContent =
                    boxBContents === 1000000 ? '$1,000,000' : '$0';

                resultHTML = `
                    <h3>You took only Box B</h3>
                    <p>Omega ${predictedCorrectly ? 'correctly' : 'incorrectly'} predicted your choice.</p>
                    <p>Box B contained: <strong>${boxBContents === 1000000 ? '$1,000,000' : '$0'}</strong></p>
                    <div class="winnings ${winnings === 1000000 ? 'million' : ''}"">
                        You won: $${winnings.toLocaleString()}
                    </div>
                `;
            } else {
                // Two-boxing
                if (predictedCorrectly) {
                    // Omega predicted two-box, B is empty
                    boxBContents = 0;
                    winnings = 1000;
                } else {
                    // Omega wrongly predicted one-box, B has $1M
                    boxBContents = 1000000;
                    winnings = 1001000;
                }

                stats.twoBoxPlays++;
                stats.twoBoxTotal += winnings;

                document.getElementById('boxB').querySelector('.box-contents').textContent =
                    boxBContents === 1000000 ? '$1,000,000' : '$0';

                resultHTML = `
                    <h3>You took both boxes</h3>
                    <p>Omega ${predictedCorrectly ? 'correctly' : 'incorrectly'} predicted your choice.</p>
                    <p>Box A: $1,000 | Box B: ${boxBContents === 1000000 ? '$1,000,000' : '$0'}</p>
                    <div class="winnings ${winnings > 1000 ? 'both' : 'thousand'}">
                        You won: $${winnings.toLocaleString()}
                    </div>
                `;
            }

            stats.gamesPlayed++;
            document.getElementById('resultDisplay').innerHTML = resultHTML;
            updateStats();
        }

        function simulate(choice, n) {
            for (let i = 0; i < n; i++) {
                const predictedCorrectly = Math.random() * 100 < accuracy;

                if (choice === 'one') {
                    const winnings = predictedCorrectly ? 1000000 : 0;
                    stats.oneBoxPlays++;
                    stats.oneBoxTotal += winnings;
                } else {
                    const winnings = predictedCorrectly ? 1000 : 1001000;
                    stats.twoBoxPlays++;
                    stats.twoBoxTotal += winnings;
                }
                stats.gamesPlayed++;
            }
            updateStats();

            document.getElementById('resultDisplay').innerHTML = `
                <h3>Simulation Complete</h3>
                <p>Ran ${n} ${choice === 'one' ? 'one-boxers' : 'two-boxers'} at ${accuracy}% predictor accuracy.</p>
                <p>Check the statistics below!</p>
            `;
        }

        function updateStats() {
            document.getElementById('gamesPlayed').textContent = stats.gamesPlayed;
            document.getElementById('oneBoxWins').textContent = '$' + stats.oneBoxTotal.toLocaleString();
            document.getElementById('twoBoxWins').textContent = '$' + stats.twoBoxTotal.toLocaleString();

            const oneAvg = stats.oneBoxPlays > 0 ? Math.round(stats.oneBoxTotal / stats.oneBoxPlays) : 0;
            const twoAvg = stats.twoBoxPlays > 0 ? Math.round(stats.twoBoxTotal / stats.twoBoxPlays) : 0;

            document.getElementById('oneBoxAvg').textContent = '$' + oneAvg.toLocaleString();
            document.getElementById('twoBoxAvg').textContent = '$' + twoAvg.toLocaleString();
        }

        function resetGame() {
            document.getElementById('boxB').querySelector('.box-contents').textContent = '???';
            document.getElementById('resultDisplay').innerHTML =
                '<p style="color: #888;">Make your choice to see what happens...</p>';
        }

        function resetStats() {
            stats = {
                gamesPlayed: 0,
                oneBoxPlays: 0,
                twoBoxPlays: 0,
                oneBoxTotal: 0,
                twoBoxTotal: 0
            };
            updateStats();
            resetGame();
        }
    </script>
</body>
</html>
