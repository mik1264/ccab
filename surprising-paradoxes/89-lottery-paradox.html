<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Lottery Paradox - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ticket-gold: #ffd700;
            --belief-blue: #4361ee;
            --rational-green: #06d6a0;
            --contradiction-red: #ef476f;
            --dark-bg: #1a1a2e;
            --card-bg: rgba(67, 97, 238, 0.15);
            --light-text: #e8e8f0;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Nunito', sans-serif;
            background: var(--dark-bg);
            min-height: 100vh;
            color: var(--light-text);
            overflow-x: hidden;
        }

        /* Falling tickets background */
        .tickets-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            opacity: 0.1;
        }
        .ticket-float {
            position: absolute;
            font-size: 1.5rem;
            animation: fall 15s linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-100px) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(360deg); }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--ticket-gold);
            text-decoration: none;
            font-weight: 500;
            padding: 10px 20px;
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            transition: all 0.3s ease;
            margin-bottom: 30px;
        }
        .back-link:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateX(-5px);
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            font-weight: 600;
            background: linear-gradient(135deg, var(--ticket-gold), var(--belief-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-align: center;
        }
        h2 {
            font-family: 'Lora', serif;
            font-size: 1.8rem;
            color: var(--ticket-gold);
            margin: 40px 0 20px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
            padding-bottom: 10px;
        }
        h3 {
            font-family: 'Lora', serif;
            font-size: 1.3rem;
            color: var(--belief-blue);
            margin: 25px 0 15px;
        }

        .subtitle {
            text-align: center;
            color: rgba(232, 232, 240, 0.7);
            font-size: 1.1rem;
            margin-bottom: 30px;
        }

        .card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid rgba(67, 97, 238, 0.2);
        }

        p {
            line-height: 1.8;
            margin-bottom: 15px;
        }

        /* Lottery Drum */
        .lottery-container {
            text-align: center;
            padding: 30px;
            margin: 30px 0;
        }
        .lottery-drum {
            display: inline-flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            max-width: 600px;
            padding: 30px;
            background: rgba(0,0,0,0.4);
            border-radius: 20px;
            border: 3px solid var(--ticket-gold);
        }
        .lottery-ticket {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--ticket-gold), #ffa500);
            color: var(--dark-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        .lottery-ticket:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }
        .lottery-ticket.believed-lose {
            background: linear-gradient(135deg, var(--rational-green), #04c594);
        }
        .lottery-ticket.believed-lose::after {
            content: 'âœ—';
            position: absolute;
            font-size: 1.2rem;
        }
        .lottery-ticket.winner {
            background: linear-gradient(135deg, var(--contradiction-red), #d4366e);
            animation: pulse 0.5s ease infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        /* Stats Display */
        .stats-panel {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .stat-box {
            padding: 20px 30px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            text-align: center;
        }
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--ticket-gold);
        }
        .stat-label {
            font-size: 0.9rem;
            color: rgba(232, 232, 240, 0.7);
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .control-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, var(--belief-blue), #3451c7);
            border: none;
            border-radius: 25px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .control-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(67, 97, 238, 0.5);
        }
        .control-btn.gold {
            background: linear-gradient(135deg, var(--ticket-gold), #ffa500);
            color: var(--dark-bg);
        }
        .control-btn.danger {
            background: linear-gradient(135deg, var(--contradiction-red), #d4366e);
        }

        /* Belief Chain */
        .belief-chain {
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            margin: 20px 0;
        }
        .belief-step {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            margin: 10px 0;
            background: rgba(67, 97, 238, 0.1);
            border-radius: 10px;
            border-left: 4px solid var(--belief-blue);
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.4s ease;
        }
        .belief-step.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .belief-step.contradiction {
            border-left-color: var(--contradiction-red);
            background: rgba(239, 71, 111, 0.2);
        }
        .step-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--belief-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        .step-icon.check {
            background: var(--rational-green);
        }
        .step-icon.cross {
            background: var(--contradiction-red);
        }

        /* Three Principles */
        .principles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .principle-card {
            padding: 25px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            border: 2px solid var(--belief-blue);
            transition: all 0.3s ease;
        }
        .principle-card h4 {
            color: var(--ticket-gold);
            font-family: 'Lora', serif;
            margin-bottom: 10px;
        }
        .principle-card.conflict {
            border-color: var(--contradiction-red);
            background: rgba(239, 71, 111, 0.1);
        }
        .principle-card.conflict h4 {
            color: var(--contradiction-red);
        }

        /* Contradiction Display */
        .contradiction-box {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, rgba(239, 71, 111, 0.2), rgba(67, 97, 238, 0.2));
            border: 2px solid var(--contradiction-red);
            border-radius: 20px;
            margin: 30px 0;
            display: none;
        }
        .contradiction-box.active {
            display: block;
            animation: shake 0.5s ease;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        .contradiction-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        /* Solutions */
        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .solution-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(67, 97, 238, 0.3);
            transition: all 0.3s ease;
        }
        .solution-card:hover {
            transform: translateY(-5px);
            border-color: var(--ticket-gold);
        }
        .solution-card h4 {
            color: var(--belief-blue);
            margin-bottom: 10px;
            font-family: 'Lora', serif;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 30px;
            margin: 30px 0;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(to bottom, var(--ticket-gold), var(--belief-blue));
        }
        .timeline-item {
            position: relative;
            padding: 20px;
            margin-bottom: 20px;
            background: var(--card-bg);
            border-radius: 15px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -34px;
            top: 25px;
            width: 12px;
            height: 12px;
            background: var(--ticket-gold);
            border-radius: 50%;
            border: 3px solid var(--dark-bg);
        }
        .timeline-year {
            font-weight: bold;
            color: var(--ticket-gold);
            margin-bottom: 5px;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(67, 97, 238, 0.15));
            border: 2px solid var(--ticket-gold);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        code {
            background: rgba(67, 97, 238, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .lottery-ticket { width: 40px; height: 40px; font-size: 0.75rem; }
            .stat-box { padding: 15px 20px; }
        }
    </style>
</head>
<body>
    <!-- Falling Tickets Background -->
    <div class="tickets-bg" id="ticketsBg"></div>

    <div class="container">
        <a href="index.html" class="back-link">
            <span>&#8592;</span> Back to Paradoxes
        </a>

        <h1>The Lottery Paradox</h1>
        <p class="subtitle">When Rational Beliefs Become Irrational Together</p>

        <!-- The Paradox -->
        <div class="card">
            <h2>The Paradox</h2>
            <p>Imagine a fair lottery with 1,000 tickets. Exactly one ticket will win. You know this for certain.</p>

            <p>Now consider any specific ticket - say, ticket #472. What's the probability it will lose? <strong>99.9%</strong>. Is it rational to believe it will lose? Most people say yes.</p>

            <p>But here's the problem: this reasoning applies to <em>every</em> ticket. You can rationally believe each individual ticket will lose. Yet you KNOW one ticket must win!</p>

            <div class="highlight-box">
                <p style="font-size: 1.1rem;"><strong>The contradiction:</strong></p>
                <p>âœ“ Rational to believe: "Ticket 1 will lose"</p>
                <p>âœ“ Rational to believe: "Ticket 2 will lose"</p>
                <p>â‹®</p>
                <p>âœ“ Rational to believe: "Ticket 1000 will lose"</p>
                <p style="color: var(--contradiction-red); margin-top: 10px;">âˆ´ Rational to believe: "NO ticket will win" â€” But one MUST win!</p>
            </div>
        </div>

        <!-- Interactive Lottery -->
        <div class="card">
            <h2>Experience It Yourself</h2>
            <p>Click on tickets to mark your belief that they'll lose. Watch what happens when you believe rationally about each one...</p>

            <div class="lottery-container">
                <div class="lottery-drum" id="lotteryDrum">
                    <!-- Tickets generated by JS -->
                </div>
            </div>

            <div class="stats-panel">
                <div class="stat-box">
                    <div class="stat-value" id="believedCount">0</div>
                    <div class="stat-label">Tickets believed to lose</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="remainingCount">100</div>
                    <div class="stat-label">Tickets remaining</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="probability">99%</div>
                    <div class="stat-label">Probability each loses</div>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn gold" id="believeAll">Believe ALL Will Lose</button>
                <button class="control-btn" id="drawWinner">Draw Winner</button>
                <button class="control-btn danger" id="resetLottery">Reset</button>
            </div>

            <div class="contradiction-box" id="contradictionBox">
                <div class="contradiction-icon">&#x26A0;</div>
                <h3>Paradox!</h3>
                <p id="contradictionText"></p>
            </div>
        </div>

        <!-- The Logic Chain -->
        <div class="card">
            <h2>The Logical Structure</h2>

            <div class="controls">
                <button class="control-btn" id="showChain">Walk Through the Argument</button>
            </div>

            <div class="belief-chain" id="beliefChain">
                <div class="belief-step" data-step="1">
                    <div class="step-icon check">1</div>
                    <div class="step-content">
                        <strong>Premise:</strong> A fair 1,000-ticket lottery has exactly one winner.
                    </div>
                </div>
                <div class="belief-step" data-step="2">
                    <div class="step-icon check">2</div>
                    <div class="step-content">
                        <strong>Threshold Principle:</strong> If P(A) > 0.99, it's rational to believe A.
                    </div>
                </div>
                <div class="belief-step" data-step="3">
                    <div class="step-icon check">3</div>
                    <div class="step-content">
                        <strong>For ticket 1:</strong> P(loses) = 0.999 > 0.99 â†’ Rational to believe ticket 1 loses.
                    </div>
                </div>
                <div class="belief-step" data-step="4">
                    <div class="step-icon check">4</div>
                    <div class="step-content">
                        <strong>For all tickets:</strong> Same reasoning â†’ Rational to believe each ticket loses.
                    </div>
                </div>
                <div class="belief-step" data-step="5">
                    <div class="step-icon check">5</div>
                    <div class="step-content">
                        <strong>Closure Principle:</strong> If rational to believe A and B separately, rational to believe A âˆ§ B.
                    </div>
                </div>
                <div class="belief-step" data-step="6">
                    <div class="step-icon check">6</div>
                    <div class="step-content">
                        <strong>Conjunction:</strong> Rational to believe (Ticket 1 loses âˆ§ Ticket 2 loses âˆ§ ... âˆ§ Ticket 1000 loses).
                    </div>
                </div>
                <div class="belief-step contradiction" data-step="7">
                    <div class="step-icon cross">!</div>
                    <div class="step-content">
                        <strong style="color: var(--contradiction-red);">CONTRADICTION:</strong> That conjunction = "No ticket wins" â€” but we KNOW one wins!
                    </div>
                </div>
            </div>
        </div>

        <!-- The Three Principles -->
        <div class="card">
            <h2>The Three Conflicting Principles</h2>
            <p>The paradox reveals a tension between three seemingly reasonable principles:</p>

            <div class="principles-grid">
                <div class="principle-card">
                    <h4>1. High Probability â†’ Belief</h4>
                    <p>If something is very likely (say, > 99%), we're justified in believing it will happen. This seems basic to rational reasoning.</p>
                </div>

                <div class="principle-card">
                    <h4>2. Closure Under Conjunction</h4>
                    <p>If you rationally believe A, and rationally believe B, then you should rationally believe "A and B." Beliefs should combine coherently.</p>
                </div>

                <div class="principle-card conflict">
                    <h4>3. No Contradictions</h4>
                    <p>Rational belief sets must be consistent. You can't rationally believe something you know to be false.</p>
                </div>
            </div>

            <p style="margin-top: 20px;">All three principles seem correct, yet together they lead to irrationality. <strong>At least one must go.</strong></p>
        </div>

        <!-- History -->
        <div class="card">
            <h2>Historical Development</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-year">1961</div>
                    <p><strong>Henry E. Kyburg Jr.</strong> publishes "Probability and the Logic of Rational Belief," introducing the lottery paradox. He argues against deductive closure for rational acceptance.</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">1970s-80s</div>
                    <p>Debate intensifies. Some philosophers defend closure; others follow Kyburg in rejecting it. The paradox becomes central to <strong>formal epistemology</strong>.</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">1990s</div>
                    <p><strong>Keith DeRose</strong> and others connect the lottery paradox to the <strong>preface paradox</strong> (where an author believes each statement in their book but knows some must be wrong).</p>
                </div>
                <div class="timeline-item">
                    <div class="timeline-year">2000s-Present</div>
                    <p>New solutions emerge: <strong>contextualism</strong>, <strong>interest-relative invariantism</strong>, and <strong>permissibility-based approaches</strong>. Debate continues actively.</p>
                </div>
            </div>
        </div>

        <!-- Proposed Solutions -->
        <div class="card">
            <h2>Proposed Solutions</h2>

            <div class="solutions-grid">
                <div class="solution-card">
                    <h4>Reject High-Probability Belief</h4>
                    <p>Only believe what's probability 1 (certain). But this makes most beliefs irrational - you can't believe the sun will rise!</p>
                </div>

                <div class="solution-card">
                    <h4>Reject Closure (Kyburg)</h4>
                    <p>Believing A and believing B doesn't require believing "A and B." Beliefs don't have to aggregate. But this seems to fragment rationality.</p>
                </div>

                <div class="solution-card">
                    <h4>Contextualism</h4>
                    <p>"Rational belief" means different things in different contexts. When focusing on one ticket, belief is rational; when considering all, it's not.</p>
                </div>

                <div class="solution-card">
                    <h4>Permissibility Solution</h4>
                    <p>You're <em>permitted</em> to believe each ticket loses, but permissions don't aggregate. You can hold individual beliefs without combining them.</p>
                </div>

                <div class="solution-card">
                    <h4>Probability Preservation</h4>
                    <p>Only close under conjunctions that preserve high probability. "A and B" inherits justification only if P(Aâˆ§B) is also high enough.</p>
                </div>

                <div class="solution-card">
                    <h4>Knowledge-First View</h4>
                    <p>You don't actually <em>know</em> any ticket will lose (you just assign high probability). True beliefs require knowledge, not just high credence.</p>
                </div>
            </div>
        </div>

        <!-- Connection to Preface Paradox -->
        <div class="card">
            <h2>Related: The Preface Paradox</h2>

            <p>Consider an author who writes a long book. She believes each statement in the book is true (otherwise she wouldn't have written it). Yet she also believes, based on humility and experience, that the book contains at least one error.</p>

            <p>This is structurally identical to the lottery paradox:</p>
            <ul style="padding-left: 20px; line-height: 2;">
                <li>She believes Statement 1 is true</li>
                <li>She believes Statement 2 is true</li>
                <li>...</li>
                <li>She believes Statement n is true</li>
                <li><strong>Yet</strong> she believes "at least one statement is false"</li>
            </ul>

            <p style="margin-top: 15px;">Both paradoxes show that rational beliefs about parts don't necessarily combine into rational beliefs about wholes.</p>
        </div>

        <!-- Why It Matters -->
        <div class="card">
            <h2>Why It Matters</h2>

            <p>The lottery paradox isn't just a puzzle - it challenges fundamental assumptions about rational thinking:</p>

            <ul style="padding-left: 20px; line-height: 2.2;">
                <li><strong>Epistemology:</strong> How should probability relate to belief? What does it mean to "rationally believe" something?</li>
                <li><strong>Legal reasoning:</strong> Courts convict based on "beyond reasonable doubt" - but the lottery shows that high probability isn't enough for certain belief</li>
                <li><strong>Scientific inference:</strong> Scientists accept theories with p < 0.05 significance - but many such beliefs combined will include errors</li>
                <li><strong>AI and logic:</strong> How should automated reasoning systems handle uncertain beliefs? The paradox constrains any consistent approach</li>
            </ul>

            <div class="highlight-box">
                <p style="font-style: italic;">"The lottery paradox calls into question some of our most basic assumptions about rational belief."</p>
                <p style="margin-top: 10px; color: var(--ticket-gold);">â€” Stanford Encyclopedia of Philosophy</p>
            </div>
        </div>

        <div class="card" style="text-align: center; background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(67, 97, 238, 0.2));">
            <p style="font-style: italic; font-size: 1.2rem; margin-bottom: 0;">"It's rational to believe this ticket will lose. And this one. And this one. And... wait."</p>
            <p style="color: rgba(232, 232, 240, 0.6); font-size: 0.9rem; margin-top: 10px;">â€” Every lottery player, moments before the paradox strikes</p>
        </div>
    </div>

    <script>
        // Create falling tickets background
        const ticketsBg = document.getElementById('ticketsBg');
        for (let i = 0; i < 30; i++) {
            const ticket = document.createElement('div');
            ticket.className = 'ticket-float';
            ticket.textContent = 'ðŸŽ«';
            ticket.style.left = Math.random() * 100 + '%';
            ticket.style.animationDelay = Math.random() * 15 + 's';
            ticket.style.animationDuration = (10 + Math.random() * 10) + 's';
            ticketsBg.appendChild(ticket);
        }

        // Generate lottery tickets
        const lotteryDrum = document.getElementById('lotteryDrum');
        const believedCount = document.getElementById('believedCount');
        const remainingCount = document.getElementById('remainingCount');
        const probability = document.getElementById('probability');
        const contradictionBox = document.getElementById('contradictionBox');
        const contradictionText = document.getElementById('contradictionText');

        const TOTAL_TICKETS = 100; // Using 100 for visual simplicity
        let believed = new Set();
        let winnerTicket = null;

        function createTickets() {
            lotteryDrum.innerHTML = '';
            for (let i = 1; i <= TOTAL_TICKETS; i++) {
                const ticket = document.createElement('div');
                ticket.className = 'lottery-ticket';
                ticket.textContent = i;
                ticket.dataset.number = i;
                ticket.addEventListener('click', () => toggleBelief(i, ticket));
                lotteryDrum.appendChild(ticket);
            }
        }

        function toggleBelief(num, ticket) {
            if (winnerTicket) return; // Locked after winner drawn

            if (believed.has(num)) {
                believed.delete(num);
                ticket.classList.remove('believed-lose');
            } else {
                believed.add(num);
                ticket.classList.add('believed-lose');
            }
            updateStats();
        }

        function updateStats() {
            believedCount.textContent = believed.size;
            remainingCount.textContent = TOTAL_TICKETS - believed.size;

            const prob = ((TOTAL_TICKETS - 1) / TOTAL_TICKETS * 100).toFixed(0);
            probability.textContent = prob + '%';

            // Check for paradox
            if (believed.size === TOTAL_TICKETS) {
                contradictionBox.classList.add('active');
                contradictionText.textContent = `You rationally believe ALL ${TOTAL_TICKETS} tickets will lose. But one MUST win! Your rational beliefs are collectively irrational.`;
            } else {
                contradictionBox.classList.remove('active');
            }
        }

        // Believe all button
        document.getElementById('believeAll').addEventListener('click', () => {
            const tickets = document.querySelectorAll('.lottery-ticket');
            tickets.forEach((ticket, i) => {
                setTimeout(() => {
                    if (!winnerTicket) {
                        believed.add(i + 1);
                        ticket.classList.add('believed-lose');
                        updateStats();
                    }
                }, i * 20);
            });
        });

        // Draw winner
        document.getElementById('drawWinner').addEventListener('click', () => {
            if (winnerTicket) return;

            winnerTicket = Math.floor(Math.random() * TOTAL_TICKETS) + 1;
            const tickets = document.querySelectorAll('.lottery-ticket');
            tickets[winnerTicket - 1].classList.add('winner');
            tickets[winnerTicket - 1].classList.remove('believed-lose');

            if (believed.has(winnerTicket)) {
                contradictionBox.classList.add('active');
                contradictionText.textContent = `Ticket #${winnerTicket} WON! But you believed it would lose (with 99% confidence). Your "rational" belief was FALSE.`;
            }
        });

        // Reset
        document.getElementById('resetLottery').addEventListener('click', () => {
            believed.clear();
            winnerTicket = null;
            contradictionBox.classList.remove('active');
            createTickets();
            updateStats();
        });

        // Show logic chain
        document.getElementById('showChain').addEventListener('click', () => {
            const steps = document.querySelectorAll('.belief-step');
            steps.forEach((step, i) => {
                setTimeout(() => {
                    step.classList.add('visible');
                }, i * 600);
            });
        });

        // Initialize
        createTickets();
        updateStats();
    </script>
</body>
</html>
