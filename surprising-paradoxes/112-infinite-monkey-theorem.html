<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Infinite Monkey Theorem | Surprising Paradoxes</title>
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            color: var(--dark-moss);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--moss);
            text-decoration: none;
            margin-bottom: 1.5rem;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: var(--terracotta);
        }

        h1 {
            font-family: 'Lora', Georgia, serif;
            font-size: 2.5rem;
            color: var(--dark-moss);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--moss);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .intro-box {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .intro-box h2 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .intro-box p {
            margin-bottom: 1rem;
        }

        .sim-container {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .sim-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .sim-header h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            font-size: 1.3rem;
        }

        /* Typewriter display */
        .typewriter-display {
            background: #2d2d2d;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            font-family: 'Courier New', monospace;
            position: relative;
            overflow: hidden;
        }

        .paper {
            background: #f5f5dc;
            padding: 1rem;
            border-radius: 4px;
            min-height: 100px;
            font-size: 1.2rem;
            letter-spacing: 0.1em;
            word-break: break-all;
            position: relative;
        }

        .target-text {
            display: block;
            color: #999;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .typed-text {
            color: #333;
        }

        .typed-text .match {
            color: #2d8a2d;
            font-weight: bold;
        }

        .typed-text .no-match {
            color: #333;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background: #333;
            animation: blink 0.7s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* Monkey animation */
        .monkey-container {
            text-align: center;
            margin-bottom: 1rem;
        }

        .monkey {
            font-size: 4rem;
            animation: typing 0.3s ease-in-out infinite;
        }

        @keyframes typing {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .monkey.paused {
            animation: none;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-box {
            background: rgba(138, 154, 91, 0.15);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
        }

        .stat-box .value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--terracotta);
        }

        .stat-box .label {
            font-size: 0.85rem;
            color: var(--moss);
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .controls button {
            background: linear-gradient(135deg, var(--moss), var(--dark-moss));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(96, 108, 56, 0.4);
        }

        .controls button.active {
            background: linear-gradient(135deg, var(--terracotta), var(--earth));
        }

        /* Target selector */
        .target-selector {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .target-btn {
            padding: 8px 16px;
            border: 2px solid var(--moss);
            border-radius: 20px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .target-btn.active {
            background: var(--moss);
            color: white;
        }

        .target-btn:hover {
            transform: scale(1.05);
        }

        /* Probability display */
        .probability-section {
            background: linear-gradient(135deg, rgba(188, 108, 37, 0.15), rgba(221, 161, 94, 0.1));
            border: 2px solid var(--terracotta);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .probability-section h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--terracotta);
            margin-bottom: 1rem;
        }

        .prob-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        .prob-item .text {
            font-weight: 500;
        }

        .prob-item .prob {
            font-family: 'Courier New', monospace;
            color: var(--terracotta);
            font-weight: bold;
        }

        /* Paradox box */
        .paradox-box {
            background: linear-gradient(135deg, rgba(188, 108, 37, 0.15), rgba(221, 161, 94, 0.1));
            border: 2px solid var(--terracotta);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .paradox-box h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--terracotta);
            margin-bottom: 1rem;
        }

        .paradox-box p {
            margin-bottom: 1rem;
        }

        /* History section */
        .history-section {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .history-section h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 8px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--moss), var(--terracotta));
        }

        .timeline-item {
            position: relative;
            margin-bottom: 1.5rem;
            padding-left: 20px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 5px;
            width: 12px;
            height: 12px;
            background: var(--sage);
            border-radius: 50%;
            border: 2px solid white;
        }

        .timeline-item .year {
            font-weight: bold;
            color: var(--terracotta);
            margin-bottom: 0.3rem;
        }

        /* Math section */
        .math-section {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .math-section h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .formula {
            background: #f8f6f0;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin: 1rem 0;
            font-size: 1.1rem;
        }

        .math-point {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            border-left: 3px solid var(--sage);
        }

        .math-point .icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        /* Heat death comparison */
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .comparison-card {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }

        .comparison-card .number {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--terracotta);
            font-family: 'Courier New', monospace;
            margin-bottom: 0.5rem;
        }

        .comparison-card .desc {
            color: var(--moss);
            font-size: 0.95rem;
        }

        /* Quote */
        .quote-box {
            background: rgba(96, 108, 56, 0.15);
            border-left: 4px solid var(--sage);
            padding: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
        }

        .quote-box .author {
            margin-top: 0.5rem;
            text-align: right;
            color: var(--moss);
            font-style: normal;
            font-weight: bold;
        }

        /* Almost surely section */
        .almost-surely {
            background: rgba(138, 154, 91, 0.15);
            border: 1px solid var(--moss);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .almost-surely h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .almost-surely code {
            background: rgba(0,0,0,0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        /* Mobile adjustments */
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .container { padding: 1rem; }
            .stat-box .value { font-size: 1.2rem; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <h1>üêí The Infinite Monkey Theorem</h1>
        <p class="subtitle">Given infinite time, random typing will produce Shakespeare... but how long would that really take?</p>

        <div class="intro-box">
            <h2>The Thought Experiment</h2>
            <p>
                A monkey hitting keys <strong>at random</strong> on a typewriter keyboard for an
                <strong>infinite</strong> amount of time will <em>almost surely</em> type any given text,
                including the complete works of William Shakespeare.
            </p>
            <p>
                The theorem is <strong>mathematically true</strong>‚Äîbut the practical reality is staggering.
                Even typing a simple word like "banana" would take longer than the age of the universe!
            </p>
        </div>

        <div class="sim-container">
            <div class="sim-header">
                <h3>Watch a Monkey Type Random Characters</h3>
                <p style="color: var(--moss); margin-top: 0.5rem;">Can it match the target text by pure chance?</p>
            </div>

            <div class="monkey-container">
                <div class="monkey" id="monkey">üêí</div>
            </div>

            <div class="target-selector">
                <button class="target-btn active" data-target="to">to</button>
                <button class="target-btn" data-target="be">be</button>
                <button class="target-btn" data-target="banana">banana</button>
                <button class="target-btn" data-target="hamlet">hamlet</button>
                <button class="target-btn" data-target="to be or not to be">to be or not...</button>
            </div>

            <div class="typewriter-display">
                <div class="paper">
                    <span class="target-text">Target: "<span id="targetDisplay">to</span>"</span>
                    <div class="typed-text" id="typedText"></div><span class="cursor"></span>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-box">
                    <div class="value" id="attempts">0</div>
                    <div class="label">Attempts</div>
                </div>
                <div class="stat-box">
                    <div class="value" id="keystrokes">0</div>
                    <div class="label">Total Keystrokes</div>
                </div>
                <div class="stat-box">
                    <div class="value" id="bestMatch">0</div>
                    <div class="label">Best Match</div>
                </div>
                <div class="stat-box">
                    <div class="value" id="successCount">0</div>
                    <div class="label">Successes</div>
                </div>
            </div>

            <div class="controls">
                <button id="btnStart" class="active">‚ñ∂ Start Typing</button>
                <button id="btnSpeed">üöÄ Speed Up</button>
                <button id="btnReset">‚Ü∫ Reset</button>
            </div>
        </div>

        <div class="probability-section">
            <h3>üìä Probability of Random Success</h3>
            <p style="margin-bottom: 1rem;">With 27 keys (a-z + space), the probability of typing each phrase by chance:</p>

            <div class="prob-item">
                <span class="text">"to" (2 characters)</span>
                <span class="prob">1 in 729 (0.14%)</span>
            </div>
            <div class="prob-item">
                <span class="text">"banana" (6 characters)</span>
                <span class="prob">1 in 387,420,489</span>
            </div>
            <div class="prob-item">
                <span class="text">"hamlet" (6 characters)</span>
                <span class="prob">1 in 387,420,489</span>
            </div>
            <div class="prob-item">
                <span class="text">"to be or not to be" (18 chars)</span>
                <span class="prob">1 in 10^25 (approximately)</span>
            </div>
            <div class="prob-item">
                <span class="text">Complete works of Shakespeare (884,647 words)</span>
                <span class="prob">1 in 10^millions</span>
            </div>
        </div>

        <div class="paradox-box">
            <h3>‚ö° The Paradox</h3>
            <p>
                <strong>Mathematically:</strong> Given infinite time, the probability of typing any finite text
                approaches 1 (certainty). This is what "almost surely" means in probability theory.
            </p>
            <p>
                <strong>Practically:</strong> A 2024 study calculated that even with 200,000 chimpanzees typing
                one key per second until the <strong>heat death of the universe</strong> (10<sup>100</sup> years),
                there's only a 5% chance of typing just the word "bananas"!
            </p>
            <p>
                <strong>The paradox:</strong> Something can be mathematically <em>certain</em> yet physically
                <em>impossible</em>. Infinity is not just a big number‚Äîit's a different concept entirely.
            </p>
        </div>

        <div class="math-section">
            <h3>The Mathematics</h3>

            <div class="formula">
                P(text) = (1/n)<sup>k</sup>
            </div>
            <p style="text-align: center; margin-bottom: 1rem; color: var(--moss);">
                Where n = number of keys, k = length of text
            </p>

            <div class="math-point">
                <span class="icon">üî¢</span>
                <div>
                    <strong>Example - "banana":</strong> With 27 keys (a-z + space),
                    P = (1/27)<sup>6</sup> = 1/387,420,489 ‚âà 0.00000026%
                </div>
            </div>

            <div class="math-point">
                <span class="icon">‚è±Ô∏è</span>
                <div>
                    <strong>Expected attempts:</strong> On average, you'd need 387 million attempts
                    to type "banana" once. At 1 keystroke/second, that's 12 years of continuous typing!
                </div>
            </div>

            <div class="math-point">
                <span class="icon">‚àû</span>
                <div>
                    <strong>Infinite limit:</strong> As attempts ‚Üí ‚àû, probability of eventual success ‚Üí 1.
                    But "eventually" might mean 10<sup>1000000</sup> years!
                </div>
            </div>
        </div>

        <div class="comparison-grid">
            <div class="comparison-card">
                <div class="number">13.8 billion years</div>
                <div class="desc">Age of the universe</div>
            </div>
            <div class="comparison-card">
                <div class="number">10<sup>100</sup> years</div>
                <div class="desc">Time until heat death of universe</div>
            </div>
            <div class="comparison-card">
                <div class="number">10<sup>360,783</sup> years</div>
                <div class="desc">Expected time to type "Hamlet"</div>
            </div>
            <div class="comparison-card">
                <div class="number">5%</div>
                <div class="desc">Chance of typing "bananas" before heat death</div>
            </div>
        </div>

        <div class="almost-surely">
            <h3>What Does "Almost Surely" Mean?</h3>
            <p>
                In probability theory, <code>almost surely</code> (abbreviated "a.s.") means an event
                occurs with <strong>probability 1</strong>, but there exist outcomes where it doesn't happen.
            </p>
            <p style="margin-top: 1rem;">
                <strong>Example:</strong> If you throw a dart at a dartboard, the probability of hitting
                any <em>specific</em> mathematical point is exactly 0. Yet the dart <em>will</em> hit
                somewhere. Every specific outcome has probability 0, but <em>some</em> outcome is certain.
            </p>
            <p style="margin-top: 1rem;">
                Similarly, the probability that a random infinite sequence of letters <em>never</em>
                contains Shakespeare is 0. But this doesn't mean every infinite sequence contains it‚Äîit
                means the "bad" sequences form a set of measure zero.
            </p>
        </div>

        <div class="history-section">
            <h3>A Brief History</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="year">1913</div>
                    <div class="desc">French mathematician √âmile Borel first describes the theorem in <em>M√©canique Statistique et Irr√©versibilit√©</em>, imagining monkeys typing all books in the Biblioth√®que nationale de France.</div>
                </div>
                <div class="timeline-item">
                    <div class="year">1928</div>
                    <div class="desc">Arthur Eddington popularizes the image, using it to illustrate the Second Law of Thermodynamics and entropy.</div>
                </div>
                <div class="timeline-item">
                    <div class="year">1979</div>
                    <div class="desc">Douglas Adams references it in <em>The Hitchhiker's Guide to the Galaxy</em> with an infinite number of monkeys producing Hamlet.</div>
                </div>
                <div class="timeline-item">
                    <div class="year">2003</div>
                    <div class="desc">The "Paignton Zoo experiment" placed a keyboard in a monkey enclosure. After a month, the macaques produced 5 pages mostly of the letter 'S', with no words.</div>
                </div>
                <div class="timeline-item">
                    <div class="year">2024</div>
                    <div class="desc">University of Technology Sydney publishes study showing even "bananas" is unlikely before the heat death of the universe with realistic parameters.</div>
                </div>
            </div>
        </div>

        <div class="quote-box">
            "If I let my fingers wander idly over the keys of a typewriter it might happen that my screed
            made an intelligible sentence. If an army of monkeys were strumming on typewriters they might
            write all the books in the British Museum."
            <div class="author">‚Äî Arthur Eddington, <em>The Nature of the Physical World</em> (1928)</div>
        </div>

        <div class="intro-box" style="background: rgba(138, 154, 91, 0.15); border-color: var(--moss);">
            <h2>Why This Matters</h2>
            <p>
                The Infinite Monkey Theorem illuminates the <strong>gulf between mathematical infinity
                and physical reality</strong>. It shows that:
            </p>
            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                <li>Probability 0 doesn't mean "impossible"‚Äîjust "measure zero"</li>
                <li>Probability 1 doesn't mean "will definitely happen in finite time"</li>
                <li>The difference between "finite but very large" and "infinite" is categorical, not quantitative</li>
                <li>Some things are mathematically true but physically meaningless</li>
            </ul>
            <p style="margin-top: 1rem;">
                It's also a beautiful reminder that <strong>Shakespeare wasn't random</strong>‚Äîhis works
                emerged from creativity, learning, culture, and intention. Random processes, no matter
                how long, cannot replicate the <em>meaning</em> behind language.
            </p>
        </div>
    </div>

    <script>
        // Configuration
        const ALPHABET = 'abcdefghijklmnopqrstuvwxyz ';
        let target = 'to';
        let typing = false;
        let speed = 1;
        let attempts = 0;
        let keystrokes = 0;
        let bestMatch = 0;
        let successCount = 0;
        let currentText = '';
        let animationId = null;

        // DOM elements
        const monkey = document.getElementById('monkey');
        const typedText = document.getElementById('typedText');
        const targetDisplay = document.getElementById('targetDisplay');
        const attemptsEl = document.getElementById('attempts');
        const keystrokesEl = document.getElementById('keystrokes');
        const bestMatchEl = document.getElementById('bestMatch');
        const successCountEl = document.getElementById('successCount');
        const btnStart = document.getElementById('btnStart');
        const btnSpeed = document.getElementById('btnSpeed');
        const btnReset = document.getElementById('btnReset');
        const targetBtns = document.querySelectorAll('.target-btn');

        function randomChar() {
            return ALPHABET[Math.floor(Math.random() * ALPHABET.length)];
        }

        function updateDisplay() {
            let html = '';
            for (let i = 0; i < currentText.length; i++) {
                if (i < target.length && currentText[i] === target[i]) {
                    html += `<span class="match">${currentText[i]}</span>`;
                } else {
                    html += `<span class="no-match">${currentText[i]}</span>`;
                }
            }
            typedText.innerHTML = html;

            // Count matches
            let matches = 0;
            for (let i = 0; i < Math.min(currentText.length, target.length); i++) {
                if (currentText[i] === target[i]) matches++;
                else break;
            }

            if (matches > bestMatch) {
                bestMatch = matches;
                bestMatchEl.textContent = `${bestMatch}/${target.length}`;
            }

            attemptsEl.textContent = attempts.toLocaleString();
            keystrokesEl.textContent = keystrokes.toLocaleString();
        }

        function typeCharacter() {
            if (!typing) return;

            const char = randomChar();
            currentText += char;
            keystrokes++;

            // Check if we've typed enough characters
            if (currentText.length >= target.length) {
                attempts++;

                // Check for success
                if (currentText.slice(-target.length) === target) {
                    successCount++;
                    successCountEl.textContent = successCount;
                    // Celebrate briefly
                    monkey.textContent = 'üéâ';
                    setTimeout(() => { monkey.textContent = 'üêí'; }, 500);
                }

                // Keep only recent characters for display
                if (currentText.length > 50) {
                    currentText = currentText.slice(-target.length);
                }
            }

            updateDisplay();

            // Schedule next character
            const delay = speed === 1 ? 100 : (speed === 2 ? 20 : 1);
            if (speed === 3) {
                // Turbo mode: do many at once
                for (let i = 0; i < 50; i++) {
                    const c = randomChar();
                    currentText += c;
                    keystrokes++;
                    if (currentText.length >= target.length) {
                        attempts++;
                        if (currentText.slice(-target.length) === target) {
                            successCount++;
                            successCountEl.textContent = successCount;
                        }
                        if (currentText.length > 50) {
                            currentText = currentText.slice(-target.length);
                        }
                    }
                }
                updateDisplay();
            }

            animationId = setTimeout(typeCharacter, delay);
        }

        function startTyping() {
            typing = true;
            monkey.classList.remove('paused');
            btnStart.textContent = '‚è∏ Pause';
            btnStart.classList.add('active');
            typeCharacter();
        }

        function stopTyping() {
            typing = false;
            monkey.classList.add('paused');
            btnStart.textContent = '‚ñ∂ Start Typing';
            btnStart.classList.remove('active');
            if (animationId) {
                clearTimeout(animationId);
                animationId = null;
            }
        }

        function reset() {
            stopTyping();
            currentText = '';
            attempts = 0;
            keystrokes = 0;
            bestMatch = 0;
            successCount = 0;
            updateDisplay();
            bestMatchEl.textContent = `0/${target.length}`;
            successCountEl.textContent = '0';
        }

        // Event listeners
        btnStart.addEventListener('click', () => {
            if (typing) {
                stopTyping();
            } else {
                startTyping();
            }
        });

        btnSpeed.addEventListener('click', () => {
            speed = (speed % 3) + 1;
            const labels = ['üê¢ Normal', 'üöÄ Fast', '‚ö° Turbo'];
            btnSpeed.textContent = labels[speed - 1];
            btnSpeed.classList.toggle('active', speed > 1);
        });

        btnReset.addEventListener('click', reset);

        targetBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                targetBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                target = btn.dataset.target;
                targetDisplay.textContent = target;
                reset();
            });
        });

        // Initialize
        updateDisplay();
        bestMatchEl.textContent = `0/${target.length}`;
    </script>
</body>
</html>
