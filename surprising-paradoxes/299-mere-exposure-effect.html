<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Mere Exposure Effect - Familiarity Breeds Liking | Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
            line-height: 1.7;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            color: var(--moss);
            font-weight: 600;
            z-index: 100;
            background: rgba(255,255,255,0.9);
            padding: 10px 16px;
            border-radius: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .back-link:hover {
            transform: translateX(-3px);
            background: white;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            color: var(--moss);
            text-align: center;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            font-size: 1.3rem;
            color: var(--terracotta);
            margin-bottom: 30px;
            font-style: italic;
        }

        .intro-box {
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid var(--sage);
        }

        .section {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .section h2 {
            font-family: 'Lora', serif;
            color: var(--moss);
            font-size: 1.6rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* === EXPOSURE EXPERIMENT === */
        .experiment-container {
            text-align: center;
        }

        .phase-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .phase-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            transition: all 0.3s ease;
        }

        .phase-dot.active {
            background: var(--sage);
            transform: scale(1.3);
        }

        .phase-dot.complete {
            background: var(--moss);
        }

        .phase-label {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .symbol-display {
            width: 200px;
            height: 200px;
            background: #1a1a2e;
            border-radius: 20px;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 6rem;
            color: white;
            transition: all 0.3s ease;
        }

        .symbol-display.flash {
            animation: flash 0.5s ease;
        }

        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .exposure-counter {
            color: #888;
            font-size: 0.9rem;
            margin: 10px 0;
        }

        .start-btn {
            background: linear-gradient(135deg, var(--sage), var(--moss));
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 600;
            border-radius: 30px;
            cursor: pointer;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(96, 108, 56, 0.4);
        }

        .start-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* === RATING PHASE === */
        .rating-container {
            display: none;
        }

        .rating-container.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .rating-symbol {
            font-size: 5rem;
            margin: 20px 0;
        }

        .rating-question {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 15px;
        }

        .rating-scale {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 20px 0;
        }

        .rating-btn {
            width: 50px;
            height: 50px;
            border: 2px solid var(--sage);
            background: transparent;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--moss);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .rating-btn:hover {
            background: var(--sage);
            color: white;
            transform: scale(1.1);
        }

        .rating-labels {
            display: flex;
            justify-content: space-between;
            max-width: 400px;
            margin: 0 auto;
            font-size: 0.85rem;
            color: #888;
        }

        .rating-progress {
            margin-top: 20px;
            color: #666;
        }

        /* === RESULTS === */
        .results-panel {
            display: none;
        }

        .results-panel.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .results-chart {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 30px;
            height: 250px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255,255,255,0.5);
            border-radius: 15px;
        }

        .chart-bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .chart-bar {
            width: 60px;
            background: linear-gradient(180deg, var(--sage), var(--moss));
            border-radius: 10px 10px 0 0;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding-top: 10px;
            color: white;
            font-weight: 700;
            transition: height 1s ease;
        }

        .chart-label {
            font-size: 0.85rem;
            color: #666;
            text-align: center;
        }

        .chart-symbol {
            font-size: 1.5rem;
        }

        .correlation-display {
            background: linear-gradient(135deg, rgba(138, 154, 91, 0.2), rgba(221, 161, 94, 0.2));
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            text-align: center;
        }

        .correlation-value {
            font-size: 3rem;
            font-weight: 700;
            color: var(--terracotta);
        }

        .correlation-label {
            color: #666;
            font-size: 0.9rem;
        }

        .result-explanation {
            background: rgba(255,255,255,0.6);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .reset-btn {
            background: transparent;
            border: 2px solid var(--sage);
            color: var(--sage);
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            background: var(--sage);
            color: white;
        }

        /* === INVERTED U CURVE === */
        .curve-container {
            text-align: center;
            padding: 20px;
        }

        .curve-canvas {
            width: 100%;
            max-width: 500px;
            height: 300px;
            margin: 20px auto;
        }

        .curve-slider {
            width: 80%;
            max-width: 400px;
            margin: 20px auto;
            display: block;
        }

        .curve-value {
            font-size: 1.2rem;
            color: var(--moss);
            font-weight: 600;
        }

        /* === APPLICATIONS === */
        .applications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .app-card {
            background: rgba(255,255,255,0.6);
            border-radius: 15px;
            padding: 20px;
            border-left: 4px solid var(--sage);
        }

        .app-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .app-title {
            font-weight: 700;
            color: var(--moss);
            margin-bottom: 8px;
        }

        .app-desc {
            font-size: 0.9rem;
            color: #555;
        }

        /* === ESSAY === */
        .essay {
            line-height: 1.9;
        }

        .essay p {
            margin-bottom: 20px;
            text-align: justify;
        }

        .essay .quote {
            font-family: 'Lora', serif;
            font-size: 1.3rem;
            font-style: italic;
            color: var(--moss);
            border-left: 4px solid var(--earth);
            padding: 20px 25px;
            margin: 25px 0;
            background: rgba(221, 161, 94, 0.1);
            border-radius: 0 15px 15px 0;
        }

        .essay .highlight {
            background: linear-gradient(120deg, rgba(138, 154, 91, 0.3) 0%, rgba(138, 154, 91, 0.3) 100%);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .history-box {
            background: linear-gradient(135deg, #f5f0e1, #ebe5d5);
            border: 2px solid var(--earth);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            position: relative;
        }

        .history-box::before {
            content: "üî¨";
            position: absolute;
            top: -15px;
            left: 20px;
            font-size: 1.5rem;
            background: var(--cream);
            padding: 0 10px;
        }

        .mechanism-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .mechanism-card {
            background: linear-gradient(135deg, rgba(138, 154, 91, 0.15), rgba(221, 161, 94, 0.15));
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .mechanism-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .mechanism-name {
            font-weight: 700;
            color: var(--moss);
            margin-bottom: 8px;
        }

        .mechanism-desc {
            font-size: 0.9rem;
            color: #555;
        }

        .hidden { display: none !important; }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .symbol-display { width: 150px; height: 150px; font-size: 4rem; }
            .rating-btn { width: 40px; height: 40px; font-size: 1rem; }
            .results-chart { flex-wrap: wrap; height: auto; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">
        <span>‚Üê</span>
        <span>Back to Gallery</span>
    </a>

    <div class="container">
        <h1>üëÅÔ∏è The Mere Exposure Effect</h1>
        <p class="subtitle">Familiarity Breeds Liking, Not Contempt</p>

        <div class="intro-box">
            <p>You've never seen these symbols before. You have no idea what they mean. But after this experiment, you'll <em>prefer</em> some over others‚Äîand the only difference will be <strong>how many times you saw them</strong>. That's the mere exposure effect: we like things simply because we've encountered them before, even without any conscious awareness.</p>
        </div>

        <!-- === EXPOSURE EXPERIMENT === -->
        <div class="section">
            <h2>üß™ Experience the Effect</h2>
            <p style="margin-bottom: 15px;">Watch a series of unfamiliar symbols flash on screen. Some will appear more often than others. Then rate how much you like each one.</p>

            <div class="experiment-container">
                <div class="phase-indicator">
                    <div class="phase-dot active" id="phase1"></div>
                    <div class="phase-dot" id="phase2"></div>
                    <div class="phase-dot" id="phase3"></div>
                </div>
                <div class="phase-label" id="phaseLabel">Phase 1: Exposure</div>

                <!-- Exposure Phase -->
                <div id="exposurePhase">
                    <div class="symbol-display" id="symbolDisplay">?</div>
                    <div class="exposure-counter" id="exposureCounter">0 / 30 exposures</div>
                    <button class="start-btn" id="startBtn" onclick="startExposure()">Start Exposure Phase</button>
                </div>

                <!-- Rating Phase -->
                <div class="rating-container" id="ratingPhase">
                    <p class="rating-question">How much do you LIKE this symbol?</p>
                    <div class="rating-symbol" id="ratingSymbol">?</div>
                    <div class="rating-scale">
                        <button class="rating-btn" onclick="rateSymbol(1)">1</button>
                        <button class="rating-btn" onclick="rateSymbol(2)">2</button>
                        <button class="rating-btn" onclick="rateSymbol(3)">3</button>
                        <button class="rating-btn" onclick="rateSymbol(4)">4</button>
                        <button class="rating-btn" onclick="rateSymbol(5)">5</button>
                        <button class="rating-btn" onclick="rateSymbol(6)">6</button>
                        <button class="rating-btn" onclick="rateSymbol(7)">7</button>
                    </div>
                    <div class="rating-labels">
                        <span>Dislike strongly</span>
                        <span>Like strongly</span>
                    </div>
                    <div class="rating-progress" id="ratingProgress">1 / 6</div>
                </div>

                <!-- Results Phase -->
                <div class="results-panel" id="resultsPhase">
                    <h3 style="color: var(--moss); margin-bottom: 15px; text-align: center;">Your Results</h3>

                    <div class="results-chart" id="resultsChart"></div>

                    <div class="correlation-display">
                        <div class="correlation-label">More Exposure ‚Üí More Liking</div>
                        <div class="correlation-value" id="correlationValue">--</div>
                        <div class="correlation-label">correlation coefficient</div>
                    </div>

                    <div class="result-explanation" id="resultExplanation"></div>

                    <div style="text-align: center;">
                        <button class="reset-btn" onclick="resetExperiment()">Try Again</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- === INVERTED U CURVE === -->
        <div class="section">
            <h2>üìà The Sweet Spot: Inverted U-Curve</h2>
            <p style="margin-bottom: 15px;">More exposure increases liking‚Äîbut only to a point. Too much repetition causes boredom or annoyance. This is why catchy songs become annoying, and why advertisers rotate their ads.</p>

            <div class="curve-container">
                <canvas id="curveCanvas" class="curve-canvas"></canvas>
                <input type="range" class="curve-slider" id="curveSlider" min="0" max="100" value="0" oninput="updateCurve()">
                <div class="curve-value">Exposures: <span id="exposureNum">0</span> | Liking: <span id="likingNum">3.0</span></div>
                <p style="margin-top: 15px; color: #666; font-size: 0.9rem;">Drag the slider to see how liking changes with exposure count. Notice the peak and decline.</p>
            </div>
        </div>

        <!-- === APPLICATIONS === -->
        <div class="section">
            <h2>üåç The Effect Everywhere</h2>
            <p style="margin-bottom: 20px;">The mere exposure effect shapes our preferences across every domain of life:</p>

            <div class="applications-grid">
                <div class="app-card">
                    <div class="app-icon">üì∫</div>
                    <div class="app-title">Advertising</div>
                    <div class="app-desc">Brands don't need to persuade you‚Äîthey just need you to see their logo enough times. Retargeting ads work even when you don't consciously remember them.</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">üéµ</div>
                    <div class="app-title">Music</div>
                    <div class="app-desc">Songs "grow on you" through repeated radio play. Labels pay for plays because they know familiarity breeds liking. That song you hated? You might love it by the 10th listen.</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">üó≥Ô∏è</div>
                    <div class="app-title">Politics</div>
                    <div class="app-desc">Name recognition wins elections. Candidates plaster their names everywhere because familiar names feel trustworthy‚Äîeven without policy knowledge.</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">üíï</div>
                    <div class="app-title">Relationships</div>
                    <div class="app-desc">We're more likely to befriend people we encounter repeatedly‚Äîclassmates, coworkers, neighbors. Proximity creates familiarity creates liking.</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">üçî</div>
                    <div class="app-title">Food</div>
                    <div class="app-desc">Children reject unfamiliar foods (neophobia) but accept them after 10-15 exposures. Parents: keep offering that broccoli!</div>
                </div>
                <div class="app-card">
                    <div class="app-icon">ü™û</div>
                    <div class="app-title">Self-Perception</div>
                    <div class="app-desc">You prefer your mirror image; friends prefer photos. Why? You're most exposed to your reflection; they see the non-reversed you.</div>
                </div>
            </div>
        </div>

        <!-- === ESSAY === -->
        <div class="section essay">
            <h2>üìú The Science of Familiarity</h2>

            <div class="history-box">
                <h3 style="color: var(--moss); margin-bottom: 10px; margin-top: 5px;">Robert Zajonc (1968)</h3>
                <p style="margin-bottom: 0;">In his landmark paper "Attitudinal Effects of Mere Exposure," Polish-American psychologist Robert Zajonc demonstrated that simply exposing people to stimuli‚ÄîChinese characters, nonsense words, photographs‚Äîincreased their liking for those stimuli. No learning, no reward, no reason. Just exposure.</p>
            </div>

            <p>Zajonc's most famous experiment showed participants Chinese characters they'd never seen before. Some characters appeared 25 times; others only once. When asked to guess the meaning, participants gave more positive meanings to frequently-shown characters. They couldn't explain why‚Äîthe preference formed unconsciously.</p>

            <p class="quote">"Preferences need no inferences."</p>
            <p style="text-align: right; font-style: italic; color: #888;">‚Äî Robert Zajonc, 1980</p>

            <h3 style="color: var(--moss); margin: 25px 0 15px;">Why Does This Happen?</h3>

            <div class="mechanism-grid">
                <div class="mechanism-card">
                    <div class="mechanism-icon">üõ°Ô∏è</div>
                    <div class="mechanism-name">Perceptual Fluency</div>
                    <div class="mechanism-desc">Familiar things are easier to process. This ease feels good, and we misattribute the good feeling to the object itself.</div>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">‚ö†Ô∏è</div>
                    <div class="mechanism-name">Safety Signal</div>
                    <div class="mechanism-desc">Evolutionarily, familiar things haven't killed us yet. Novel things might be dangerous. Familiarity = safety = positive.</div>
                </div>
                <div class="mechanism-card">
                    <div class="mechanism-icon">üß†</div>
                    <div class="mechanism-name">Classical Conditioning</div>
                    <div class="mechanism-desc">If past exposures occurred in neutral/positive contexts, the stimulus becomes associated with those feelings.</div>
                </div>
            </div>

            <h3 style="color: var(--moss); margin: 25px 0 15px;">The Subliminal Effect</h3>

            <p>Perhaps most remarkably, the mere exposure effect works <span class="highlight">even without conscious awareness</span>. Zajonc flashed stimuli for just 1 millisecond‚Äîfar too fast to consciously perceive. Participants couldn't recognize the images, couldn't say if they'd seen them before. Yet they still preferred the repeatedly-exposed stimuli.</p>

            <p>This has profound implications: <strong>preferences can form without conscious experience</strong>. Your brain is tracking exposure and updating preferences behind the scenes, without your knowledge or consent.</p>

            <h3 style="color: var(--moss); margin: 25px 0 15px;">Ethical Concerns</h3>

            <p>The subliminal power of mere exposure raises ethical questions. If brands can increase preference through repetition alone‚Äîwithout any persuasion or conscious engagement‚Äîis that manipulation? Political campaigns saturate airwaves with candidate names, knowing that familiarity translates to votes. Is this democratic discourse or cognitive exploitation?</p>

            <h3 style="color: var(--moss); margin: 25px 0 15px;">The Limits: Boredom and Annoyance</h3>

            <p>The effect isn't infinite. Research shows an <strong>inverted U-curve</strong>: liking increases with exposure up to a point, then declines. This is why your favorite song can become unbearable after too many plays, why overexposed advertisements backfire, and why variety is genuinely the spice of life.</p>

            <p>The peak depends on complexity: simple stimuli bore quickly; complex ones take longer to saturate. A catchy jingle wears out faster than a symphony.</p>

            <h3 style="color: var(--moss); margin: 25px 0 15px;">The Mirror Image Paradox</h3>

            <p>Here's a strange consequence: you prefer your mirror image to photographs of yourself. Why? Because you see your reflection daily‚Äîit's the familiar version of your face. Your friends, who see the non-reversed you more often, prefer photographs. Neither version is "better"‚Äîyou each prefer the version you've been most exposed to.</p>

            <p style="margin-top: 25px;">The mere exposure effect reveals something humbling: many of our "preferences" aren't reasoned choices‚Äîthey're the residue of repetition. The music you love, the brands you trust, the people you like... how much is genuine evaluation, and how much is just familiarity in disguise?</p>
        </div>
    </div>

    <script>
        // === SYMBOLS ===
        const symbols = ['‚åò', '‚éî', '‚è£', '‚è¢', '‚éà', '‚å¨'];
        const exposureCounts = [1, 3, 5, 10, 15, 20]; // How many times each symbol appears

        let exposureSequence = [];
        let currentExposure = 0;
        let ratings = {};
        let currentRatingIndex = 0;
        let exposureInterval = null;

        // Build exposure sequence
        function buildExposureSequence() {
            exposureSequence = [];
            symbols.forEach((sym, i) => {
                for (let j = 0; j < exposureCounts[i]; j++) {
                    exposureSequence.push(sym);
                }
            });
            // Shuffle
            for (let i = exposureSequence.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [exposureSequence[i], exposureSequence[j]] = [exposureSequence[j], exposureSequence[i]];
            }
        }

        function startExposure() {
            buildExposureSequence();
            document.getElementById('startBtn').disabled = true;
            currentExposure = 0;

            exposureInterval = setInterval(() => {
                if (currentExposure >= exposureSequence.length) {
                    clearInterval(exposureInterval);
                    endExposurePhase();
                    return;
                }

                const display = document.getElementById('symbolDisplay');
                display.textContent = exposureSequence[currentExposure];
                display.classList.add('flash');
                setTimeout(() => display.classList.remove('flash'), 400);

                currentExposure++;
                document.getElementById('exposureCounter').textContent =
                    `${currentExposure} / ${exposureSequence.length} exposures`;
            }, 600);
        }

        function endExposurePhase() {
            document.getElementById('phase1').classList.remove('active');
            document.getElementById('phase1').classList.add('complete');
            document.getElementById('phase2').classList.add('active');
            document.getElementById('phaseLabel').textContent = 'Phase 2: Rating';

            document.getElementById('exposurePhase').classList.add('hidden');
            document.getElementById('ratingPhase').classList.add('visible');

            // Shuffle symbols for rating
            const shuffledSymbols = [...symbols].sort(() => Math.random() - 0.5);
            symbols.length = 0;
            symbols.push(...shuffledSymbols);

            currentRatingIndex = 0;
            showNextRating();
        }

        function showNextRating() {
            if (currentRatingIndex >= symbols.length) {
                showResults();
                return;
            }

            document.getElementById('ratingSymbol').textContent = symbols[currentRatingIndex];
            document.getElementById('ratingProgress').textContent =
                `${currentRatingIndex + 1} / ${symbols.length}`;
        }

        function rateSymbol(rating) {
            const symbol = symbols[currentRatingIndex];
            ratings[symbol] = rating;
            currentRatingIndex++;
            showNextRating();
        }

        function showResults() {
            document.getElementById('phase2').classList.remove('active');
            document.getElementById('phase2').classList.add('complete');
            document.getElementById('phase3').classList.add('active');
            document.getElementById('phaseLabel').textContent = 'Phase 3: Results';

            document.getElementById('ratingPhase').classList.remove('visible');
            document.getElementById('resultsPhase').classList.add('visible');

            // Build chart
            const chartContainer = document.getElementById('resultsChart');
            chartContainer.innerHTML = '';

            // Original order with exposure counts
            const originalSymbols = ['‚åò', '‚éî', '‚è£', '‚è¢', '‚éà', '‚å¨'];
            const data = originalSymbols.map((sym, i) => ({
                symbol: sym,
                exposures: exposureCounts[i],
                rating: ratings[sym] || 4
            }));

            // Sort by exposure count for display
            data.sort((a, b) => a.exposures - b.exposures);

            const maxRating = 7;
            data.forEach(d => {
                const group = document.createElement('div');
                group.className = 'chart-bar-group';

                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.height = '0px';
                bar.textContent = d.rating;

                const label = document.createElement('div');
                label.className = 'chart-label';
                label.innerHTML = `<span class="chart-symbol">${d.symbol}</span><br>${d.exposures}x`;

                group.appendChild(bar);
                group.appendChild(label);
                chartContainer.appendChild(group);

                // Animate bar
                setTimeout(() => {
                    bar.style.height = (d.rating / maxRating * 180) + 'px';
                }, 100);
            });

            // Calculate correlation
            const x = data.map(d => d.exposures);
            const y = data.map(d => d.rating);
            const correlation = calculateCorrelation(x, y);

            document.getElementById('correlationValue').textContent =
                (correlation >= 0 ? '+' : '') + correlation.toFixed(2);

            // Explanation
            const explanation = document.getElementById('resultExplanation');
            if (correlation > 0.5) {
                explanation.innerHTML = `<strong>Strong positive correlation!</strong> You liked the frequently-shown symbols more than the rarely-shown ones‚Äîexactly as Zajonc predicted. The mere exposure effect is working on you, shaping preferences through familiarity alone.`;
            } else if (correlation > 0.2) {
                explanation.innerHTML = `<strong>Moderate positive correlation.</strong> There's a tendency to prefer more-exposed symbols, though other factors (like the symbol's aesthetics) may have influenced your ratings too.`;
            } else if (correlation > -0.2) {
                explanation.innerHTML = `<strong>No clear correlation.</strong> Your ratings didn't follow the exposure pattern. You may have strong aesthetic preferences that override familiarity, or you might be resistant to the effect (rare but possible!).`;
            } else {
                explanation.innerHTML = `<strong>Negative correlation!</strong> You actually preferred less-exposed symbols. This is unusual‚Äîperhaps you sensed the manipulation, or you genuinely prefer novelty over familiarity.`;
            }
        }

        function calculateCorrelation(x, y) {
            const n = x.length;
            const sumX = x.reduce((a, b) => a + b, 0);
            const sumY = y.reduce((a, b) => a + b, 0);
            const sumXY = x.reduce((sum, xi, i) => sum + xi * y[i], 0);
            const sumX2 = x.reduce((sum, xi) => sum + xi * xi, 0);
            const sumY2 = y.reduce((sum, yi) => sum + yi * yi, 0);

            const numerator = n * sumXY - sumX * sumY;
            const denominator = Math.sqrt((n * sumX2 - sumX * sumX) * (n * sumY2 - sumY * sumY));

            return denominator === 0 ? 0 : numerator / denominator;
        }

        function resetExperiment() {
            ratings = {};
            currentExposure = 0;
            currentRatingIndex = 0;

            document.getElementById('phase1').classList.add('active');
            document.getElementById('phase1').classList.remove('complete');
            document.getElementById('phase2').classList.remove('active', 'complete');
            document.getElementById('phase3').classList.remove('active', 'complete');
            document.getElementById('phaseLabel').textContent = 'Phase 1: Exposure';

            document.getElementById('exposurePhase').classList.remove('hidden');
            document.getElementById('ratingPhase').classList.remove('visible');
            document.getElementById('resultsPhase').classList.remove('visible');

            document.getElementById('symbolDisplay').textContent = '?';
            document.getElementById('exposureCounter').textContent = '0 / 30 exposures';
            document.getElementById('startBtn').disabled = false;
        }

        // === INVERTED U CURVE ===
        function drawCurve() {
            const canvas = document.getElementById('curveCanvas');
            const ctx = canvas.getContext('2d');

            canvas.width = canvas.offsetWidth * window.devicePixelRatio;
            canvas.height = canvas.offsetHeight * window.devicePixelRatio;
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

            const w = canvas.offsetWidth;
            const h = canvas.offsetHeight;
            const padding = 50;

            // Clear
            ctx.clearRect(0, 0, w, h);

            // Draw axes
            ctx.strokeStyle = '#999';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(padding, h - padding);
            ctx.lineTo(w - padding, h - padding);
            ctx.moveTo(padding, h - padding);
            ctx.lineTo(padding, padding);
            ctx.stroke();

            // Axis labels
            ctx.fillStyle = '#666';
            ctx.font = '12px Nunito';
            ctx.textAlign = 'center';
            ctx.fillText('Number of Exposures', w / 2, h - 10);

            ctx.save();
            ctx.translate(15, h / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Liking', 0, 0);
            ctx.restore();

            // Draw inverted U curve
            ctx.strokeStyle = '#606C38';
            ctx.lineWidth = 3;
            ctx.beginPath();

            const graphWidth = w - 2 * padding;
            const graphHeight = h - 2 * padding;

            for (let i = 0; i <= 100; i++) {
                const x = padding + (i / 100) * graphWidth;
                // Inverted U: peaks around 40-50
                const liking = calculateLiking(i);
                const y = h - padding - (liking / 7) * graphHeight;

                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Current position marker
            const currentExposure = parseInt(document.getElementById('curveSlider').value);
            const markerX = padding + (currentExposure / 100) * graphWidth;
            const markerLiking = calculateLiking(currentExposure);
            const markerY = h - padding - (markerLiking / 7) * graphHeight;

            ctx.fillStyle = '#BC6C25';
            ctx.beginPath();
            ctx.arc(markerX, markerY, 8, 0, Math.PI * 2);
            ctx.fill();

            // Peak label
            ctx.fillStyle = '#666';
            ctx.font = '11px Nunito';
            const peakX = padding + (45 / 100) * graphWidth;
            const peakY = h - padding - (calculateLiking(45) / 7) * graphHeight;
            ctx.fillText('Peak liking', peakX, peakY - 15);

            // Saturation label
            ctx.fillText('Boredom/Annoyance', w - padding - 40, h - padding - 30);
        }

        function calculateLiking(exposure) {
            // Inverted U curve peaking around 40-50 exposures
            const peak = 45;
            const width = 35;
            const maxLiking = 6.5;
            const baseLiking = 3;

            const gaussian = Math.exp(-Math.pow(exposure - peak, 2) / (2 * width * width));
            return baseLiking + (maxLiking - baseLiking) * gaussian;
        }

        function updateCurve() {
            const val = document.getElementById('curveSlider').value;
            const liking = calculateLiking(parseInt(val));
            document.getElementById('exposureNum').textContent = val;
            document.getElementById('likingNum').textContent = liking.toFixed(1);
            drawCurve();
        }

        // Initialize
        window.addEventListener('load', () => {
            drawCurve();
        });

        window.addEventListener('resize', drawCurve);
    </script>
</body>
</html>
