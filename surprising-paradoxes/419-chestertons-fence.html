<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chesterton's Fence - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #2d3436 0%, #1e272e 50%, #0a3d62 100%);
            color: #e0e0e0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #f8b739;
            text-decoration: none;
            font-size: 14px;
            z-index: 1000;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .back-link:hover {
            opacity: 1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 20px 40px;
        }

        header {
            text-align: center;
            margin-bottom: 35px;
        }

        h1 {
            font-size: 2.5em;
            background: linear-gradient(135deg, #f8b739, #f5cd79);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .subtitle {
            font-size: 1.05em;
            color: #888;
            max-width: 800px;
            margin: 0 auto 25px;
            line-height: 1.6;
        }

        .quote-box {
            background: rgba(248, 183, 57, 0.1);
            border: 1px solid rgba(248, 183, 57, 0.3);
            border-radius: 15px;
            padding: 25px 35px;
            max-width: 900px;
            margin: 0 auto 35px;
            font-style: italic;
            line-height: 1.7;
        }

        .quote-box .author {
            display: block;
            margin-top: 15px;
            font-style: normal;
            color: #f8b739;
            font-weight: 600;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 25px;
        }

        .game-area {
            background: rgba(20, 30, 40, 0.8);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(248, 183, 57, 0.2);
        }

        .scenario-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .scenario-number {
            font-size: 0.9em;
            color: #888;
        }

        .score {
            background: rgba(0,0,0,0.3);
            padding: 8px 20px;
            border-radius: 20px;
        }

        .score-value {
            color: #f8b739;
            font-weight: bold;
        }

        .scenario-card {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .scenario-title {
            font-size: 1.3em;
            color: #f8b739;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .scenario-description {
            line-height: 1.7;
            margin-bottom: 20px;
            color: #ccc;
        }

        .fence-visual {
            text-align: center;
            padding: 30px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 3em;
        }

        .mystery-label {
            font-size: 0.5em;
            display: block;
            margin-top: 10px;
            color: #888;
        }

        .choice-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .choice-btn {
            padding: 18px 25px;
            border: 2px solid transparent;
            border-radius: 12px;
            background: rgba(0,0,0,0.3);
            color: #e0e0e0;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .choice-btn:hover {
            transform: translateY(-2px);
        }

        .choice-btn.remove {
            border-color: #e74c3c;
        }

        .choice-btn.remove:hover {
            background: rgba(231, 76, 60, 0.2);
        }

        .choice-btn.understand {
            border-color: #27ae60;
        }

        .choice-btn.understand:hover {
            background: rgba(39, 174, 96, 0.2);
        }

        .choice-btn .btn-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .choice-btn .btn-desc {
            font-size: 0.85em;
            color: #888;
        }

        .result-panel {
            display: none;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .result-panel.disaster {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid #e74c3c;
        }

        .result-panel.success {
            background: rgba(39, 174, 96, 0.2);
            border: 1px solid #27ae60;
        }

        .result-title {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-title.disaster { color: #e74c3c; }
        .result-title.success { color: #27ae60; }

        .result-explanation {
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .lesson-box {
            background: rgba(248, 183, 57, 0.1);
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid #f8b739;
        }

        .lesson-box strong {
            color: #f8b739;
        }

        .next-btn {
            display: block;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            background: linear-gradient(135deg, #f8b739, #d4a017);
            color: #1e272e;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
        }

        .final-results {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .final-score {
            font-size: 3em;
            font-weight: bold;
            color: #f8b739;
            margin-bottom: 10px;
        }

        .final-verdict {
            font-size: 1.2em;
            margin-bottom: 25px;
        }

        .final-breakdown {
            text-align: left;
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .info-panel {
            background: rgba(20, 30, 40, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(248, 183, 57, 0.2);
        }

        .info-panel h3 {
            color: #f8b739;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .principle-box {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .principle-box h4 {
            color: #f5cd79;
            margin-bottom: 8px;
        }

        .principle-box p {
            font-size: 0.9em;
            color: #aaa;
            line-height: 1.5;
        }

        .real-disasters {
            list-style: none;
        }

        .real-disasters li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.9em;
        }

        .real-disasters li:last-child {
            border-bottom: none;
        }

        .real-disasters .title {
            color: #e74c3c;
            font-weight: 600;
            display: block;
            margin-bottom: 3px;
        }

        .citation {
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            font-size: 0.85em;
            color: #888;
            text-align: center;
        }

        @media (max-width: 1000px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 600px) {
            h1 { font-size: 1.8em; }
            .choice-buttons { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>üöß Chesterton's Fence</h1>
            <p class="subtitle">
                "Don't remove a fence until you understand why it was put there."
            </p>
            <div class="quote-box">
                "There exists in such a case a certain institution or law; let us say, for the sake of simplicity,
                a fence or gate erected across a road. The more modern type of reformer goes gaily up to it and says,
                'I don't see the use of this; let us clear it away.' To which the more intelligent type of reformer
                will do well to answer: 'If you don't see the use of it, I certainly won't let you clear it away.
                Go away and think. Then, when you can come back and tell me that you do see the use of it,
                I may allow you to destroy it.'"
                <span class="author">‚Äî G.K. Chesterton, The Thing (1929)</span>
            </div>
        </header>

        <div class="main-content">
            <div class="game-area">
                <div class="scenario-header">
                    <span class="scenario-number" id="scenarioNum">Scenario 1 of 5</span>
                    <span class="score">Score: <span class="score-value" id="score">0</span></span>
                </div>

                <div id="scenarioContainer">
                    <!-- Scenario content will be inserted here -->
                </div>

                <div class="final-results" id="finalResults">
                    <div class="final-score" id="finalScore">0/5</div>
                    <div class="final-verdict" id="finalVerdict"></div>
                    <div class="final-breakdown" id="finalBreakdown"></div>
                    <button class="next-btn" onclick="resetGame()">üîÑ Play Again</button>
                </div>
            </div>

            <div class="sidebar">
                <div class="info-panel">
                    <h3>üß† The Core Principle</h3>
                    <div class="principle-box">
                        <h4>Before Removing, Understand</h4>
                        <p>Fences, rules, traditions, and code don't appear by accident.
                        Someone had a reason for creating them. Until you understand that reason,
                        you cannot judge whether it's still valid.</p>
                    </div>
                    <div class="principle-box">
                        <h4>Reform vs Deform</h4>
                        <p>Reforming is slow, respectful improvement. Deforming is hasty destruction.
                        The distinction matters: hasty removal often causes more harm than the original problem.</p>
                    </div>
                </div>

                <div class="info-panel">
                    <h3>üí• Real-World Disasters</h3>
                    <ul class="real-disasters">
                        <li>
                            <span class="title">China's Four Pests Campaign (1958)</span>
                            Mao ordered sparrows killed (they ate grain). Without sparrows,
                            locusts swarmed. 15-55 million died in the resulting famine.
                        </li>
                        <li>
                            <span class="title">Netscape's Browser Rewrite (1998)</span>
                            Threw away 5 years of code. Took 3 years to rebuild.
                            Microsoft's IE captured the market. Netscape died.
                        </li>
                        <li>
                            <span class="title">Twitter Verification (2022)</span>
                            Replaced identity verification with $8/month purchase.
                            Impersonation chaos followed immediately.
                        </li>
                        <li>
                            <span class="title">The Sleep() Call</span>
                            A developer removed a mysterious Sleep(). Turns out it
                            let another module initialize. Everything broke.
                        </li>
                    </ul>
                </div>

                <div class="info-panel citation">
                    <strong>Source:</strong> Chesterton, G.K. (1929). "The Thing: Why I Am a Catholic."
                    Chapter 4: "The Drift from Domesticity."
                </div>
            </div>
        </div>
    </div>

    <script>
        const scenarios = [
            {
                title: "The Mysterious Sleep() Call",
                icon: "üí§",
                description: `You're reviewing legacy code and find a <code>Sleep(500)</code> call in the middle of an authentication library. It slows down every login by half a second. There's no comment explaining why it's there. The original developer left years ago.`,
                fenceVisual: "üîíüí§üîí",
                mysteryLabel: "Unexplained 500ms delay",
                removeResult: {
                    disaster: true,
                    title: "üî• Authentication Failures Everywhere!",
                    explanation: "The Sleep() was giving a database connection pool time to initialize. Without it, 30% of login attempts fail during high traffic. You've created intermittent production bugs that take weeks to diagnose.",
                    lesson: "Code that 'makes no sense' often compensates for race conditions, timing issues, or quirks in dependencies. The absence of documentation isn't evidence of uselessness."
                },
                understandResult: {
                    disaster: false,
                    title: "‚úÖ Root Cause Discovered",
                    explanation: "You traced the code history and found it was added after production crashes. The database pool needed initialization time. You properly fixed the root cause with connection pool warming, THEN removed the Sleep() safely.",
                    lesson: "Understanding first meant you could remove the fence AND fix the underlying issue it was masking."
                }
            },
            {
                title: "The Empty Department",
                icon: "üè¢",
                description: `You're a new CEO. The "Quality Assurance Documentation" department has 3 people who seem to just write reports nobody reads. They cost $300K/year. The previous CEO is unavailable. Cutting them would boost quarterly profits.`,
                fenceVisual: "üìã‚úçÔ∏èüìã",
                mysteryLabel: "Seems redundant",
                removeResult: {
                    disaster: true,
                    title: "üî• Regulatory Catastrophe!",
                    explanation: "Those 'useless' reports were FDA compliance documentation. Three months later, an audit reveals missing records. The resulting fine: $4.2 million. Product recall costs: $12 million. Stock drops 23%.",
                    lesson: "In regulated industries, documentation requirements are invisible fences. What looks bureaucratic may be the only thing between you and legal disaster."
                },
                understandResult: {
                    disaster: false,
                    title: "‚úÖ Compliance Structure Preserved",
                    explanation: "You investigated and discovered these reports satisfy FDA 21 CFR Part 11. You modernized their workflow with automation, reducing the team to 2 people while maintaining compliance. Saved $100K without risk.",
                    lesson: "Understanding revealed both the necessity AND opportunity for improvement."
                }
            },
            {
                title: "The Sparrow Problem",
                icon: "üê¶",
                description: `You're advising a farming nation. Sparrows eat grain from fields, reducing yields by an estimated 5%. Someone proposes a campaign to eliminate all sparrows. Farmers are enthusiastic. The science seems simple: fewer birds = more grain.`,
                fenceVisual: "üåæüê¶üåæ",
                mysteryLabel: "Pests eating crops",
                removeResult: {
                    disaster: true,
                    title: "üî• Ecological Collapse",
                    explanation: "This is China's Four Pests Campaign (1958). Without sparrows eating locusts, locust populations exploded. The resulting swarms devastated crops far worse than sparrows ever did. Combined with other Great Leap Forward policies, 15-55 million people died in the famine.",
                    lesson: "Ecosystems have invisible dependencies. What looks like a pest may be controlling something worse."
                },
                understandResult: {
                    disaster: false,
                    title: "‚úÖ Ecosystem Preserved",
                    explanation: "You studied the sparrows' full diet and discovered they eat MORE insects than grain. Their net effect is actually positive for crops. You implemented better grain storage instead, protecting harvests without ecological disruption.",
                    lesson: "Second-order effects matter. The sparrows' visible 'cost' masked their invisible 'benefit.'"
                }
            },
            {
                title: "The Annoying Popup",
                icon: "‚ö†Ô∏è",
                description: `Your app shows a confirmation dialog before users delete their account: "Are you REALLY sure? This cannot be undone." Users complain it's patronizing. Your UX team wants to remove it for a cleaner experience.`,
                fenceVisual: "üóëÔ∏è‚ùìüóëÔ∏è",
                mysteryLabel: "Friction point",
                removeResult: {
                    disaster: true,
                    title: "üî• Accidental Deletion Crisis",
                    explanation: "Within a week, support tickets for 'accidentally deleted my account' increase 1200%. Turns out many users hit Delete while scrolling on mobile. The 'annoying' popup was preventing hundreds of accidental deletions daily. Now you're explaining to upset customers that their data is gone forever.",
                    lesson: "UX friction isn't always bad. Some friction protects users from irreversible mistakes."
                },
                understandResult: {
                    disaster: false,
                    title: "‚úÖ Smart Friction Retained",
                    explanation: "You analyzed WHY the popup was added: historical data showed high accidental deletion rates. You improved it with better copy and mobile-friendly design, keeping the protection while reducing annoyance.",
                    lesson: "The popup was a fence against user error. Understanding this let you improve rather than remove it."
                }
            },
            {
                title: "The Strange Tradition",
                icon: "üé≠",
                description: `Your company has a 'tradition' where every Friday, developers spend 2 hours in a meeting room with no agenda. They call it 'thinking time.' It seems wasteful‚Äîthat's 10% of work hours! HR wants to eliminate it to boost productivity metrics.`,
                fenceVisual: "üí≠‚è∞üí≠",
                mysteryLabel: "Unstructured meeting time",
                removeResult: {
                    disaster: true,
                    title: "üî• Innovation Collapses",
                    explanation: "Those 'wasted' hours were when engineers discussed problems freely, leading to your three biggest product innovations. Within 6 months of elimination, creative solutions dry up. Engineers feel micromanaged. Your best talent starts leaving. The 'productivity gain' costs you your competitive edge.",
                    lesson: "Slack time enables creativity. Optimizing every hour for 'productivity' can destroy the conditions for innovation."
                },
                understandResult: {
                    disaster: false,
                    title: "‚úÖ Innovation Engine Preserved",
                    explanation: "You talked to long-time employees and discovered 'thinking time' was started by the founder after reading about 3M's '15% time.' It had produced 3 patents and 2 major features. You kept it, even expanded it, and documented its purpose for future leaders.",
                    lesson: "What looks like waste may be essential infrastructure for creativity."
                }
            }
        ];

        let currentScenario = 0;
        let score = 0;
        let results = [];

        function renderScenario() {
            const scenario = scenarios[currentScenario];
            const container = document.getElementById('scenarioContainer');

            container.innerHTML = `
                <div class="scenario-card">
                    <div class="scenario-title">${scenario.icon} ${scenario.title}</div>
                    <div class="scenario-description">${scenario.description}</div>
                    <div class="fence-visual">
                        ${scenario.fenceVisual}
                        <span class="mystery-label">${scenario.mysteryLabel}</span>
                    </div>
                </div>

                <div class="choice-buttons">
                    <button class="choice-btn remove" onclick="makeChoice('remove')">
                        <div class="btn-title">üóëÔ∏è Remove It</div>
                        <div class="btn-desc">"I don't see the use of this. Let's clear it away."</div>
                    </button>
                    <button class="choice-btn understand" onclick="makeChoice('understand')">
                        <div class="btn-title">üîç Investigate First</div>
                        <div class="btn-desc">"Until I know why it's here, I won't touch it."</div>
                    </button>
                </div>

                <div class="result-panel" id="resultPanel"></div>
            `;

            document.getElementById('scenarioNum').textContent = `Scenario ${currentScenario + 1} of ${scenarios.length}`;
        }

        function makeChoice(choice) {
            const scenario = scenarios[currentScenario];
            const result = choice === 'remove' ? scenario.removeResult : scenario.understandResult;
            const resultPanel = document.getElementById('resultPanel');

            // Disable buttons
            document.querySelectorAll('.choice-btn').forEach(btn => btn.disabled = true);

            // Show result
            resultPanel.className = `result-panel ${result.disaster ? 'disaster' : 'success'}`;
            resultPanel.style.display = 'block';

            resultPanel.innerHTML = `
                <div class="result-title ${result.disaster ? 'disaster' : 'success'}">${result.title}</div>
                <p class="result-explanation">${result.explanation}</p>
                <div class="lesson-box">
                    <strong>Lesson:</strong> ${result.lesson}
                </div>
                <button class="next-btn" onclick="nextScenario()">
                    ${currentScenario < scenarios.length - 1 ? '‚û°Ô∏è Next Scenario' : 'üìä See Results'}
                </button>
            `;

            // Update score
            if (!result.disaster) {
                score++;
                document.getElementById('score').textContent = score;
            }

            results.push({
                title: scenario.title,
                choice: choice,
                disaster: result.disaster
            });
        }

        function nextScenario() {
            currentScenario++;
            if (currentScenario < scenarios.length) {
                renderScenario();
            } else {
                showFinalResults();
            }
        }

        function showFinalResults() {
            document.getElementById('scenarioContainer').style.display = 'none';
            const finalDiv = document.getElementById('finalResults');
            finalDiv.style.display = 'block';

            document.getElementById('finalScore').textContent = `${score}/${scenarios.length}`;

            const verdictEl = document.getElementById('finalVerdict');
            if (score === scenarios.length) {
                verdictEl.innerHTML = 'üèÜ <strong>Master Reformer!</strong><br>You understood every fence before touching it.';
                verdictEl.style.color = '#27ae60';
            } else if (score >= 3) {
                verdictEl.innerHTML = 'üëç <strong>Cautious Thinker</strong><br>You avoided most disasters through investigation.';
                verdictEl.style.color = '#f8b739';
            } else {
                verdictEl.innerHTML = '‚ö†Ô∏è <strong>Hasty Reformer</strong><br>Your quick removals caused preventable disasters.';
                verdictEl.style.color = '#e74c3c';
            }

            const breakdownEl = document.getElementById('finalBreakdown');
            breakdownEl.innerHTML = '<h4 style="margin-bottom: 15px;">Your Decisions:</h4>' +
                results.map(r => `
                    <div class="breakdown-item">
                        <span>${r.title}</span>
                        <span style="color: ${r.disaster ? '#e74c3c' : '#27ae60'}">
                            ${r.choice === 'remove' ? 'üóëÔ∏è Removed' : 'üîç Investigated'}
                            ${r.disaster ? '‚Üí Disaster' : '‚Üí Success'}
                        </span>
                    </div>
                `).join('');
        }

        function resetGame() {
            currentScenario = 0;
            score = 0;
            results = [];
            document.getElementById('score').textContent = '0';
            document.getElementById('finalResults').style.display = 'none';
            document.getElementById('scenarioContainer').style.display = 'block';
            renderScenario();
        }

        // Initialize
        renderScenario();
    </script>
</body>
</html>
