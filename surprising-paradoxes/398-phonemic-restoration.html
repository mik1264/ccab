<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Phonemic Restoration Effect - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
            line-height: 1.7;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--moss);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .back-link:hover {
            background: var(--moss);
            color: white;
            transform: translateX(-5px);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            color: var(--moss);
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: var(--terracotta);
            font-size: 1.2rem;
            margin-bottom: 40px;
            font-weight: 500;
        }

        .intro-card {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .intro-card h2 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        .experiment-phase {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .experiment-phase.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn {
            display: inline-block;
            padding: 15px 35px;
            background: var(--moss);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            font-family: 'Nunito', sans-serif;
        }

        .btn:hover {
            background: var(--dark-moss);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(96, 108, 56, 0.3);
        }

        .btn-secondary {
            background: var(--terracotta);
        }

        .btn-secondary:hover {
            background: #a55a1f;
        }

        .demo-card {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
        }

        .demo-card h3 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 20px;
        }

        .sentence-display {
            font-size: 1.5rem;
            line-height: 2;
            padding: 30px;
            background: #f8f6f1;
            border-radius: 15px;
            margin: 25px 0;
        }

        .missing-sound {
            background: var(--terracotta);
            color: white;
            padding: 2px 8px;
            border-radius: 5px;
            font-weight: 700;
        }

        .waveform-container {
            background: #1a1a2e;
            border-radius: 15px;
            padding: 30px;
            margin: 25px 0;
            position: relative;
            overflow: hidden;
        }

        .waveform {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100px;
            gap: 3px;
        }

        .wave-bar {
            width: 4px;
            background: var(--sage);
            border-radius: 2px;
            transition: height 0.1s ease;
        }

        .wave-bar.noise {
            background: var(--terracotta);
        }

        .wave-bar.gap {
            background: transparent;
            border: 1px dashed rgba(255,255,255,0.3);
        }

        .playing-indicator {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #44ff44;
            font-size: 0.8rem;
            display: none;
        }

        .playing-indicator.active {
            display: block;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .response-section {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }

        .response-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .response-btn {
            padding: 15px 25px;
            border: 2px solid var(--moss);
            background: transparent;
            color: var(--moss);
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Nunito', sans-serif;
        }

        .response-btn:hover {
            background: var(--moss);
            color: white;
        }

        .trial-counter {
            text-align: center;
            color: var(--terracotta);
            font-weight: 600;
            margin-bottom: 20px;
        }

        .results-card {
            background: linear-gradient(135deg, var(--moss) 0%, var(--dark-moss) 100%);
            color: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
        }

        .results-card h2 {
            font-family: 'Lora', serif;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .stat-box {
            background: rgba(255,255,255,0.15);
            padding: 20px 15px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        .science-section {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }

        .science-section h3 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        blockquote {
            border-left: 4px solid var(--earth);
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: var(--terracotta);
        }

        .comparison-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .comparison-panel {
            background: rgba(255,255,255,0.5);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .comparison-panel h4 {
            color: var(--moss);
            margin-bottom: 15px;
        }

        .comparison-panel.works {
            border: 2px solid var(--moss);
        }

        .comparison-panel.fails {
            border: 2px solid var(--terracotta);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .read-demo {
            background: #f8f6f1;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }

        .read-sentence {
            font-size: 1.4rem;
            line-height: 1.8;
            margin: 20px 0;
        }

        .blank {
            display: inline-block;
            width: 25px;
            height: 25px;
            background: var(--terracotta);
            border-radius: 4px;
            vertical-align: middle;
        }

        .reveal-text {
            color: var(--moss);
            font-weight: 700;
        }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .sentence-display { font-size: 1.2rem; }
            .comparison-box { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">
        <span>←</span> Back to Paradoxes
    </a>

    <div class="container">
        <h1>The Phonemic Restoration Effect</h1>
        <p class="subtitle">Hearing Sounds That Aren't There</p>

        <!-- Phase 1: Introduction -->
        <div id="phase1" class="experiment-phase active">
            <div class="intro-card">
                <h2>Your Brain Completes Missing Speech</h2>
                <p>In 1970, psychologist <strong>Richard Warren</strong> made a remarkable discovery: when a sound in a word is completely replaced by noise (like a cough), listeners <strong>still hear the missing sound</strong>.</p>
                <p>Not "figure out" what it should be. Not "guess." They genuinely <strong>perceive</strong> the sound as being there.</p>
                <p>In Warren's original experiment, 19 out of 20 subjects couldn't even identify <em>which</em> sound had been replaced!</p>
            </div>

            <div class="demo-card">
                <h3>Warren's Classic Demonstration</h3>
                <div class="sentence-display">
                    "The state governors met with their respective legi<span class="missing-sound">*COUGH*</span>latures convening in the capital city."
                </div>
                <p>The 's' in "legislatures" was completely replaced by a cough sound.</p>
                <p><strong>Result:</strong> Listeners reported hearing the complete word "legislatures" with a cough <em>somewhere nearby</em>—but not replacing any sound!</p>
            </div>

            <div class="science-section">
                <h3>Experience It Yourself</h3>
                <p>While we can't perfectly replicate audio online, we can demonstrate the <strong>same principle</strong> with text. Your brain uses context to fill in missing information automatically.</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="startExperiment()">Begin the Demonstration</button>
            </div>
        </div>

        <!-- Phase 2: Reading Demo -->
        <div id="phase2" class="experiment-phase">
            <div class="demo-card">
                <h3>Read This Sentence Quickly</h3>
                <div class="read-demo">
                    <div class="read-sentence" id="readSentence"></div>
                </div>
                <p style="margin-top: 20px;">What word appeared where the <span style="background: var(--terracotta); color: white; padding: 2px 8px; border-radius: 4px;">orange block</span> is?</p>
                <div class="response-buttons" id="readOptions"></div>
            </div>
            <div class="trial-counter">Sentence <span id="readTrialNum">1</span> of 5</div>
        </div>

        <!-- Phase 3: Waveform Demo -->
        <div id="phase3" class="experiment-phase">
            <div class="demo-card">
                <h3>Simulated Audio Demonstration</h3>
                <p>Watch the waveform. The orange section represents noise replacing a speech sound.</p>

                <div class="waveform-container">
                    <div class="playing-indicator" id="playingIndicator">● PLAYING</div>
                    <div class="waveform" id="waveform"></div>
                </div>

                <div class="sentence-display" id="audioSentence"></div>

                <button class="btn" onclick="playSimulation()" id="playBtn">▶ Play Audio Simulation</button>
            </div>

            <div class="response-section" id="audioResponse" style="display: none;">
                <p style="font-weight: 600; color: var(--moss);">Did you mentally "hear" the missing sound?</p>
                <div class="response-buttons">
                    <button class="response-btn" onclick="recordAudioResponse('yes_clear')">Yes, clearly</button>
                    <button class="response-btn" onclick="recordAudioResponse('yes_vague')">Somewhat</button>
                    <button class="response-btn" onclick="recordAudioResponse('no')">No, I noticed the gap</button>
                </div>
            </div>

            <div class="trial-counter">Example <span id="audioTrialNum">1</span> of 3</div>
        </div>

        <!-- Phase 4: Results -->
        <div id="phase4" class="experiment-phase">
            <div class="results-card">
                <h2>Your Results</h2>
                <div class="stat-grid">
                    <div class="stat-box">
                        <div class="stat-number" id="readCorrect">?</div>
                        <div class="stat-label">Reading Fill-ins</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="audioRestored">?</div>
                        <div class="stat-label">Audio Restorations</div>
                    </div>
                </div>
                <p id="resultMessage" style="margin-top: 20px; opacity: 0.9;"></p>
            </div>

            <div class="science-section">
                <h3>Why Does This Happen?</h3>
                <p>The phonemic restoration effect reveals that speech perception is not just <strong>bottom-up</strong> (ears → brain) but heavily <strong>top-down</strong> (brain → perception).</p>
                <p>Your brain uses:</p>
                <ul style="margin: 15px 0; padding-left: 25px;">
                    <li><strong>Prior context</strong> — what words came before</li>
                    <li><strong>Subsequent context</strong> — what words come after</li>
                    <li><strong>Semantic expectations</strong> — what makes sense</li>
                    <li><strong>Phonological rules</strong> — what sounds are legal in that position</li>
                </ul>
                <p>The result: you literally <strong>hear</strong> sounds that aren't in the audio signal!</p>
            </div>

            <div class="science-section">
                <h3>The Critical Discovery: Noise vs. Silence</h3>
                <div class="comparison-box">
                    <div class="comparison-panel works">
                        <h4>✓ Noise Replacement</h4>
                        <p>When the missing sound is replaced by <strong>noise</strong> (cough, static, tone), restoration works powerfully.</p>
                        <p>The noise provides "cover" — your brain assumes the sound is there but masked.</p>
                    </div>
                    <div class="comparison-panel fails">
                        <h4>✗ Silent Gap</h4>
                        <p>When there's just <strong>silence</strong>, restoration fails. You notice the gap.</p>
                        <p>Silence signals "nothing was said" rather than "something was obscured."</p>
                    </div>
                </div>
                <p>This proves the brain isn't just "guessing" — it's actively constructing perception based on what <em>should</em> be there given the masking sound.</p>
            </div>

            <div class="science-section">
                <h3>Neural Mechanisms (2016 Research)</h3>
                <p>Direct recordings from human auditory cortex revealed something remarkable:</p>
                <blockquote>
                    "The lateral superior temporal gyrus (STG) represents the missing sound that listeners perceive. Neural activity predicting what sound will be 'heard' appears up to 300 milliseconds BEFORE the sound is even presented."
                </blockquote>
                <p>Your brain is constantly <strong>predicting</strong> upcoming sounds and fills in the prediction when the actual sound is masked.</p>
            </div>

            <div class="science-section">
                <h3>Real-World Applications</h3>
                <ul style="margin: 15px 0; padding-left: 25px;">
                    <li><strong>Noisy environments</strong> — We understand speech in loud restaurants because our brain restores masked sounds</li>
                    <li><strong>Phone calls</strong> — Dropped packets in VoIP are perceptually filled in</li>
                    <li><strong>Hearing aids</strong> — Designers exploit restoration to reduce bandwidth</li>
                    <li><strong>Speech therapy</strong> — Understanding why some patients struggle with restoration</li>
                </ul>
            </div>

            <div class="btn-group">
                <button class="btn" onclick="resetExperiment()">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        // Reading trials
        const readingTrials = [
            {
                sentence: 'The car needs a new <span class="blank"></span>tery before winter.',
                options: ['battery', 'lottery', 'buttery'],
                correct: 'battery'
            },
            {
                sentence: 'She went to the hospi<span class="blank"></span>al for a checkup.',
                options: ['hospital', 'hospitable', 'horizontal'],
                correct: 'hospital'
            },
            {
                sentence: 'The gover<span class="blank"></span>ment announced new policies.',
                options: ['government', 'governed', 'governance'],
                correct: 'government'
            },
            {
                sentence: 'We need to add more vege<span class="blank"></span>bles to our diet.',
                options: ['vegetables', 'vegetarian', 'venerable'],
                correct: 'vegetables'
            },
            {
                sentence: 'The restau<span class="blank"></span>ant serves excellent food.',
                options: ['restaurant', 'resistant', 'resonant'],
                correct: 'restaurant'
            }
        ];

        // Audio simulation trials
        const audioTrials = [
            { sentence: 'The *NOISE* was on the orange.', word: 'peel', full: 'The peel was on the orange.' },
            { sentence: 'It was found that the *NOISE* was on the axle.', word: 'wheel', full: 'It was found that the wheel was on the axle.' },
            { sentence: 'The *NOISE* was on the shoe.', word: 'heel', full: 'The heel was on the shoe.' }
        ];

        let currentReadTrial = 0;
        let currentAudioTrial = 0;
        let readResults = [];
        let audioResults = [];

        function startExperiment() {
            currentReadTrial = 0;
            currentAudioTrial = 0;
            readResults = [];
            audioResults = [];
            showPhase(2);
            showReadTrial();
        }

        function showReadTrial() {
            const trial = readingTrials[currentReadTrial];
            document.getElementById('readSentence').innerHTML = trial.sentence;
            document.getElementById('readTrialNum').textContent = currentReadTrial + 1;

            const optionsHtml = trial.options.map(opt =>
                `<button class="response-btn" onclick="recordReadResponse('${opt}')">${opt}</button>`
            ).join('');
            document.getElementById('readOptions').innerHTML = optionsHtml;
        }

        function recordReadResponse(response) {
            const trial = readingTrials[currentReadTrial];
            readResults.push({
                correct: response === trial.correct,
                response: response,
                expected: trial.correct
            });

            currentReadTrial++;
            if (currentReadTrial < readingTrials.length) {
                showReadTrial();
            } else {
                showPhase(3);
                showAudioTrial();
            }
        }

        function showAudioTrial() {
            const trial = audioTrials[currentAudioTrial];
            document.getElementById('audioSentence').innerHTML =
                trial.sentence.replace('*NOISE*', '<span class="missing-sound">*NOISE*</span>');
            document.getElementById('audioTrialNum').textContent = currentAudioTrial + 1;
            document.getElementById('audioResponse').style.display = 'none';
            document.getElementById('playBtn').style.display = 'inline-block';

            // Setup waveform
            setupWaveform();
        }

        function setupWaveform() {
            const waveform = document.getElementById('waveform');
            waveform.innerHTML = '';

            // Create 60 bars
            for (let i = 0; i < 60; i++) {
                const bar = document.createElement('div');
                bar.className = 'wave-bar';
                bar.style.height = '10px';

                // Bars 20-25 are the "noise" section
                if (i >= 20 && i < 26) {
                    bar.classList.add('noise');
                }

                waveform.appendChild(bar);
            }
        }

        function playSimulation() {
            document.getElementById('playBtn').style.display = 'none';
            document.getElementById('playingIndicator').classList.add('active');

            const bars = document.querySelectorAll('.wave-bar');
            let position = 0;

            const animateWaveform = () => {
                bars.forEach((bar, i) => {
                    // Create wave pattern that moves
                    const distance = Math.abs(i - position);
                    let height;

                    if (distance < 5) {
                        height = 60 - distance * 10;
                    } else {
                        height = 10 + Math.random() * 15;
                    }

                    // Noise section is more chaotic
                    if (bar.classList.contains('noise') && distance < 8) {
                        height = 20 + Math.random() * 50;
                    }

                    bar.style.height = height + 'px';
                });

                position += 0.5;

                if (position < 65) {
                    requestAnimationFrame(animateWaveform);
                } else {
                    // Animation done
                    document.getElementById('playingIndicator').classList.remove('active');
                    document.getElementById('audioResponse').style.display = 'block';

                    // Reset bars
                    bars.forEach(bar => bar.style.height = '10px');
                }
            };

            animateWaveform();
        }

        function recordAudioResponse(response) {
            audioResults.push({
                restored: response !== 'no',
                response: response
            });

            currentAudioTrial++;
            if (currentAudioTrial < audioTrials.length) {
                showAudioTrial();
            } else {
                showResults();
            }
        }

        function showResults() {
            const readCorrect = readResults.filter(r => r.correct).length;
            const audioRestored = audioResults.filter(r => r.restored).length;

            document.getElementById('readCorrect').textContent = readCorrect + '/' + readingTrials.length;
            document.getElementById('audioRestored').textContent = audioRestored + '/' + audioTrials.length;

            let message = '';
            if (readCorrect >= 4 && audioRestored >= 2) {
                message = "Classic phonemic restoration! Your brain automatically filled in missing sounds based on context. This is exactly what Warren observed in 1970—the effect is automatic and unavoidable.";
            } else if (readCorrect >= 3 || audioRestored >= 2) {
                message = "You experienced the restoration effect. Your brain's language processing system uses context to reconstruct missing information, often without you even noticing gaps.";
            } else {
                message = "Interesting! You were more aware of the gaps than most. The visual demonstration is less powerful than real audio—in Warren's experiments with actual speech and noise, almost everyone experienced full restoration.";
            }

            document.getElementById('resultMessage').textContent = message;

            showPhase(4);
        }

        function showPhase(num) {
            document.querySelectorAll('.experiment-phase').forEach(p => p.classList.remove('active'));
            document.getElementById('phase' + num).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetExperiment() {
            currentReadTrial = 0;
            currentAudioTrial = 0;
            readResults = [];
            audioResults = [];
            showPhase(1);
        }
    </script>
</body>
</html>
