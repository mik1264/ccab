<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Fermi Paradox | Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
            --space-dark: #0a0a1a;
            --space-purple: #1a1a3a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--space-dark) 0%, var(--space-purple) 100%);
            min-height: 100vh;
            color: #e0e0e0;
            position: relative;
            overflow-x: hidden;
        }

        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 30px 20px;
            position: relative;
            z-index: 1;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 50px;
            text-decoration: none;
            color: var(--cream);
            font-weight: 600;
            margin-bottom: 20px;
            transition: all 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .back-link:hover { background: rgba(255, 255, 255, 0.2); }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.5rem;
            color: var(--cream);
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(221, 161, 94, 0.5);
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 30px;
            max-width: 750px;
            line-height: 1.6;
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 25px;
        }

        .panel h3 {
            font-family: 'Lora', serif;
            color: var(--earth);
            margin-bottom: 15px;
        }

        .quote-box {
            background: rgba(221, 161, 94, 0.1);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid var(--earth);
            margin-bottom: 20px;
            font-style: italic;
            font-size: 1.3rem;
            text-align: center;
        }

        .quote-attribution {
            margin-top: 15px;
            font-style: normal;
            font-weight: 600;
            color: var(--earth);
            font-size: 1rem;
        }

        .drake-equation {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }

        .drake-term {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            min-width: 80px;
        }

        .drake-term .symbol {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--earth);
        }

        .drake-term .label {
            font-size: 0.7rem;
            opacity: 0.7;
            text-align: center;
        }

        .drake-operator {
            font-size: 1.5rem;
            color: var(--sage);
        }

        .slider-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .slider-item {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 12px;
        }

        .slider-item label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .slider-item label span:last-child {
            color: var(--earth);
            font-weight: 700;
        }

        input[type="range"] {
            width: 100%;
            accent-color: var(--earth);
        }

        .slider-item .description {
            font-size: 0.8rem;
            opacity: 0.6;
            margin-top: 5px;
        }

        .result-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, rgba(221, 161, 94, 0.2), rgba(138, 154, 91, 0.2));
            border-radius: 15px;
            margin: 20px 0;
        }

        .result-number {
            font-size: 4rem;
            font-weight: 700;
            color: var(--earth);
            font-family: 'Lora', serif;
            text-shadow: 0 0 30px rgba(221, 161, 94, 0.5);
        }

        .result-label {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .paradox-statement {
            background: rgba(188, 108, 37, 0.2);
            border: 2px solid var(--terracotta);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }

        .paradox-statement h4 {
            color: var(--terracotta);
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .galaxy-sim {
            height: 300px;
            background: radial-gradient(ellipse at center, rgba(100, 100, 150, 0.3) 0%, transparent 70%);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            margin: 20px 0;
        }

        .galaxy-sim canvas {
            width: 100%;
            height: 100%;
        }

        .sim-controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 15px 0;
        }

        .btn {
            padding: 12px 25px;
            background: var(--earth);
            color: var(--space-dark);
            border: none;
            border-radius: 25px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover { background: var(--terracotta); transform: translateY(-2px); }
        .btn.secondary { background: transparent; border: 2px solid var(--sage); color: var(--cream); }

        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .solution-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid var(--sage);
            transition: all 0.3s;
        }

        .solution-card:hover {
            background: rgba(0, 0, 0, 0.4);
            transform: translateX(5px);
        }

        .solution-card h4 {
            color: var(--earth);
            margin-bottom: 10px;
            font-family: 'Lora', serif;
        }

        .solution-card p {
            font-size: 0.9rem;
            line-height: 1.6;
            opacity: 0.9;
        }

        .filter-viz {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-stage {
            text-align: center;
            padding: 15px;
            flex: 1;
            min-width: 100px;
        }

        .filter-stage .icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .filter-stage .label {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .filter-arrow {
            color: var(--sage);
            font-size: 1.5rem;
        }

        .filter-barrier {
            background: linear-gradient(to right, transparent, rgba(188, 108, 37, 0.5), transparent);
            padding: 10px 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px dashed var(--terracotta);
        }

        .filter-barrier .label {
            color: var(--terracotta);
            font-weight: 700;
        }

        .essay-section p { line-height: 1.8; margin-bottom: 15px; }

        .highlight {
            background: var(--earth);
            color: var(--space-dark);
            padding: 2px 8px;
            border-radius: 4px;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .timeline-year {
            min-width: 100px;
            color: var(--earth);
            font-weight: 700;
            text-align: right;
        }

        .timeline-content {
            flex: 1;
            padding-bottom: 20px;
            border-left: 2px solid var(--sage);
            padding-left: 20px;
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            left: 118px;
            width: 12px;
            height: 12px;
            background: var(--earth);
            border-radius: 50%;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <canvas id="starfield"></canvas>

    <div class="container">
        <a href="index.html" class="back-link">
            <span>&larr;</span>
            <span>Back to Surprising</span>
        </a>

        <h1>The Fermi Paradox</h1>
        <p class="subtitle">The universe is unimaginably vast and ancient. Given the high probability of intelligent life, why haven't we found any evidence of it? Where is everybody?</p>

        <div class="panel">
            <div class="quote-box">
                "Where is everybody?"
                <div class="quote-attribution">‚Äî Enrico Fermi, 1950 (at Los Alamos lunch)</div>
            </div>

            <h3>The Numbers Don't Add Up</h3>
            <p>The Milky Way contains <span class="highlight">100-400 billion stars</span>. The observable universe has <span class="highlight">~2 trillion galaxies</span>. Even with conservative estimates, there should be millions of intelligent civilizations. Yet we see... nothing.</p>

            <div class="paradox-statement">
                <h4>üî≠ The Great Silence</h4>
                <p>No signals. No probes. No megastructures. No visitors. 13.8 billion years of cosmic history, and we appear utterly alone.</p>
            </div>
        </div>

        <div class="panel">
            <h3>The Drake Equation</h3>
            <p style="margin-bottom: 15px;">In 1961, astronomer Frank Drake proposed an equation to estimate the number of communicating civilizations in our galaxy:</p>

            <div class="drake-equation">
                <div class="drake-term"><span class="symbol">N</span><span class="label">Civilizations</span></div>
                <span class="drake-operator">=</span>
                <div class="drake-term"><span class="symbol">R*</span><span class="label">Star formation</span></div>
                <span class="drake-operator">√ó</span>
                <div class="drake-term"><span class="symbol">fp</span><span class="label">% with planets</span></div>
                <span class="drake-operator">√ó</span>
                <div class="drake-term"><span class="symbol">ne</span><span class="label">Habitable planets</span></div>
                <span class="drake-operator">√ó</span>
                <div class="drake-term"><span class="symbol">fl</span><span class="label">% with life</span></div>
                <span class="drake-operator">√ó</span>
                <div class="drake-term"><span class="symbol">fi</span><span class="label">% intelligent</span></div>
                <span class="drake-operator">√ó</span>
                <div class="drake-term"><span class="symbol">fc</span><span class="label">% communicating</span></div>
                <span class="drake-operator">√ó</span>
                <div class="drake-term"><span class="symbol">L</span><span class="label">Civ. lifespan</span></div>
            </div>

            <h4 style="color: var(--earth); margin: 20px 0 10px;">Adjust the parameters:</h4>

            <div class="slider-grid">
                <div class="slider-item">
                    <label><span>R* - Star formation rate</span><span id="rStarVal">3</span>/year</label>
                    <input type="range" id="rStar" min="1" max="10" value="3" step="0.5">
                    <div class="description">New stars formed per year in the Milky Way</div>
                </div>
                <div class="slider-item">
                    <label><span>fp - Stars with planets</span><span id="fpVal">100</span>%</label>
                    <input type="range" id="fp" min="10" max="100" value="100">
                    <div class="description">Now known to be ~100% (Kepler data)</div>
                </div>
                <div class="slider-item">
                    <label><span>ne - Habitable planets per star</span><span id="neVal">0.4</span></label>
                    <input type="range" id="ne" min="0.1" max="2" value="0.4" step="0.1">
                    <div class="description">Earth-like planets in habitable zone</div>
                </div>
                <div class="slider-item">
                    <label><span>fl - Fraction developing life</span><span id="flVal">50</span>%</label>
                    <input type="range" id="fl" min="1" max="100" value="50">
                    <div class="description">Huge uncertainty! 1% to 100%</div>
                </div>
                <div class="slider-item">
                    <label><span>fi - Fraction becoming intelligent</span><span id="fiVal">10</span>%</label>
                    <input type="range" id="fi" min="1" max="100" value="10">
                    <div class="description">Of planets with life, how many get intelligence?</div>
                </div>
                <div class="slider-item">
                    <label><span>fc - Fraction that communicate</span><span id="fcVal">20</span>%</label>
                    <input type="range" id="fc" min="1" max="100" value="20">
                    <div class="description">Develop detectable technology</div>
                </div>
                <div class="slider-item">
                    <label><span>L - Civilization lifespan</span><span id="lVal">10000</span> years</label>
                    <input type="range" id="l" min="100" max="1000000" value="10000" step="100">
                    <div class="description">How long before self-destruction or transcendence?</div>
                </div>
            </div>

            <div class="result-display">
                <div class="result-number" id="drakeResult">--</div>
                <div class="result-label">Communicating civilizations in the Milky Way right now</div>
            </div>
        </div>

        <div class="panel">
            <h3>Galaxy Colonization Simulation</h3>
            <p style="margin-bottom: 15px;">Even at 1% the speed of light, a civilization could colonize the entire galaxy in just ~10 million years‚Äîa blink in cosmic time. Watch how fast it spreads:</p>

            <div class="galaxy-sim">
                <canvas id="galaxyCanvas"></canvas>
            </div>

            <div class="sim-controls">
                <button class="btn" id="startSim">Start Colonization</button>
                <button class="btn secondary" id="resetSim">Reset</button>
            </div>

            <p id="simStatus" style="text-align: center; margin-top: 10px; color: var(--earth);">Click "Start Colonization" to begin</p>
        </div>

        <div class="panel">
            <h3>The Great Filter</h3>
            <p style="margin-bottom: 15px;">If intelligent life is common, something must be stopping civilizations from becoming visible. This hypothetical barrier is called the <span class="highlight">Great Filter</span>.</p>

            <div class="filter-viz">
                <div class="filter-stage">
                    <div class="icon">üåç</div>
                    <div class="label">Habitable Planet</div>
                </div>
                <span class="filter-arrow">‚Üí</span>
                <div class="filter-stage">
                    <div class="icon">ü¶†</div>
                    <div class="label">Simple Life</div>
                </div>
                <span class="filter-arrow">‚Üí</span>
                <div class="filter-stage">
                    <div class="icon">üêü</div>
                    <div class="label">Complex Life</div>
                </div>
                <span class="filter-arrow">‚Üí</span>
                <div class="filter-stage">
                    <div class="icon">üß†</div>
                    <div class="label">Intelligence</div>
                </div>
                <span class="filter-arrow">‚Üí</span>
                <div class="filter-barrier">
                    <div class="icon">‚ö†Ô∏è</div>
                    <div class="label">THE GREAT FILTER?</div>
                </div>
                <span class="filter-arrow">‚Üí</span>
                <div class="filter-stage">
                    <div class="icon">üöÄ</div>
                    <div class="label">Spacefaring</div>
                </div>
                <span class="filter-arrow">‚Üí</span>
                <div class="filter-stage">
                    <div class="icon">üåå</div>
                    <div class="label">Galactic Civ</div>
                </div>
            </div>

            <div class="solutions-grid">
                <div class="solution-card">
                    <h4>üå± Filter Behind Us (Good News)</h4>
                    <p>Maybe abiogenesis or the evolution of complex cells is incredibly rare. We've already passed the filter! Finding life on Mars would be BAD news‚Äîit means the filter is ahead.</p>
                </div>
                <div class="solution-card">
                    <h4>üíÄ Filter Ahead (Terrifying)</h4>
                    <p>Civilizations regularly destroy themselves before becoming spacefaring. Nuclear war, AI, bioweapons, climate collapse, resource depletion... We may be heading toward it.</p>
                </div>
            </div>
        </div>

        <div class="panel">
            <h3>Proposed Solutions</h3>
            <div class="solutions-grid">
                <div class="solution-card">
                    <h4>ü¶Å The Zoo Hypothesis</h4>
                    <p>Advanced civilizations are watching us like animals in a nature preserve, deliberately avoiding contact to let us develop naturally.</p>
                </div>
                <div class="solution-card">
                    <h4>üå≤ The Dark Forest Theory</h4>
                    <p>The universe is hostile. Civilizations hide because any who reveal themselves get destroyed by others. Silence is survival.</p>
                </div>
                <div class="solution-card">
                    <h4>‚è∞ We're Too Early</h4>
                    <p>The universe is young. We may be among the first intelligent species. Future civilizations will look back at us as pioneers.</p>
                </div>
                <div class="solution-card">
                    <h4>üì° Wrong Frequencies</h4>
                    <p>We're looking for radio waves, but advanced civilizations use something else‚Äîquantum communications, gravitational waves, or methods we can't conceive.</p>
                </div>
                <div class="solution-card">
                    <h4>üñ•Ô∏è Simulation Hypothesis</h4>
                    <p>We live in a simulation that only renders what we can observe. There are no aliens because the simulation doesn't include them.</p>
                </div>
                <div class="solution-card">
                    <h4>üé≠ They're Already Here</h4>
                    <p>UFO sightings, ancient astronaut theories, or perhaps they're so advanced we simply can't recognize them as technology.</p>
                </div>
                <div class="solution-card">
                    <h4>üí§ The Aestivation Hypothesis</h4>
                    <p>Advanced civilizations are "sleeping," waiting for the universe to cool down so their computations are more efficient in the distant future.</p>
                </div>
                <div class="solution-card">
                    <h4>üåÄ Transcendence</h4>
                    <p>All civilizations eventually upload into virtual realities or dimensions we can't access. The physical universe becomes boring.</p>
                </div>
            </div>
        </div>

        <div class="panel">
            <h3>The Implications</h3>
            <p>The Fermi Paradox isn't just an academic puzzle‚Äîit has profound implications for humanity's future:</p>

            <ul style="list-style: none; padding: 0;">
                <li style="padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <strong style="color: var(--earth);">üî¨ Scientific Humility</strong> ‚Äî Our search methods may be fundamentally flawed. SETI has only searched a tiny fraction of parameter space.
                </li>
                <li style="padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <strong style="color: var(--earth);">‚ö†Ô∏è Existential Risk</strong> ‚Äî If the filter is ahead, we must take existential risks seriously. Every civilization may face a test that most fail.
                </li>
                <li style="padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <strong style="color: var(--earth);">üåç Cosmic Responsibility</strong> ‚Äî If we're rare or alone, we have an obligation to spread life and intelligence into the cosmos.
                </li>
                <li style="padding: 15px 0;">
                    <strong style="color: var(--earth);">ü§î Philosophical Weight</strong> ‚Äî Our existence may be far more improbable‚Äîand precious‚Äîthan we ever imagined.
                </li>
            </ul>
        </div>
    </div>

    <script>
        // Starfield background
        const starCanvas = document.getElementById('starfield');
        const starCtx = starCanvas.getContext('2d');

        function resizeStarfield() {
            starCanvas.width = window.innerWidth;
            starCanvas.height = window.innerHeight;
            drawStars();
        }

        function drawStars() {
            starCtx.fillStyle = '#0a0a1a';
            starCtx.fillRect(0, 0, starCanvas.width, starCanvas.height);

            for (let i = 0; i < 300; i++) {
                const x = Math.random() * starCanvas.width;
                const y = Math.random() * starCanvas.height;
                const r = Math.random() * 1.5;
                const opacity = 0.3 + Math.random() * 0.7;

                starCtx.beginPath();
                starCtx.arc(x, y, r, 0, Math.PI * 2);
                starCtx.fillStyle = `rgba(255, 255, 255, ${opacity})`;
                starCtx.fill();
            }
        }

        window.addEventListener('resize', resizeStarfield);
        resizeStarfield();

        // Drake Equation Calculator
        function calculateDrake() {
            const rStar = parseFloat(document.getElementById('rStar').value);
            const fp = parseFloat(document.getElementById('fp').value) / 100;
            const ne = parseFloat(document.getElementById('ne').value);
            const fl = parseFloat(document.getElementById('fl').value) / 100;
            const fi = parseFloat(document.getElementById('fi').value) / 100;
            const fc = parseFloat(document.getElementById('fc').value) / 100;
            const l = parseFloat(document.getElementById('l').value);

            const N = rStar * fp * ne * fl * fi * fc * l;

            document.getElementById('drakeResult').textContent =
                N >= 1000000 ? (N / 1000000).toFixed(1) + 'M' :
                N >= 1000 ? (N / 1000).toFixed(1) + 'K' :
                Math.round(N).toLocaleString();

            // Update display values
            document.getElementById('rStarVal').textContent = rStar;
            document.getElementById('fpVal').textContent = Math.round(fp * 100);
            document.getElementById('neVal').textContent = ne;
            document.getElementById('flVal').textContent = Math.round(fl * 100);
            document.getElementById('fiVal').textContent = Math.round(fi * 100);
            document.getElementById('fcVal').textContent = Math.round(fc * 100);
            document.getElementById('lVal').textContent = l.toLocaleString();
        }

        document.querySelectorAll('.slider-item input').forEach(slider => {
            slider.addEventListener('input', calculateDrake);
        });
        calculateDrake();

        // Galaxy Colonization Simulation
        const galaxyCanvas = document.getElementById('galaxyCanvas');
        const gCtx = galaxyCanvas.getContext('2d');
        let colonized = [];
        let simRunning = false;
        let simInterval;

        function resizeGalaxy() {
            const container = galaxyCanvas.parentElement;
            galaxyCanvas.width = container.clientWidth * window.devicePixelRatio;
            galaxyCanvas.height = container.clientHeight * window.devicePixelRatio;
            gCtx.scale(window.devicePixelRatio, window.devicePixelRatio);
            drawGalaxy();
        }

        function drawGalaxy() {
            const w = galaxyCanvas.width / window.devicePixelRatio;
            const h = galaxyCanvas.height / window.devicePixelRatio;
            const cx = w / 2;
            const cy = h / 2;

            gCtx.clearRect(0, 0, w, h);

            // Draw spiral galaxy background
            gCtx.save();
            gCtx.translate(cx, cy);

            for (let i = 0; i < 2000; i++) {
                const arm = Math.floor(Math.random() * 4);
                const angle = arm * Math.PI / 2 + Math.random() * 3;
                const dist = 20 + Math.random() * Math.min(w, h) * 0.4;
                const spiralAngle = angle + dist * 0.01;

                const x = Math.cos(spiralAngle) * dist + (Math.random() - 0.5) * 20;
                const y = Math.sin(spiralAngle) * dist * 0.4 + (Math.random() - 0.5) * 10;

                gCtx.beginPath();
                gCtx.arc(x, y, Math.random() * 1.2, 0, Math.PI * 2);
                gCtx.fillStyle = `rgba(200, 200, 255, ${0.3 + Math.random() * 0.4})`;
                gCtx.fill();
            }

            // Draw colonized systems
            colonized.forEach(c => {
                gCtx.beginPath();
                gCtx.arc(c.x, c.y, 3, 0, Math.PI * 2);
                gCtx.fillStyle = '#DDA15E';
                gCtx.fill();

                // Glow effect
                const gradient = gCtx.createRadialGradient(c.x, c.y, 0, c.x, c.y, 10);
                gradient.addColorStop(0, 'rgba(221, 161, 94, 0.5)');
                gradient.addColorStop(1, 'transparent');
                gCtx.fillStyle = gradient;
                gCtx.beginPath();
                gCtx.arc(c.x, c.y, 10, 0, Math.PI * 2);
                gCtx.fill();
            });

            gCtx.restore();
        }

        function startSimulation() {
            if (simRunning) return;
            simRunning = true;

            // Start from center
            colonized = [{ x: 0, y: 0 }];
            let year = 0;

            simInterval = setInterval(() => {
                year += 100000; // 100,000 years per tick

                // Each colonized system spreads to nearby uncolonized
                const newColonies = [];
                colonized.forEach(c => {
                    if (Math.random() < 0.3) {
                        const angle = Math.random() * Math.PI * 2;
                        const dist = 10 + Math.random() * 15;
                        newColonies.push({
                            x: c.x + Math.cos(angle) * dist,
                            y: c.y + Math.sin(angle) * dist * 0.4
                        });
                    }
                });

                colonized = colonized.concat(newColonies);

                // Limit to prevent lag
                if (colonized.length > 500) {
                    colonized = colonized.slice(-500);
                }

                drawGalaxy();

                document.getElementById('simStatus').textContent =
                    `Year ${(year / 1000000).toFixed(1)} million: ${colonized.length} systems colonized`;

                // Stop when galaxy is "full"
                if (year > 10000000 || colonized.length > 400) {
                    clearInterval(simInterval);
                    simRunning = false;
                    document.getElementById('simStatus').textContent =
                        `Galaxy colonized in ~${(year / 1000000).toFixed(1)} million years! (A cosmic instant)`;
                }
            }, 100);
        }

        function resetSimulation() {
            clearInterval(simInterval);
            simRunning = false;
            colonized = [];
            drawGalaxy();
            document.getElementById('simStatus').textContent = 'Click "Start Colonization" to begin';
        }

        document.getElementById('startSim').addEventListener('click', startSimulation);
        document.getElementById('resetSim').addEventListener('click', resetSimulation);

        window.addEventListener('resize', resizeGalaxy);
        resizeGalaxy();
    </script>
</body>
</html>
