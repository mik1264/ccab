<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leveling and Sharpening - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e8e8e8;
            min-height: 100vh;
            line-height: 1.8;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .back-link {
            display: inline-block;
            color: #64b5f6;
            text-decoration: none;
            margin-bottom: 30px;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: #90caf9;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #64b5f6, #ce93d8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.3rem;
            color: #b0bec5;
            margin-bottom: 30px;
            font-style: italic;
        }

        .intro {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 4px solid #64b5f6;
        }

        .intro p {
            margin-bottom: 15px;
        }

        .experiment-container {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .btn {
            background: linear-gradient(135deg, #64b5f6, #42a5f5);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 20px auto;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(100, 181, 246, 0.4);
        }

        .transmission-chain {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 30px 0;
        }

        .transmission-step {
            display: flex;
            gap: 20px;
            align-items: flex-start;
            opacity: 0;
            transform: translateX(-30px);
            transition: all 0.5s;
        }

        .transmission-step.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .person-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .person-avatar.original {
            background: linear-gradient(135deg, #4caf50, #81c784);
        }

        .person-avatar.transmitter {
            background: linear-gradient(135deg, #ff9800, #ffb74d);
        }

        .person-avatar.final {
            background: linear-gradient(135deg, #f44336, #e57373);
        }

        .transmission-content {
            flex: 1;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px 20px;
            position: relative;
        }

        .person-label {
            font-weight: bold;
            color: #90caf9;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .story-text {
            line-height: 1.7;
        }

        .highlight-lost {
            background: rgba(244, 67, 54, 0.3);
            text-decoration: line-through;
            color: #ef9a9a;
        }

        .highlight-added {
            background: rgba(76, 175, 80, 0.3);
            color: #a5d6a7;
            font-weight: bold;
        }

        .highlight-changed {
            background: rgba(255, 152, 0, 0.3);
            color: #ffcc80;
        }

        .arrow-down {
            text-align: center;
            font-size: 2rem;
            color: #607d8b;
            margin: 10px 0;
        }

        .analysis-section {
            display: none;
            margin-top: 30px;
        }

        .analysis-section.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-card.leveled {
            border: 2px solid #ef5350;
        }

        .stat-card.sharpened {
            border: 2px solid #4caf50;
        }

        .stat-card.changed {
            border: 2px solid #ff9800;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-value.red { color: #ef5350; }
        .stat-value.green { color: #4caf50; }
        .stat-value.orange { color: #ff9800; }

        .stat-label {
            font-size: 0.9rem;
            color: #b0bec5;
        }

        .detail-list {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .detail-list h4 {
            margin-bottom: 15px;
        }

        .detail-item {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .detail-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            flex-shrink: 0;
        }

        .detail-icon.lost {
            background: #ef5350;
        }

        .detail-icon.added {
            background: #4caf50;
        }

        .detail-icon.modified {
            background: #ff9800;
        }

        .explanation {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
        }

        .explanation h3 {
            color: #ce93d8;
            margin-bottom: 15px;
        }

        .citation {
            font-style: italic;
            color: #90a4ae;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .word-count-bar {
            display: flex;
            align-items: center;
            margin: 10px 0;
            gap: 15px;
        }

        .wc-label {
            width: 100px;
            font-size: 0.85rem;
        }

        .wc-bar-container {
            flex: 1;
            height: 25px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            overflow: hidden;
        }

        .wc-bar {
            height: 100%;
            display: flex;
            align-items: center;
            padding-left: 10px;
            font-size: 0.8rem;
            font-weight: bold;
            transition: width 1s ease-out;
        }

        .select-story {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .story-option {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .story-option:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: #64b5f6;
        }

        .story-option h4 {
            color: #90caf9;
            margin-bottom: 8px;
        }

        .story-option p {
            font-size: 0.9rem;
            color: #b0bec5;
        }

        .progress-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
        }

        .progress-dot.active {
            background: #64b5f6;
        }

        .progress-dot.complete {
            background: #4caf50;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Surprising Paradoxes</a>

        <h1>Leveling and Sharpening</h1>
        <p class="subtitle">Bartlett (1932) & Allport/Postman (1947) - How Stories Transform Through Retelling</p>

        <div class="intro">
            <p><strong>Memories don't just fade‚Äîthey TRANSFORM!</strong></p>
            <p>When stories pass from person to person (like a game of telephone), two systematic distortions occur: <strong>Leveling</strong> removes details, and <strong>Sharpening</strong> exaggerates others. After 5-6 transmissions, stories become unrecognizable.</p>
            <p>Bartlett's 1932 "War of the Ghosts" experiment showed that unfamiliar cultural elements vanish while dramatic details grow. This is why rumors and eyewitness testimony are so unreliable.</p>
        </div>

        <div class="experiment-container">
            <h2 style="text-align: center; margin-bottom: 20px;">Watch Serial Reproduction in Action</h2>

            <div id="phase-select">
                <p style="text-align: center; margin-bottom: 20px;">Choose a story to transmit through the chain:</p>
                <div class="select-story">
                    <div class="story-option" onclick="selectStory(0)">
                        <h4>The Restaurant Incident</h4>
                        <p>A contemporary story about a mishap at a local cafe. Watch everyday details get lost and dramatic elements amplified.</p>
                    </div>
                    <div class="story-option" onclick="selectStory(1)">
                        <h4>The Museum Heist</h4>
                        <p>A news report about art theft. See how numbers, names, and specifics distort through transmission.</p>
                    </div>
                    <div class="story-option" onclick="selectStory(2)">
                        <h4>The Storm Warning</h4>
                        <p>An emergency bulletin. Discover how crucial safety information gets corrupted through the chain.</p>
                    </div>
                </div>
            </div>

            <div id="phase-transmission" style="display: none;">
                <div class="progress-dots" id="progress-dots"></div>
                <div class="transmission-chain" id="transmission-chain"></div>
                <button class="btn" id="next-btn" onclick="showNextTransmission()">Show Next Transmission</button>
            </div>

            <div id="phase-analysis" class="analysis-section">
                <h2 style="text-align: center; margin-bottom: 20px;">Analysis: What Changed?</h2>

                <div class="stats-grid">
                    <div class="stat-card leveled">
                        <div class="stat-value red" id="leveled-count">0</div>
                        <div class="stat-label">Details LEVELED (lost)</div>
                    </div>
                    <div class="stat-card sharpened">
                        <div class="stat-value green" id="sharpened-count">0</div>
                        <div class="stat-label">Details SHARPENED (added/exaggerated)</div>
                    </div>
                    <div class="stat-card changed">
                        <div class="stat-value orange" id="changed-count">0</div>
                        <div class="stat-label">Details MODIFIED</div>
                    </div>
                </div>

                <h4 style="margin-top: 25px; margin-bottom: 15px;">Word Count Decay</h4>
                <div id="word-count-chart"></div>

                <div class="detail-list">
                    <h4>üîª LEVELED (Lost Details)</h4>
                    <div id="leveled-list"></div>
                </div>

                <div class="detail-list" style="margin-top: 15px;">
                    <h4>üî∫ SHARPENED (Added/Exaggerated)</h4>
                    <div id="sharpened-list"></div>
                </div>

                <div class="detail-list" style="margin-top: 15px;">
                    <h4>üîÑ MODIFIED (Changed)</h4>
                    <div id="changed-list"></div>
                </div>

                <div class="explanation">
                    <h3>Why Does This Happen?</h3>
                    <p><strong>Leveling</strong> occurs because our memory has limited capacity. We forget peripheral details, exact numbers, proper names, and unfamiliar elements. Roughly 70% of details are lost after 5 transmissions.</p>
                    <p style="margin-top: 15px;"><strong>Sharpening</strong> happens because we unconsciously emphasize elements that fit our existing schemas or are emotionally salient. Dramatic elements grow while mundane ones fade.</p>
                    <p style="margin-top: 15px;"><strong>Assimilation</strong> is a third process where we change details to match cultural expectations. Bartlett's British subjects transformed Native American ghost story elements into more familiar concepts.</p>
                    <p style="margin-top: 15px;"><strong>Implications:</strong> This is why eyewitness testimony is unreliable, why rumors become sensationalized, and why historical oral traditions drift from original events. Each retelling is a reconstruction, not a replay.</p>

                    <p class="citation">Bartlett, F. C. (1932). Remembering: A Study in Experimental and Social Psychology. Cambridge University Press.<br>
                    Allport, G. W., & Postman, L. (1947). The Psychology of Rumor. Henry Holt and Company.</p>
                </div>

                <button class="btn" onclick="resetExperiment()">Try Another Story</button>
            </div>
        </div>
    </div>

    <script>
        const stories = [
            {
                title: "The Restaurant Incident",
                versions: [
                    {
                        person: "üëÅÔ∏è Eyewitness",
                        text: "Yesterday at 2:15 PM, I was at Giovanni's Italian Restaurant on Oak Street when a woman in a red dress accidentally knocked over a waiter carrying a tray of four glasses of wine. The waiter, named Marcus according to his nametag, caught two glasses but three shattered on the floor. The manager, a tall man with gray hair, came over and apologized to nearby customers. The woman offered to pay for the damages, which the manager estimated at $47. She left a $100 tip for Marcus."
                    },
                    {
                        person: "üë§ Person 2",
                        text: "Yesterday afternoon, someone was at an Italian restaurant on Oak Street when a woman in a red dress bumped into a waiter with wine glasses. The waiter caught some but a few broke. The manager came over and apologized. The woman paid for the damages and left a big tip for the waiter."
                    },
                    {
                        person: "üë§ Person 3",
                        text: "Yesterday at an Italian place, a woman in red knocked into a waiter and spilled wine everywhere. Glasses smashed on the floor. The manager was upset but the woman paid for everything and tipped generously."
                    },
                    {
                        person: "üë§ Person 4",
                        text: "At an Italian restaurant, a clumsy woman spilled wine all over the place. There was broken glass everywhere and the manager was angry. She had to pay a lot of money to make up for it."
                    },
                    {
                        person: "üë§ Person 5",
                        text: "Some woman made a huge scene at a restaurant by knocking over a waiter. Wine and glass went flying. The manager yelled at her and she had to pay hundreds of dollars in damages."
                    },
                    {
                        person: "üì¢ Final Version",
                        text: "A drunk woman caused chaos at a restaurant, attacking a waiter and destroying property. Management called security and she was forced to pay massive damages before being kicked out."
                    }
                ],
                leveled: [
                    "Exact time (2:15 PM) disappeared",
                    "Restaurant name (Giovanni's) lost",
                    "Waiter's name (Marcus) forgotten",
                    "Specific number of glasses (4) vague",
                    "Exact damage amount ($47) gone",
                    "The $100 tip transformed to hostile ending"
                ],
                sharpened: [
                    "\"Accidentally knocked\" ‚Üí \"attacked\"",
                    "\"Some glasses broke\" ‚Üí \"chaos and destruction\"",
                    "\"Manager apologized\" ‚Üí \"manager yelled/called security\"",
                    "\"$47 damages\" ‚Üí \"hundreds\" ‚Üí \"massive damages\"",
                    "Woman portrayed as increasingly hostile/drunk"
                ],
                changed: [
                    "Helpful manager ‚Üí angry manager",
                    "Woman's generosity ‚Üí forced payment",
                    "Accident ‚Üí intentional chaos",
                    "Friendly resolution ‚Üí ejection"
                ]
            },
            {
                title: "The Museum Heist",
                versions: [
                    {
                        person: "üì∞ Original Report",
                        text: "Police report that at 3:42 AM on Tuesday, two individuals entered the Riverside Art Museum through a service entrance. They disabled an alarm on the east wing and removed a 1923 Monet painting valued at $2.3 million. Security footage shows a white van with partial plates 'K7M'. Museum director Helena Crawford states the painting was on loan from a private collector in Geneva. FBI has joined the investigation."
                    },
                    {
                        person: "üë§ Person 2",
                        text: "Early Tuesday morning, thieves broke into the Riverside Art Museum and stole a Monet worth over $2 million. They came through a back entrance and disabled alarms. A white van was seen on camera. The museum director said the painting belonged to someone in Switzerland. FBI is investigating."
                    },
                    {
                        person: "üë§ Person 3",
                        text: "Thieves broke into an art museum early in the morning and stole a famous painting worth millions. They cut the alarms and escaped in a white van. The painting was from a foreign collector. Police and FBI are looking for them."
                    },
                    {
                        person: "üë§ Person 4",
                        text: "A gang of thieves pulled off a major museum heist, stealing a priceless painting. They were professionals who bypassed all security. They escaped without a trace. It might be connected to international art smuggling."
                    },
                    {
                        person: "üë§ Person 5",
                        text: "A sophisticated criminal gang stole multiple priceless artworks from a major museum. They're believed to be international art thieves. Interpol is involved and there may be connections to organized crime."
                    },
                    {
                        person: "üì¢ Final Version",
                        text: "An international crime syndicate pulled off one of the biggest art heists in history, stealing dozens of masterpieces worth hundreds of millions. The FBI and Interpol have launched a worldwide manhunt."
                    }
                ],
                leveled: [
                    "Exact time (3:42 AM) lost",
                    "Museum name (Riverside) forgotten",
                    "Artist specified (1923 Monet) vague to 'priceless'",
                    "Exact value ($2.3M) inflated wildly",
                    "Director's name (Helena Crawford) gone",
                    "Specific plate numbers (K7M) disappeared"
                ],
                sharpened: [
                    "\"Two individuals\" ‚Üí \"gang\" ‚Üí \"crime syndicate\"",
                    "\"One painting\" ‚Üí \"multiple artworks\" ‚Üí \"dozens\"",
                    "$2.3 million ‚Üí \"hundreds of millions\"",
                    "FBI ‚Üí FBI + Interpol + worldwide manhunt",
                    "\"Under investigation\" ‚Üí \"biggest heist in history\""
                ],
                changed: [
                    "Local theft ‚Üí international conspiracy",
                    "Single painting ‚Üí massive collection",
                    "Amateur crime ‚Üí sophisticated operation",
                    "Geneva collector ‚Üí organized crime connection"
                ]
            },
            {
                title: "The Storm Warning",
                versions: [
                    {
                        person: "üå™Ô∏è Official Bulletin",
                        text: "The National Weather Service has issued a severe thunderstorm warning for Jefferson County until 6 PM today. Winds up to 58 mph expected with quarter-sized hail. Residents should move indoors and away from windows. The storm is moving northeast at 25 mph. Power outages possible in the eastern sector. Emergency shelters open at Lincoln High School and Community Center on 5th Street."
                    },
                    {
                        person: "üë§ Person 2",
                        text: "There's a storm warning for Jefferson County until this evening. Strong winds and hail expected. Stay inside and away from windows. The storm is moving northeast. There might be power outages. Shelters are open at a high school and community center."
                    },
                    {
                        person: "üë§ Person 3",
                        text: "Big storm coming to Jefferson County tonight. Very strong winds and large hail. Don't go outside. Power will probably go out. There are emergency shelters open somewhere."
                    },
                    {
                        person: "üë§ Person 4",
                        text: "Major storm hitting the area soon with dangerous winds and hail. Power outages expected across the region. Get to a shelter if you can. It's going to be bad."
                    },
                    {
                        person: "üë§ Person 5",
                        text: "Huge destructive storm coming. Hurricane-force winds and baseball-sized hail. Mass evacuations. Power will be out for days. Get to shelter immediately."
                    },
                    {
                        person: "üì¢ Final Version",
                        text: "CATASTROPHIC STORM EMERGENCY! Tornado-like conditions, massive hail, widespread destruction expected! City-wide evacuation ordered! Get underground NOW! Prepare for days without power!"
                    }
                ],
                leveled: [
                    "End time (6 PM) disappeared",
                    "Wind speed (58 mph) lost then exaggerated",
                    "Hail size (quarter) lost then exaggerated",
                    "Storm speed (25 mph) forgotten",
                    "Specific shelter locations (Lincoln HS, 5th St) gone",
                    "Direction of movement lost"
                ],
                sharpened: [
                    "\"Severe thunderstorm\" ‚Üí \"catastrophic\" ‚Üí \"tornado-like\"",
                    "\"Quarter-sized hail\" ‚Üí \"baseball\" ‚Üí \"massive\"",
                    "58 mph ‚Üí \"hurricane-force\"",
                    "\"Power outages possible\" ‚Üí \"days without power\"",
                    "\"Move indoors\" ‚Üí \"evacuate\" ‚Üí \"get underground\""
                ],
                changed: [
                    "Storm warning ‚Üí evacuation order",
                    "Localized event ‚Üí city-wide emergency",
                    "Precautionary measures ‚Üí panic response",
                    "Specific shelters ‚Üí vague \"get to safety\""
                ]
            }
        ];

        let currentStory = null;
        let currentStep = 0;

        function selectStory(index) {
            currentStory = stories[index];
            currentStep = 0;

            document.getElementById('phase-select').style.display = 'none';
            document.getElementById('phase-transmission').style.display = 'block';

            // Create progress dots
            const dotsContainer = document.getElementById('progress-dots');
            dotsContainer.innerHTML = '';
            for (let i = 0; i < currentStory.versions.length; i++) {
                const dot = document.createElement('div');
                dot.className = 'progress-dot';
                dotsContainer.appendChild(dot);
            }

            // Clear transmission chain
            document.getElementById('transmission-chain').innerHTML = '';

            // Show first version
            showNextTransmission();
        }

        function showNextTransmission() {
            if (currentStep >= currentStory.versions.length) {
                showAnalysis();
                return;
            }

            const version = currentStory.versions[currentStep];
            const chain = document.getElementById('transmission-chain');

            // Add arrow if not first
            if (currentStep > 0) {
                const arrow = document.createElement('div');
                arrow.className = 'arrow-down';
                arrow.textContent = '‚Üì';
                chain.appendChild(arrow);
            }

            const step = document.createElement('div');
            step.className = 'transmission-step';

            const avatarClass = currentStep === 0 ? 'original' :
                               currentStep === currentStory.versions.length - 1 ? 'final' : 'transmitter';

            step.innerHTML = `
                <div class="person-avatar ${avatarClass}">
                    ${version.person.split(' ')[0]}
                </div>
                <div class="transmission-content">
                    <div class="person-label">${version.person}</div>
                    <div class="story-text">${version.text}</div>
                </div>
            `;

            chain.appendChild(step);

            // Animate in
            setTimeout(() => step.classList.add('visible'), 100);

            // Update progress dots
            const dots = document.querySelectorAll('.progress-dot');
            dots[currentStep].classList.add('active');
            if (currentStep > 0) {
                dots[currentStep - 1].classList.remove('active');
                dots[currentStep - 1].classList.add('complete');
            }

            currentStep++;

            // Update button
            const btn = document.getElementById('next-btn');
            if (currentStep >= currentStory.versions.length) {
                btn.textContent = 'Show Analysis';
            } else {
                btn.textContent = `Show Transmission ${currentStep + 1} of ${currentStory.versions.length}`;
            }
        }

        function showAnalysis() {
            document.getElementById('phase-transmission').style.display = 'none';
            document.getElementById('phase-analysis').classList.add('active');

            // Animate stats
            setTimeout(() => {
                document.getElementById('leveled-count').textContent = currentStory.leveled.length;
            }, 300);
            setTimeout(() => {
                document.getElementById('sharpened-count').textContent = currentStory.sharpened.length;
            }, 500);
            setTimeout(() => {
                document.getElementById('changed-count').textContent = currentStory.changed.length;
            }, 700);

            // Word count chart
            const wcChart = document.getElementById('word-count-chart');
            wcChart.innerHTML = '';

            const originalWords = currentStory.versions[0].text.split(/\s+/).length;

            currentStory.versions.forEach((version, idx) => {
                const words = version.text.split(/\s+/).length;
                const pct = Math.round((words / originalWords) * 100);

                const row = document.createElement('div');
                row.className = 'word-count-bar';

                const label = idx === 0 ? 'Original' :
                             idx === currentStory.versions.length - 1 ? 'Final' : `Step ${idx + 1}`;

                row.innerHTML = `
                    <div class="wc-label">${label}</div>
                    <div class="wc-bar-container">
                        <div class="wc-bar" style="width: 0%; background: ${getBarColor(pct)};">
                            ${words} words (${pct}%)
                        </div>
                    </div>
                `;

                wcChart.appendChild(row);

                setTimeout(() => {
                    row.querySelector('.wc-bar').style.width = pct + '%';
                }, 200 + idx * 150);
            });

            // Detail lists
            populateList('leveled-list', currentStory.leveled, 'lost');
            populateList('sharpened-list', currentStory.sharpened, 'added');
            populateList('changed-list', currentStory.changed, 'modified');
        }

        function getBarColor(pct) {
            if (pct >= 80) return 'linear-gradient(90deg, #4caf50, #81c784)';
            if (pct >= 50) return 'linear-gradient(90deg, #ff9800, #ffb74d)';
            return 'linear-gradient(90deg, #f44336, #e57373)';
        }

        function populateList(containerId, items, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            items.forEach(item => {
                const div = document.createElement('div');
                div.className = 'detail-item';
                div.innerHTML = `
                    <div class="detail-icon ${type}">${type === 'lost' ? '‚àí' : type === 'added' ? '+' : '‚Üî'}</div>
                    <div>${item}</div>
                `;
                container.appendChild(div);
            });
        }

        function resetExperiment() {
            document.getElementById('phase-analysis').classList.remove('active');
            document.getElementById('phase-select').style.display = 'block';
            document.getElementById('transmission-chain').innerHTML = '';
            currentStory = null;
            currentStep = 0;
        }
    </script>
</body>
</html>
