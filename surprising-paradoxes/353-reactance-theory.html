<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reactance Theory (The Forbidden Fruit Effect) - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #ff6b6b;
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 30px;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: #ff8e8e;
        }

        h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            background: linear-gradient(135deg, #ff6b6b, #c44569);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #9e9e9e;
            font-size: 1.2rem;
            margin-bottom: 40px;
        }

        .researcher-badge {
            display: inline-block;
            background: linear-gradient(135deg, #ff6b6b, #c44569);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            margin-bottom: 30px;
        }

        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section h2 {
            color: #ff6b6b;
            font-size: 1.5rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .key-finding {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(196, 69, 105, 0.1));
            border-left: 4px solid #ff6b6b;
            padding: 20px;
            border-radius: 0 10px 10px 0;
            margin: 20px 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ff6b6b;
        }

        .stat-label {
            color: #9e9e9e;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Forbidden Toys Demo */
        .toys-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
        }

        .toys-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            max-width: 800px;
            margin: 0 auto 30px;
        }

        .toy-item {
            position: relative;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .toy-item:hover:not(.forbidden):not(.selected) {
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-5px);
        }

        .toy-item.selected {
            border-color: #4ecdc4;
            background: rgba(78, 205, 196, 0.2);
        }

        .toy-item.forbidden {
            border-color: #ff6b6b;
            position: relative;
        }

        .toy-item.forbidden::after {
            content: "FORBIDDEN";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: #ff6b6b;
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .toy-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .toy-name {
            font-size: 0.9rem;
            color: #9e9e9e;
        }

        .forbidden-sign {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            color: rgba(255, 107, 107, 0.5);
            pointer-events: none;
        }

        .barrier {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 4px dashed #ff6b6b;
            border-radius: 15px;
            pointer-events: none;
        }

        /* Control Panel */
        .control-panel {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .btn {
            background: linear-gradient(135deg, #ff6b6b, #c44569);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            border-color: #ff6b6b;
        }

        /* Results */
        .results-panel {
            display: none;
            background: rgba(255, 107, 107, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            text-align: center;
        }

        .results-panel.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .result-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .result-message {
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        /* Desire Meter */
        .desire-meter {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
        }

        .meter-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: #9e9e9e;
        }

        .meter-bar {
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .meter-fill {
            height: 100%;
            background: linear-gradient(90deg, #4ecdc4, #ff6b6b);
            border-radius: 15px;
            transition: width 0.8s ease-out;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            font-weight: bold;
            min-width: 50px;
        }

        /* Scenario Cards */
        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .scenario-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .scenario-card:hover {
            border-color: #ff6b6b;
            transform: translateY(-5px);
        }

        .scenario-card.active {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
        }

        .scenario-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .scenario-card h4 {
            color: #ff6b6b;
            margin-bottom: 10px;
        }

        /* Freedom Meter */
        .freedom-display {
            text-align: center;
            margin: 30px 0;
        }

        .freedom-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 8px solid rgba(255, 255, 255, 0.1);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            transition: all 0.5s;
        }

        .freedom-circle.free {
            border-color: #4ecdc4;
        }

        .freedom-circle.threatened {
            border-color: #ff6b6b;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .freedom-text {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .freedom-label {
            color: #9e9e9e;
            font-size: 0.9rem;
        }

        /* Reactance Response */
        .response-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .response-btn {
            padding: 15px 30px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .response-btn:hover {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.2);
        }

        .response-btn.defy {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.3);
        }

        .response-btn.comply {
            border-color: #4ecdc4;
            background: rgba(78, 205, 196, 0.3);
        }

        /* Real World Examples */
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .example-card {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(196, 69, 105, 0.05));
            border-radius: 15px;
            padding: 20px;
            border-left: 4px solid #ff6b6b;
        }

        .example-card h4 {
            color: #ff6b6b;
            margin-bottom: 10px;
        }

        /* Strategy Cards */
        .strategy-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .strategy-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s;
        }

        .strategy-card:hover {
            transform: translateY(-5px);
        }

        .strategy-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ff6b6b, #c44569);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .strategy-card h4 {
            color: #ff6b6b;
            margin-bottom: 10px;
        }

        /* Comparison Chart */
        .comparison-bars {
            max-width: 600px;
            margin: 30px auto;
        }

        .comparison-row {
            display: flex;
            align-items: center;
            margin: 15px 0;
        }

        .comparison-label {
            width: 120px;
            font-size: 0.9rem;
            text-align: right;
            padding-right: 15px;
        }

        .comparison-bar-container {
            flex: 1;
            height: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
        }

        .comparison-bar {
            height: 100%;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            font-size: 0.9rem;
            font-weight: bold;
            transition: width 1s ease-out;
        }

        .comparison-bar.before {
            background: linear-gradient(90deg, #4ecdc4, #45b7aa);
        }

        .comparison-bar.after {
            background: linear-gradient(90deg, #ff6b6b, #c44569);
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px 15px;
            }

            .section {
                padding: 20px;
            }

            .toys-display {
                grid-template-columns: repeat(3, 1fr);
            }

            .toy-icon {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">
            <span>&#8592;</span> Back to Surprising Paradoxes
        </a>

        <h1>Reactance Theory</h1>
        <p class="subtitle">The Forbidden Fruit Effect: Why "Don't" Makes Us Want It More</p>

        <div style="text-align: center;">
            <span class="researcher-badge">Jack W. Brehm, 1966</span>
        </div>

        <div class="section">
            <h2>The Core Principle</h2>
            <p>When we feel our freedom is threatened, we experience <strong>psychological reactance</strong>—an unpleasant motivational state that drives us to restore that freedom. The result? We want the forbidden thing <em>more</em>, not less.</p>

            <div class="key-finding">
                <strong>Brehm's Discovery:</strong> When children were told they couldn't play with a particular toy, that toy became <span style="color: #ff6b6b;">significantly more attractive</span> than before the restriction. The forbidden fruit becomes sweeter.
                <br><br>
                This explains why "reverse psychology" works—and why censorship often backfires.
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">1966</div>
                    <div class="stat-label">Theory published</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Key factors in reactance</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">&#8734;</div>
                    <div class="stat-label">Real-world applications</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Experience It: The Forbidden Toy</h2>
            <p>Rank these toys by how much you'd want to play with them. Then watch what happens when one is forbidden.</p>

            <div class="toys-container">
                <div class="control-panel" id="control-panel">
                    <p id="instruction-text">Click toys to rank them 1-5 (most to least wanted)</p>
                    <div id="phase-indicator" style="margin-top: 10px; color: #9e9e9e;">Phase 1: Initial Ranking</div>
                </div>

                <div class="toys-display" id="toys-display">
                    <div class="toy-item" data-toy="robot">
                        <div class="toy-icon">&#129302;</div>
                        <div class="toy-name">Robot</div>
                        <div class="rank-badge" style="display: none;"></div>
                    </div>
                    <div class="toy-item" data-toy="car">
                        <div class="toy-icon">&#128664;</div>
                        <div class="toy-name">Race Car</div>
                    </div>
                    <div class="toy-item" data-toy="ball">
                        <div class="toy-icon">&#9917;</div>
                        <div class="toy-name">Ball</div>
                    </div>
                    <div class="toy-item" data-toy="blocks">
                        <div class="toy-icon">&#129513;</div>
                        <div class="toy-name">Blocks</div>
                    </div>
                    <div class="toy-item" data-toy="teddy">
                        <div class="toy-icon">&#129528;</div>
                        <div class="toy-name">Teddy Bear</div>
                    </div>
                </div>

                <div id="action-buttons" style="text-align: center; margin-top: 20px;">
                    <button class="btn hidden" id="forbid-btn">Forbid a Toy</button>
                    <button class="btn hidden" id="rerank-btn">Re-rank Toys</button>
                    <button class="btn btn-secondary hidden" id="reset-btn">Reset Experiment</button>
                </div>

                <div class="results-panel" id="results-panel">
                    <div class="result-icon" id="result-icon">&#127823;</div>
                    <div class="result-message" id="result-message"></div>

                    <div class="desire-meter">
                        <div class="meter-label">
                            <span>Initial Desire</span>
                            <span>After Forbidden</span>
                        </div>
                        <div class="meter-bar">
                            <div class="meter-fill" id="desire-fill">0%</div>
                        </div>
                    </div>

                    <p id="reactance-explanation" style="color: #9e9e9e; margin-top: 15px;"></p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>The Four Factors of Reactance</h2>
            <p>Brehm identified four key factors that determine how strong our reactance will be:</p>

            <div class="scenario-grid">
                <div class="scenario-card">
                    <div class="scenario-icon">&#128175;</div>
                    <h4>1. Importance of Freedom</h4>
                    <p>The more important the threatened freedom, the stronger the reactance. Being told you can't choose your career triggers more reactance than being told you can't choose a sandwich.</p>
                </div>
                <div class="scenario-card">
                    <div class="scenario-icon">&#128680;</div>
                    <h4>2. Magnitude of Threat</h4>
                    <p>"You probably shouldn't" triggers less reactance than "You absolutely cannot!" Complete elimination of choice triggers maximum reactance.</p>
                </div>
                <div class="scenario-card">
                    <div class="scenario-icon">&#128101;</div>
                    <h4>3. Legitimacy of Authority</h4>
                    <p>Illegitimate restrictions trigger more reactance. Your boss can tell you what to do at work; a stranger cannot.</p>
                </div>
                <div class="scenario-card">
                    <div class="scenario-icon">&#128200;</div>
                    <h4>4. Number of Freedoms Threatened</h4>
                    <p>If multiple freedoms are threatened at once, reactance compounds. "You can't do A, B, or C" triggers more than just "You can't do A."</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Classic Experiments</h2>

            <div class="key-finding">
                <strong>Hammock & Brehm (1966) - Candy Bar Study:</strong>
                <br><br>
                Children believed they could choose between several candy bars. When the experimenter said "Don't choose candy bar X," children <span style="color: #ff6b6b;">overwhelmingly chose that exact candy bar</span>.
            </div>

            <div class="comparison-bars">
                <h4 style="text-align: center; margin-bottom: 20px;">Toy Attractiveness Rating</h4>
                <div class="comparison-row">
                    <div class="comparison-label">Before Ban</div>
                    <div class="comparison-bar-container">
                        <div class="comparison-bar before" style="width: 50%;">50%</div>
                    </div>
                </div>
                <div class="comparison-row">
                    <div class="comparison-label">After Ban</div>
                    <div class="comparison-bar-container">
                        <div class="comparison-bar after" style="width: 85%;">85%</div>
                    </div>
                </div>
            </div>

            <div class="key-finding" style="margin-top: 30px;">
                <strong>Brehm & Weinraub (1977) - The Barrier Study:</strong>
                <br><br>
                2-year-olds were shown two toys. One was behind a large barrier; one was easily accessible. Boys consistently <span style="color: #ff6b6b;">preferred the toy behind the barrier</span>—even though both toys were identical. The physical restriction created desire.
            </div>
        </div>

        <div class="section">
            <h2>Real-World Applications</h2>

            <div class="examples-grid">
                <div class="example-card">
                    <h4>&#127916; Movie Ratings</h4>
                    <p>Banning a movie often increases demand. The "X" rating becomes a selling point. "This film they don't want you to see!"</p>
                </div>
                <div class="example-card">
                    <h4>&#128018; Romeo & Juliet Effect</h4>
                    <p>Parental opposition to relationships often strengthens them. "Forbidden love" feels more passionate and valuable.</p>
                </div>
                <div class="example-card">
                    <h4>&#127863; Prohibition</h4>
                    <p>Banning alcohol in the 1920s made drinking more alluring. Speakeasies thrived; alcohol consumption patterns changed but didn't decrease.</p>
                </div>
                <div class="example-card">
                    <h4>&#128241; Streisand Effect</h4>
                    <p>Trying to suppress information online often amplifies it. Takedown requests draw attention to the very content being hidden.</p>
                </div>
                <div class="example-card">
                    <h4>&#128176; Scarcity Marketing</h4>
                    <p>"Only 3 left in stock!" triggers reactance against missing out. Limited editions sell better than unlimited ones.</p>
                </div>
                <div class="example-card">
                    <h4>&#128105;&#8205;&#128188; Workplace Autonomy</h4>
                    <p>Micromanagement increases employee desire to do the opposite. Excessive rules breed rule-breaking.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>The Dark Side: Reactance Against Health Messages</h2>

            <div class="key-finding">
                <strong>The Backfire Effect in Public Health:</strong>
                <br><br>
                Strong anti-smoking messages can <em>increase</em> smoking in some teenagers. "Don't do drugs" campaigns sometimes make drugs more appealing. Messages perceived as controlling trigger reactance.
                <br><br>
                <span style="color: #ff6b6b;">Solution:</span> Autonomy-supportive messaging works better. "Here's the information—you decide" triggers less reactance than "You must not do this."
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">+23%</div>
                    <div class="stat-label">Increased risky behavior after controlling warnings</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">-31%</div>
                    <div class="stat-label">Reduced reactance with autonomy-supportive framing</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Working With Reactance</h2>

            <div class="strategy-cards">
                <div class="strategy-card">
                    <div class="strategy-icon">&#128172;</div>
                    <h4>Offer Choices</h4>
                    <p>Instead of "You must do X," try "Would you prefer X or Y?" Preserving perceived freedom reduces reactance.</p>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">&#128218;</div>
                    <h4>Explain Reasons</h4>
                    <p>Arbitrary rules trigger more reactance than explained ones. "Because I said so" is the worst justification.</p>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">&#129504;</div>
                    <h4>Acknowledge Autonomy</h4>
                    <p>"I know this is ultimately your decision" reduces defensive reactions. People comply more when they feel free to refuse.</p>
                </div>
                <div class="strategy-card">
                    <div class="strategy-icon">&#128161;</div>
                    <h4>Use Reverse Psychology Sparingly</h4>
                    <p>It works because of reactance, but overuse makes people suspicious. Reserve it for genuine dilemmas.</p>
                </div>
            </div>
        </div>

        <div class="section" style="text-align: center;">
            <h2>The Paradox of Control</h2>
            <p style="font-size: 1.2rem; line-height: 1.8; max-width: 800px; margin: 0 auto;">
                The more you try to control someone's behavior, the more they resist. The harder you push, the harder they push back. True influence comes not from restriction but from expanding perceived freedom while guiding choices.
            </p>
            <br>
            <p style="color: #ff6b6b; font-size: 1.3rem; font-weight: bold;">
                "Tell me I can't, and watch me try harder."
            </p>
            <p style="color: #9e9e9e; margin-top: 20px; font-style: italic;">
                Every restriction is an invitation. Every "no" is a challenge. Your defiance is not a flaw—it's your freedom-seeking mind working exactly as designed.
            </p>
        </div>
    </div>

    <script>
        // Toy ranking experiment
        const toys = ['robot', 'car', 'ball', 'blocks', 'teddy'];
        let rankings = [];
        let reRankings = [];
        let forbiddenToy = null;
        let phase = 'initial'; // initial, forbid, rerank, results

        const toysDisplay = document.getElementById('toys-display');
        const controlPanel = document.getElementById('control-panel');
        const instructionText = document.getElementById('instruction-text');
        const phaseIndicator = document.getElementById('phase-indicator');
        const forbidBtn = document.getElementById('forbid-btn');
        const rerankBtn = document.getElementById('rerank-btn');
        const resetBtn = document.getElementById('reset-btn');
        const resultsPanel = document.getElementById('results-panel');

        // Click handlers for toys
        document.querySelectorAll('.toy-item').forEach(toy => {
            toy.addEventListener('click', () => handleToyClick(toy));
        });

        function handleToyClick(toyElement) {
            const toyName = toyElement.dataset.toy;

            if (phase === 'initial') {
                if (rankings.includes(toyName)) {
                    // Remove from rankings
                    rankings = rankings.filter(t => t !== toyName);
                    toyElement.classList.remove('selected');
                    toyElement.querySelector('.toy-name').textContent = getToyDisplayName(toyName);
                } else if (rankings.length < 5) {
                    rankings.push(toyName);
                    toyElement.classList.add('selected');
                    toyElement.querySelector('.toy-name').textContent = `#${rankings.length}: ${getToyDisplayName(toyName)}`;
                }

                if (rankings.length === 5) {
                    forbidBtn.classList.remove('hidden');
                } else {
                    forbidBtn.classList.add('hidden');
                }
            } else if (phase === 'rerank') {
                if (reRankings.includes(toyName)) {
                    reRankings = reRankings.filter(t => t !== toyName);
                    toyElement.classList.remove('selected');
                    if (toyName === forbiddenToy) {
                        toyElement.querySelector('.toy-name').textContent = getToyDisplayName(toyName);
                    } else {
                        toyElement.querySelector('.toy-name').textContent = getToyDisplayName(toyName);
                    }
                } else if (reRankings.length < 5) {
                    reRankings.push(toyName);
                    toyElement.classList.add('selected');
                    toyElement.querySelector('.toy-name').textContent = `#${reRankings.length}: ${getToyDisplayName(toyName)}`;
                }

                if (reRankings.length === 5) {
                    showResults();
                }
            }
        }

        function getToyDisplayName(toy) {
            const names = {
                robot: 'Robot',
                car: 'Race Car',
                ball: 'Ball',
                blocks: 'Blocks',
                teddy: 'Teddy Bear'
            };
            return names[toy];
        }

        // Forbid button
        forbidBtn.addEventListener('click', () => {
            // Forbid the toy ranked #3 (middle preference)
            forbiddenToy = rankings[2];

            document.querySelectorAll('.toy-item').forEach(toy => {
                if (toy.dataset.toy === forbiddenToy) {
                    toy.classList.add('forbidden');
                    toy.classList.remove('selected');
                    toy.innerHTML = `
                        <div class="barrier"></div>
                        <div class="toy-icon">${getToyIcon(forbiddenToy)}</div>
                        <div class="toy-name">${getToyDisplayName(forbiddenToy)}</div>
                    `;
                } else {
                    toy.classList.remove('selected');
                    toy.querySelector('.toy-name').textContent = getToyDisplayName(toy.dataset.toy);
                }
            });

            phase = 'forbid';
            instructionText.innerHTML = `<strong style="color: #ff6b6b;">You CANNOT play with the ${getToyDisplayName(forbiddenToy)}!</strong><br>It is absolutely forbidden!`;
            phaseIndicator.textContent = 'Phase 2: Forbidden Toy Announced';
            forbidBtn.classList.add('hidden');

            setTimeout(() => {
                phase = 'rerank';
                instructionText.textContent = 'Now re-rank ALL toys from 1-5 (including the forbidden one)';
                phaseIndicator.textContent = 'Phase 3: Re-ranking';

                document.querySelectorAll('.toy-item').forEach(toy => {
                    toy.classList.remove('selected');
                });
            }, 2000);
        });

        function getToyIcon(toy) {
            const icons = {
                robot: '&#129302;',
                car: '&#128664;',
                ball: '&#9917;',
                blocks: '&#129513;',
                teddy: '&#129528;'
            };
            return icons[toy];
        }

        function showResults() {
            phase = 'results';
            phaseIndicator.textContent = 'Results';
            instructionText.textContent = 'See how your preferences changed!';

            const initialRank = rankings.indexOf(forbiddenToy) + 1;
            const finalRank = reRankings.indexOf(forbiddenToy) + 1;
            const rankChange = initialRank - finalRank;

            resultsPanel.classList.add('active');

            const resultIcon = document.getElementById('result-icon');
            const resultMessage = document.getElementById('result-message');
            const desireFill = document.getElementById('desire-fill');
            const reactanceExplanation = document.getElementById('reactance-explanation');

            // Calculate "desire" percentage (inverse of rank)
            const initialDesire = ((5 - initialRank + 1) / 5) * 100;
            const finalDesire = ((5 - finalRank + 1) / 5) * 100;

            if (rankChange > 0) {
                resultIcon.textContent = '&#127823;'; // Apple (forbidden fruit)
                resultMessage.innerHTML = `You demonstrated <strong style="color: #ff6b6b;">REACTANCE!</strong><br>The ${getToyDisplayName(forbiddenToy)} moved from #${initialRank} to #${finalRank} (up ${rankChange} ranks!)`;
                reactanceExplanation.textContent = 'Being told "no" made you want it MORE. Your freedom was threatened, and you responded by valuing the forbidden option higher. This is classic reactance!';
            } else if (rankChange < 0) {
                resultIcon.textContent = '&#128517;'; // Grimace
                resultMessage.innerHTML = `Interesting! The ${getToyDisplayName(forbiddenToy)} became LESS attractive.<br>It moved from #${initialRank} to #${finalRank}.`;
                reactanceExplanation.textContent = 'You showed "sour grapes" rather than reactance—devaluing what you can\'t have. This is another valid psychological response to restriction!';
            } else {
                resultIcon.textContent = '&#128528;'; // Neutral
                resultMessage.innerHTML = `The ${getToyDisplayName(forbiddenToy)} stayed at #${initialRank}.<br>The restriction didn\'t change your preference.`;
                reactanceExplanation.textContent = 'You maintained your original preference despite the restriction. Some people are more resistant to reactance effects.';
            }

            desireFill.style.width = finalDesire + '%';
            desireFill.textContent = Math.round(finalDesire) + '%';

            resetBtn.classList.remove('hidden');
        }

        // Reset
        resetBtn.addEventListener('click', () => {
            rankings = [];
            reRankings = [];
            forbiddenToy = null;
            phase = 'initial';

            document.querySelectorAll('.toy-item').forEach((toy, i) => {
                toy.className = 'toy-item';
                toy.dataset.toy = toys[i];
                toy.innerHTML = `
                    <div class="toy-icon">${getToyIcon(toys[i])}</div>
                    <div class="toy-name">${getToyDisplayName(toys[i])}</div>
                `;
            });

            instructionText.textContent = 'Click toys to rank them 1-5 (most to least wanted)';
            phaseIndicator.textContent = 'Phase 1: Initial Ranking';
            forbidBtn.classList.add('hidden');
            resetBtn.classList.add('hidden');
            resultsPanel.classList.remove('active');
        });
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
