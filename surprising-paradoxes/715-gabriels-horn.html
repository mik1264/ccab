<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gabriel's Horn - The Painter's Paradox</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600&family=Nunito:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1a 100%);
            color: #e0e0f0;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1100px; margin: 0 auto; }
        h1 {
            font-family: 'Lora', serif;
            font-size: 2.2em;
            text-align: center;
            margin-bottom: 10px;
            color: #e6b800;
            text-shadow: 0 0 30px rgba(230, 184, 0, 0.4);
        }
        .subtitle {
            text-align: center;
            color: #a0a0c0;
            margin-bottom: 25px;
            font-size: 1.1em;
        }
        .back-link {
            display: inline-block;
            color: #e6b800;
            text-decoration: none;
            margin-bottom: 20px;
            font-size: 0.95em;
        }
        .back-link:hover { text-decoration: underline; }

        .panel {
            background: rgba(22, 33, 62, 0.8);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(230, 184, 0, 0.2);
            margin-bottom: 25px;
        }

        .panel h2 {
            font-family: 'Lora', serif;
            color: #e6b800;
            margin-bottom: 15px;
        }

        .visualization {
            background: rgba(15, 15, 26, 0.9);
            border-radius: 12px;
            padding: 20px;
            position: relative;
        }

        canvas {
            display: block;
            width: 100%;
        }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .control-group label {
            display: block;
            color: #a0a0c0;
            margin-bottom: 8px;
        }

        .slider-row {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        input[type="range"] {
            flex: 1;
            height: 8px;
            border-radius: 4px;
            background: #2a2a4a;
            appearance: none;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #e6b800;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(230, 184, 0, 0.5);
        }

        .value-display {
            min-width: 80px;
            text-align: right;
            color: #e6b800;
            font-weight: 600;
            font-size: 1.1em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: rgba(15, 15, 26, 0.8);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .stat-value.finite { color: #4ecdc4; }
        .stat-value.infinite { color: #ff6b6b; }
        .stat-value.gold { color: #e6b800; }

        .stat-label {
            color: #a0a0c0;
            font-size: 0.9em;
        }

        .stat-formula {
            font-family: 'Courier New', monospace;
            font-size: 0.8em;
            color: #707090;
            margin-top: 5px;
        }

        .paradox-box {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(78, 205, 196, 0.1));
            border: 2px dashed rgba(230, 184, 0, 0.4);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            margin-top: 20px;
        }

        .paradox-box h3 {
            color: #e6b800;
            font-size: 1.4em;
            margin-bottom: 15px;
        }

        .paradox-icons {
            font-size: 3em;
            margin: 15px 0;
        }

        .buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #e6b800, #cc9900);
            color: #1a1a2e;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(230, 184, 0, 0.4);
        }

        .btn-secondary {
            background: rgba(230, 184, 0, 0.2);
            color: #e6b800;
            border: 1px solid rgba(230, 184, 0, 0.4);
        }

        .explanation p {
            line-height: 1.7;
            margin-bottom: 12px;
            color: #c0c0d0;
        }

        .highlight { color: #e6b800; font-weight: 600; }
        .finite-color { color: #4ecdc4; }
        .infinite-color { color: #ff6b6b; }

        .math-box {
            background: rgba(15, 15, 26, 0.9);
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            line-height: 2;
        }

        .math-box .label {
            color: #a0a0c0;
            font-family: 'Nunito', sans-serif;
        }

        .insight-box {
            background: linear-gradient(135deg, rgba(230, 184, 0, 0.1), rgba(204, 153, 0, 0.1));
            border-left: 4px solid #e6b800;
            padding: 15px;
            border-radius: 0 10px 10px 0;
            margin: 15px 0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-card {
            background: rgba(15, 15, 26, 0.6);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .comparison-card h4 {
            margin-bottom: 10px;
        }

        .comparison-card.finite h4 { color: #4ecdc4; }
        .comparison-card.infinite h4 { color: #ff6b6b; }

        .dough-analogy {
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(15, 15, 26, 0.6);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .dough-visual {
            font-size: 3em;
            min-width: 100px;
            text-align: center;
        }

        @media (max-width: 700px) {
            .controls { grid-template-columns: 1fr; }
            .stats-grid { grid-template-columns: 1fr; }
            .comparison-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <h1>Gabriel's Horn</h1>
        <p class="subtitle">Torricelli's Trumpet ‚Äî Infinite surface, finite volume</p>

        <div class="panel">
            <h2>üé∫ The Horn</h2>
            <div class="visualization">
                <canvas id="hornCanvas" width="1000" height="400"></canvas>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>Horn Length (x from 1 to...):</label>
                    <div class="slider-row">
                        <input type="range" id="lengthSlider" min="2" max="1000" value="10">
                        <span class="value-display" id="lengthValue">10</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>View Zoom:</label>
                    <div class="slider-row">
                        <input type="range" id="zoomSlider" min="1" max="10" value="3">
                        <span class="value-display" id="zoomValue">3x</span>
                    </div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value finite" id="volumeValue">œÄ</div>
                    <div class="stat-label">Volume</div>
                    <div class="stat-formula">œÄ(1 - 1/L) ‚Üí œÄ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value infinite" id="surfaceValue">‚àû</div>
                    <div class="stat-label">Surface Area</div>
                    <div class="stat-formula">2œÄ¬∑ln(L) ‚Üí ‚àû</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value gold" id="ratioValue">‚àû</div>
                    <div class="stat-label">Surface/Volume Ratio</div>
                    <div class="stat-formula">Grows without bound</div>
                </div>
            </div>

            <div class="paradox-box">
                <h3>üé® The Painter's Paradox</h3>
                <div class="paradox-icons">ü™£ ‚Üí üé∫ ‚Üí ‚ùì</div>
                <p style="color: #c0c0d0; max-width: 600px; margin: 0 auto;">
                    You can <span class="finite-color">FILL</span> Gabriel's Horn with paint (finite volume = œÄ cubic units)...<br>
                    But you can <span class="infinite-color">NEVER PAINT</span> its inner surface (infinite area)!<br>
                    <strong style="color: #e6b800;">How can paint that fills the horn not coat its surface?</strong>
                </p>
            </div>

            <div class="buttons">
                <button class="btn-primary" id="animateBtn">‚ñ∂ Animate Growth</button>
                <button class="btn-secondary" id="resetBtn">Reset</button>
            </div>
        </div>

        <div class="panel explanation">
            <h2>The Mathematics</h2>

            <p>
                Gabriel's Horn is created by rotating the curve <span class="highlight">y = 1/x</span>
                around the x-axis, for x ‚â• 1. Discovered by <span class="highlight">Evangelista Torricelli</span>
                in 1641, it astonished mathematicians because it defies intuition.
            </p>

            <div class="comparison-grid">
                <div class="comparison-card finite">
                    <h4>Volume (Finite!)</h4>
                    <div class="math-box">
V = œÄ ‚à´‚ÇÅ^‚àû (1/x)¬≤ dx<br>
V = œÄ ‚à´‚ÇÅ^‚àû 1/x¬≤ dx<br>
V = œÄ [-1/x]‚ÇÅ^‚àû<br>
V = œÄ (0 - (-1))<br>
<span style="color: #4ecdc4; font-size: 1.2em;">V = œÄ ‚âà 3.14159</span>
                    </div>
                </div>
                <div class="comparison-card infinite">
                    <h4>Surface Area (Infinite!)</h4>
                    <div class="math-box">
A = 2œÄ ‚à´‚ÇÅ^‚àû (1/x)‚àö(1 + 1/x‚Å¥) dx<br>
A > 2œÄ ‚à´‚ÇÅ^‚àû 1/x dx<br>
A > 2œÄ [ln(x)]‚ÇÅ^‚àû<br>
<span style="color: #ff6b6b; font-size: 1.2em;">A = ‚àû (diverges!)</span>
                    </div>
                </div>
            </div>

            <h2 style="margin-top: 25px;">Resolving the Paradox</h2>

            <p>
                The "paradox" assumes that painting a surface requires a certain thickness of paint.
                But if we use <span class="highlight">"mathematical paint"</span> that can be applied
                infinitely thin, there's no contradiction:
            </p>

            <div class="insight-box">
                <strong>The Key:</strong> As you go further down the horn, the radius shrinks as 1/x.
                The paint layer can be made proportionally thinner. An infinite surface times a
                vanishingly thin layer can still equal a finite volume!
            </div>

            <h2 style="margin-top: 25px;">The Dough Analogy</h2>

            <div class="dough-analogy">
                <div class="dough-visual">ü•ñ</div>
                <div>
                    <p style="color: #c0c0d0; margin: 0;">
                        Imagine a ball of dough with <span class="finite-color">finite volume</span>.
                        Roll it into a snake, thinner and thinner, forever. The volume stays constant,
                        but the surface area grows without bound! Gabriel's Horn is the same principle:
                        finite "stuff" stretched infinitely thin creates infinite surface.
                    </p>
                </div>
            </div>

            <h2 style="margin-top: 25px;">Why This Matters</h2>

            <p>
                Gabriel's Horn sparked fierce debates among 17th-century thinkers including
                <span class="highlight">Thomas Hobbes</span>, <span class="highlight">John Wallis</span>,
                and <span class="highlight">Galileo</span> about the nature of infinity. It showed that:
            </p>

            <ul style="margin-left: 20px; line-height: 2; color: #c0c0d0;">
                <li>Infinity isn't a single concept‚Äîdifferent infinities can coexist in one object</li>
                <li>Our geometric intuition fails at the infinite scale</li>
                <li>Calculus can give finite answers to seemingly infinite problems</li>
                <li>The improper integral ‚à´1/x¬≤ converges while ‚à´1/x diverges</li>
            </ul>

            <div class="insight-box">
                <strong>Named for the Archangel:</strong> The horn is called "Gabriel's Horn" because
                in Christian tradition, the Archangel Gabriel will blow a horn to announce Judgment Day.
                The infinite surface represents the infinite reach of divine proclamation, while the
                finite volume represents the finite physical world.
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('hornCanvas');
        const ctx = canvas.getContext('2d');

        let hornLength = 10;
        let zoom = 3;
        let animationId = null;

        function drawHorn() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            const centerY = canvas.height / 2;
            const startX = 80;
            const scaleX = (canvas.width - 100) / (Math.log(hornLength + 1) * zoom);
            const scaleY = centerY * 0.8;

            // Background gradient
            const bgGrad = ctx.createLinearGradient(0, 0, canvas.width, 0);
            bgGrad.addColorStop(0, '#1a1a2e');
            bgGrad.addColorStop(1, '#0f0f1a');
            ctx.fillStyle = bgGrad;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw axis
            ctx.strokeStyle = '#404060';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(startX, centerY);
            ctx.lineTo(canvas.width - 20, centerY);
            ctx.stroke();

            // Draw the horn (filled)
            ctx.beginPath();

            // Top curve
            for (let x = 1; x <= hornLength; x += 0.1) {
                const y = 1 / x;
                const px = startX + Math.log(x) * scaleX * zoom;
                const py = centerY - y * scaleY;

                if (x === 1) {
                    ctx.moveTo(px, py);
                } else {
                    ctx.lineTo(px, py);
                }
            }

            // Bottom curve (mirror)
            for (let x = hornLength; x >= 1; x -= 0.1) {
                const y = 1 / x;
                const px = startX + Math.log(x) * scaleX * zoom;
                const py = centerY + y * scaleY;
                ctx.lineTo(px, py);
            }

            ctx.closePath();

            // Gradient fill
            const grad = ctx.createLinearGradient(startX, 0, canvas.width, 0);
            grad.addColorStop(0, '#e6b800');
            grad.addColorStop(0.3, '#cc9900');
            grad.addColorStop(0.7, '#996600');
            grad.addColorStop(1, '#664400');
            ctx.fillStyle = grad;
            ctx.fill();

            // Outline
            ctx.strokeStyle = '#ffdd44';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Draw opening circle at x=1
            ctx.beginPath();
            ctx.ellipse(startX, centerY, 8, scaleY, 0, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(230, 184, 0, 0.3)';
            ctx.fill();
            ctx.strokeStyle = '#e6b800';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Labels
            ctx.fillStyle = '#a0a0c0';
            ctx.font = '14px Nunito';
            ctx.textAlign = 'center';

            // x=1 label
            ctx.fillText('x = 1', startX, canvas.height - 20);
            ctx.fillText('y = 1', startX - 40, centerY - scaleY - 10);

            // End label
            const endX = startX + Math.log(hornLength) * scaleX * zoom;
            ctx.fillText(`x = ${hornLength}`, Math.min(endX, canvas.width - 50), canvas.height - 20);

            // Formula
            ctx.fillStyle = '#e6b800';
            ctx.font = '16px Courier New';
            ctx.textAlign = 'left';
            ctx.fillText('y = 1/x', 20, 30);

            // "Extends to infinity" arrow
            ctx.fillStyle = '#ff6b6b';
            ctx.font = '14px Nunito';
            ctx.textAlign = 'right';
            ctx.fillText('‚Üí ‚àû', canvas.width - 10, centerY - 5);

            updateStats();
        }

        function updateStats() {
            // Volume: œÄ(1 - 1/L)
            const volume = Math.PI * (1 - 1 / hornLength);
            document.getElementById('volumeValue').textContent =
                hornLength > 100 ? 'œÄ ‚âà 3.14159' : volume.toFixed(5);

            // Surface area: approximately 2œÄ * ln(L) for large L
            // More accurate: 2œÄ * integral of (1/x) * sqrt(1 + 1/x^4) dx
            // For simplicity, use lower bound 2œÄ * ln(L)
            const surfaceApprox = 2 * Math.PI * Math.log(hornLength);
            document.getElementById('surfaceValue').textContent =
                hornLength > 100 ? '‚àû' : surfaceApprox.toFixed(2);

            // Ratio
            const ratio = surfaceApprox / volume;
            document.getElementById('ratioValue').textContent =
                hornLength > 100 ? '‚àû' : ratio.toFixed(2);
        }

        function animate() {
            if (animationId) {
                cancelAnimationFrame(animationId);
            }

            hornLength = 2;
            document.getElementById('lengthSlider').value = hornLength;
            document.getElementById('lengthValue').textContent = hornLength;

            function step() {
                hornLength *= 1.02;
                if (hornLength > 1000) hornLength = 1000;

                document.getElementById('lengthSlider').value = Math.min(hornLength, 1000);
                document.getElementById('lengthValue').textContent = Math.round(hornLength);
                drawHorn();

                if (hornLength < 1000) {
                    animationId = requestAnimationFrame(step);
                }
            }

            animationId = requestAnimationFrame(step);
        }

        function reset() {
            if (animationId) {
                cancelAnimationFrame(animationId);
                animationId = null;
            }
            hornLength = 10;
            zoom = 3;
            document.getElementById('lengthSlider').value = hornLength;
            document.getElementById('lengthValue').textContent = hornLength;
            document.getElementById('zoomSlider').value = zoom;
            document.getElementById('zoomValue').textContent = zoom + 'x';
            drawHorn();
        }

        // Event listeners
        document.getElementById('lengthSlider').addEventListener('input', (e) => {
            hornLength = parseInt(e.target.value);
            document.getElementById('lengthValue').textContent = hornLength;
            drawHorn();
        });

        document.getElementById('zoomSlider').addEventListener('input', (e) => {
            zoom = parseInt(e.target.value);
            document.getElementById('zoomValue').textContent = zoom + 'x';
            drawHorn();
        });

        document.getElementById('animateBtn').addEventListener('click', animate);
        document.getElementById('resetBtn').addEventListener('click', reset);

        // Initialize
        drawHorn();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
