<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cantor's Diagonal Argument | Surprising Paradoxes</title>
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            color: var(--dark-moss);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--moss);
            text-decoration: none;
            margin-bottom: 1.5rem;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: var(--terracotta);
        }

        h1 {
            font-family: 'Lora', Georgia, serif;
            font-size: 2.5rem;
            color: var(--dark-moss);
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: var(--moss);
            font-size: 1.1rem;
            margin-bottom: 2rem;
        }

        .intro-box {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .intro-box h2 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .intro-box p {
            margin-bottom: 1rem;
        }

        .sim-container {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }

        .sim-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .sim-header h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            font-size: 1.3rem;
        }

        /* Digit grid */
        .digit-grid-container {
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }

        .digit-grid {
            display: inline-block;
            font-family: 'Fira Code', 'Courier New', monospace;
            background: #1e1e2e;
            border-radius: 12px;
            padding: 1rem;
            color: #cdd6f4;
        }

        .grid-row {
            display: flex;
            align-items: center;
            margin-bottom: 4px;
        }

        .row-label {
            width: 80px;
            color: #89b4fa;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .row-prefix {
            color: #a6adc8;
            margin-right: 4px;
        }

        .digit {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            margin: 1px;
            border-radius: 4px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .digit.normal {
            background: #313244;
            color: #cdd6f4;
        }

        .digit.diagonal {
            background: var(--terracotta);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(188, 108, 37, 0.5);
        }

        .digit.new-digit {
            background: var(--moss);
            color: white;
            animation: pulse-new 1s infinite;
        }

        @keyframes pulse-new {
            0%, 100% { box-shadow: 0 0 5px var(--moss); }
            50% { box-shadow: 0 0 15px var(--moss); }
        }

        .ellipsis {
            color: #6c7086;
            margin-left: 8px;
        }

        /* New number display */
        .new-number-row {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 2px dashed var(--terracotta);
        }

        .new-number-row .row-label {
            color: var(--moss);
            font-weight: bold;
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .controls button {
            background: linear-gradient(135deg, var(--moss), var(--dark-moss));
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .controls button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(96, 108, 56, 0.4);
        }

        .controls button.active {
            background: linear-gradient(135deg, var(--terracotta), var(--earth));
        }

        .controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Step indicator */
        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            transition: all 0.3s;
        }

        .step-dot.active {
            background: var(--terracotta);
            transform: scale(1.3);
        }

        .step-dot.completed {
            background: var(--moss);
        }

        /* Explanation panel */
        .explanation-panel {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            min-height: 100px;
        }

        .explanation-panel h4 {
            color: var(--moss);
            margin-bottom: 0.75rem;
        }

        .explanation-panel p {
            margin-bottom: 0.5rem;
        }

        .explanation-panel .highlight {
            color: var(--terracotta);
            font-weight: bold;
        }

        /* Paradox reveal */
        .paradox-box {
            background: linear-gradient(135deg, rgba(188, 108, 37, 0.15), rgba(221, 161, 94, 0.1));
            border: 2px solid var(--terracotta);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .paradox-box h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--terracotta);
            margin-bottom: 1rem;
        }

        .paradox-box p {
            margin-bottom: 1rem;
        }

        /* Proof steps */
        .proof-section {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .proof-section h3 {
            font-family: 'Lora', Georgia, serif;
            color: var(--moss);
            margin-bottom: 1rem;
        }

        .proof-step {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            border-left: 3px solid var(--sage);
        }

        .proof-step .number {
            background: var(--moss);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .proof-step.contradiction {
            border-left-color: var(--terracotta);
            background: rgba(188, 108, 37, 0.1);
        }

        .proof-step.contradiction .number {
            background: var(--terracotta);
        }

        /* Infinity comparison */
        .infinity-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 700px) {
            .infinity-comparison {
                grid-template-columns: 1fr;
            }
        }

        .infinity-card {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
        }

        .infinity-card.countable {
            border: 2px solid var(--sage);
        }

        .infinity-card.uncountable {
            border: 2px solid var(--terracotta);
        }

        .infinity-card .symbol {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        .infinity-card.countable .symbol {
            color: var(--moss);
        }

        .infinity-card.uncountable .symbol {
            color: var(--terracotta);
        }

        .infinity-card h4 {
            margin-bottom: 0.5rem;
        }

        .infinity-card .examples {
            font-size: 0.9rem;
            color: var(--dark-moss);
            margin-top: 0.75rem;
        }

        /* Quote */
        .quote-box {
            background: rgba(96, 108, 56, 0.15);
            border-left: 4px solid var(--sage);
            padding: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
        }

        .quote-box .author {
            margin-top: 0.5rem;
            text-align: right;
            color: var(--moss);
            font-style: normal;
            font-weight: bold;
        }

        /* Implications */
        .implications-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .implication-card {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(138, 154, 91, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .implication-card h4 {
            color: var(--moss);
            margin-bottom: 0.5rem;
        }

        .implication-card p {
            font-size: 0.95rem;
        }

        /* Mobile adjustments */
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .container { padding: 1rem; }
            .digit { width: 22px; height: 22px; font-size: 0.85rem; }
            .row-label { width: 60px; font-size: 0.75rem; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <h1>‚àû Cantor's Diagonal Argument</h1>
        <p class="subtitle">Some infinities are bigger than others ‚Äî and we can prove it</p>

        <div class="intro-box">
            <h2>The Shocking Discovery (1891)</h2>
            <p>
                Georg Cantor proved something that seems impossible: <strong>you cannot list all real numbers
                between 0 and 1</strong>. Even with an infinitely long list, you'll always miss some.
            </p>
            <p>
                This means the infinity of real numbers is <em>strictly larger</em> than the infinity of
                counting numbers. There are different sizes of infinity! The proof is elegant and visual ‚Äî
                watch the diagonal argument unfold below.
            </p>
        </div>

        <div class="sim-container">
            <div class="sim-header">
                <h3>The Diagonal Proof</h3>
                <p style="color: var(--moss); margin-top: 0.5rem;">Suppose we could list ALL real numbers...</p>
            </div>

            <div class="step-indicator">
                <div class="step-dot" id="step0"></div>
                <div class="step-dot" id="step1"></div>
                <div class="step-dot" id="step2"></div>
                <div class="step-dot" id="step3"></div>
                <div class="step-dot" id="step4"></div>
            </div>

            <div class="digit-grid-container">
                <div class="digit-grid" id="digitGrid"></div>
            </div>

            <div class="controls">
                <button id="btnStep">Next Step ‚Üí</button>
                <button id="btnAutoPlay">‚ñ∂ Auto-Play</button>
                <button id="btnReset">‚Ü∫ Reset</button>
            </div>

            <div class="explanation-panel" id="explanationPanel">
                <h4>Step 0: The Setup</h4>
                <p>Assume we have a complete list of ALL real numbers between 0 and 1.</p>
                <p>Each number is written as an infinite decimal: 0.d‚ÇÅd‚ÇÇd‚ÇÉd‚ÇÑ...</p>
            </div>
        </div>

        <div class="paradox-box">
            <h3>‚ö° The Paradox</h3>
            <p>
                The diagonal argument constructs a number that <strong>differs from every number in the
                list</strong> ‚Äî it disagrees with the 1st number in the 1st digit, the 2nd number in the
                2nd digit, and so on.
            </p>
            <p>
                This new number is a valid real number between 0 and 1, but it <strong>cannot appear
                anywhere in our "complete" list</strong>. Contradiction! Therefore, no such complete
                list can exist.
            </p>
            <p>
                <strong>Conclusion:</strong> The real numbers are <em>uncountably infinite</em> ‚Äî a larger
                infinity than the natural numbers.
            </p>
        </div>

        <div class="infinity-comparison">
            <div class="infinity-card countable">
                <div class="symbol">‚Ñµ‚ÇÄ</div>
                <h4>Countable Infinity</h4>
                <p>"Aleph-null" ‚Äî the smallest infinity</p>
                <div class="examples">
                    Natural numbers: 1, 2, 3, 4...<br>
                    Integers: ..., -2, -1, 0, 1, 2...<br>
                    Rationals: 1/2, 3/4, 7/11...
                </div>
            </div>
            <div class="infinity-card uncountable">
                <div class="symbol">ùî†</div>
                <h4>Uncountable Infinity</h4>
                <p>"Continuum" ‚Äî strictly larger!</p>
                <div class="examples">
                    Real numbers: œÄ, ‚àö2, 0.101001...<br>
                    Points on a line segment<br>
                    All possible infinite sequences
                </div>
            </div>
        </div>

        <div class="proof-section">
            <h3>The Formal Proof</h3>
            <div class="proof-step">
                <div class="number">1</div>
                <div>Assume (for contradiction) that all reals in [0,1] can be listed: r‚ÇÅ, r‚ÇÇ, r‚ÇÉ, ...</div>
            </div>
            <div class="proof-step">
                <div class="number">2</div>
                <div>Write each r‚Çô as an infinite decimal: r‚Çô = 0.d‚Çô‚ÇÅd‚Çô‚ÇÇd‚Çô‚ÇÉ...</div>
            </div>
            <div class="proof-step">
                <div class="number">3</div>
                <div>Construct a new number x = 0.x‚ÇÅx‚ÇÇx‚ÇÉ... where x‚Çô ‚â† d‚Çô‚Çô (the diagonal digits).</div>
            </div>
            <div class="proof-step">
                <div class="number">4</div>
                <div>For each n: x differs from r‚Çô in the nth decimal place, so x ‚â† r‚Çô.</div>
            </div>
            <div class="proof-step contradiction">
                <div class="number">‚ö°</div>
                <div><strong>Contradiction!</strong> x is a real in [0,1] but isn't in our "complete" list. Our assumption was false ‚Äî the reals cannot be listed.</div>
            </div>
        </div>

        <div class="quote-box">
            "The essence of mathematics lies in its freedom."
            <div class="author">‚Äî Georg Cantor (1845-1918)</div>
        </div>

        <div class="implications-grid">
            <div class="implication-card">
                <h4>üî¢ Infinity Hierarchy</h4>
                <p>Cantor proved there are infinitely many sizes of infinity: ‚Ñµ‚ÇÄ < 2^‚Ñµ‚ÇÄ < 2^(2^‚Ñµ‚ÇÄ) < ...</p>
            </div>
            <div class="implication-card">
                <h4>üñ•Ô∏è Halting Problem</h4>
                <p>Turing used diagonalization to prove some problems are undecidable by any computer.</p>
            </div>
            <div class="implication-card">
                <h4>üìê G√∂del's Theorems</h4>
                <p>Similar self-referential techniques prove mathematical systems are incomplete.</p>
            </div>
            <div class="implication-card">
                <h4>‚ùì Continuum Hypothesis</h4>
                <p>Is there an infinity between ‚Ñµ‚ÇÄ and ùî†? Proven independent of standard math axioms!</p>
            </div>
        </div>

        <div class="intro-box" style="background: rgba(138, 154, 91, 0.15); border-color: var(--moss);">
            <h2>Why This Matters</h2>
            <p>
                Before Cantor, mathematicians assumed all infinities were the same. His diagonal argument
                shattered that intuition and revealed a rich structure in the infinite.
            </p>
            <p>
                The technique itself ‚Äî constructing an object that differs from everything in a list ‚Äî
                became one of the most powerful tools in mathematics and computer science, used to prove
                limitations on computation, logic, and definability.
            </p>
            <p>
                Cantor's work was controversial in his time; some mathematicians called it a "disease."
                Today, it's fundamental to our understanding of mathematics itself.
            </p>
        </div>
    </div>

    <script>
        // Generate random digits for the grid
        function randomDigit() {
            return Math.floor(Math.random() * 10);
        }

        // Generate the list of "all" real numbers (our supposed complete list)
        const gridSize = 8;
        let numberList = [];
        let diagonalDigits = [];
        let newNumber = [];

        function generateList() {
            numberList = [];
            diagonalDigits = [];
            newNumber = [];

            for (let i = 0; i < gridSize; i++) {
                const digits = [];
                for (let j = 0; j < gridSize + 3; j++) {
                    digits.push(randomDigit());
                }
                numberList.push(digits);
                diagonalDigits.push(digits[i]);
            }

            // Create the new number (avoiding 0 and 9 to prevent 0.999... = 1.000... issues)
            for (let i = 0; i < diagonalDigits.length; i++) {
                const d = diagonalDigits[i];
                // If diagonal is 5, use 2; otherwise use 5
                newNumber.push(d === 5 ? 2 : 5);
            }
        }

        // DOM elements
        const grid = document.getElementById('digitGrid');
        const explanationPanel = document.getElementById('explanationPanel');
        const btnStep = document.getElementById('btnStep');
        const btnAutoPlay = document.getElementById('btnAutoPlay');
        const btnReset = document.getElementById('btnReset');

        let currentStep = 0;
        let autoPlaying = false;
        let autoPlayInterval = null;

        const explanations = [
            {
                title: "Step 0: The Setup",
                content: `<p>Assume we have a <span class="highlight">complete list</span> of ALL real numbers between 0 and 1.</p>
                         <p>Each row shows one number: r‚ÇÅ, r‚ÇÇ, r‚ÇÉ, ... as infinite decimals.</p>`
            },
            {
                title: "Step 1: Identify the Diagonal",
                content: `<p>Look at the <span class="highlight">diagonal digits</span> ‚Äî the 1st digit of the 1st number, 2nd digit of the 2nd number, etc.</p>
                         <p>These are highlighted in orange.</p>`
            },
            {
                title: "Step 2: Build a New Number",
                content: `<p>Construct a new number by <span class="highlight">changing each diagonal digit</span>.</p>
                         <p>If the diagonal has 5, use 2. Otherwise, use 5. This ensures our new number differs from each listed number.</p>`
            },
            {
                title: "Step 3: The New Number",
                content: `<p>Our constructed number appears at the bottom in <span class="highlight">green</span>.</p>
                         <p>It differs from r‚ÇÅ in position 1, from r‚ÇÇ in position 2, and so on...</p>`
            },
            {
                title: "Step 4: The Contradiction!",
                content: `<p><strong>This number cannot be in our list!</strong></p>
                         <p>It differs from EVERY number in at least one digit. But it's a valid real in [0,1].</p>
                         <p>Therefore, our "complete list" was <span class="highlight">never complete</span>. The reals are uncountable! ‚àé</p>`
            }
        ];

        function renderGrid() {
            let html = '';

            // Header row
            html += `<div class="grid-row">
                <span class="row-label"></span>
                <span class="row-prefix">0.</span>`;
            for (let j = 0; j < gridSize + 3; j++) {
                const label = j < gridSize ? `d${j+1}` : '';
                html += `<span class="digit normal" style="background: transparent; color: #6c7086; font-size: 0.7rem;">${label}</span>`;
            }
            html += `</div>`;

            // Number rows
            for (let i = 0; i < gridSize; i++) {
                html += `<div class="grid-row">
                    <span class="row-label">r<sub>${i+1}</sub> =</span>
                    <span class="row-prefix">0.</span>`;

                for (let j = 0; j < numberList[i].length; j++) {
                    const isDiagonal = (i === j);
                    let className = 'digit normal';

                    if (currentStep >= 1 && isDiagonal) {
                        className = 'digit diagonal';
                    }

                    html += `<span class="${className}">${numberList[i][j]}</span>`;
                }
                html += `<span class="ellipsis">...</span></div>`;
            }

            // Ellipsis row
            html += `<div class="grid-row" style="color: #6c7086; margin: 8px 0;">
                <span class="row-label">‚ãÆ</span>
                <span class="row-prefix"></span>
                <span style="margin-left: 10px;">‚ãÆ</span>
            </div>`;

            // New number row (steps 2+)
            if (currentStep >= 2) {
                html += `<div class="grid-row new-number-row">
                    <span class="row-label" style="color: var(--moss);">x =</span>
                    <span class="row-prefix">0.</span>`;

                const digitsToShow = currentStep >= 3 ? newNumber.length : Math.min(currentStep, newNumber.length);

                for (let j = 0; j < newNumber.length; j++) {
                    if (j < digitsToShow) {
                        html += `<span class="digit new-digit">${newNumber[j]}</span>`;
                    } else {
                        html += `<span class="digit normal" style="opacity: 0.3;">?</span>`;
                    }
                }
                html += `<span class="ellipsis">...</span></div>`;
            }

            grid.innerHTML = html;
        }

        function updateExplanation() {
            const exp = explanations[currentStep];
            explanationPanel.innerHTML = `<h4>${exp.title}</h4>${exp.content}`;
        }

        function updateStepIndicator() {
            for (let i = 0; i <= 4; i++) {
                const dot = document.getElementById(`step${i}`);
                dot.className = 'step-dot';
                if (i < currentStep) {
                    dot.classList.add('completed');
                } else if (i === currentStep) {
                    dot.classList.add('active');
                }
            }
        }

        function nextStep() {
            if (currentStep < 4) {
                currentStep++;
                renderGrid();
                updateExplanation();
                updateStepIndicator();
            } else {
                stopAutoPlay();
            }
        }

        function reset() {
            stopAutoPlay();
            currentStep = 0;
            generateList();
            renderGrid();
            updateExplanation();
            updateStepIndicator();
        }

        function startAutoPlay() {
            if (autoPlaying) return;
            autoPlaying = true;
            btnAutoPlay.textContent = '‚è∏ Pause';
            btnAutoPlay.classList.add('active');

            autoPlayInterval = setInterval(() => {
                if (currentStep < 4) {
                    nextStep();
                } else {
                    stopAutoPlay();
                }
            }, 2000);
        }

        function stopAutoPlay() {
            autoPlaying = false;
            btnAutoPlay.textContent = '‚ñ∂ Auto-Play';
            btnAutoPlay.classList.remove('active');
            if (autoPlayInterval) {
                clearInterval(autoPlayInterval);
                autoPlayInterval = null;
            }
        }

        // Event listeners
        btnStep.addEventListener('click', nextStep);
        btnAutoPlay.addEventListener('click', () => {
            if (autoPlaying) {
                stopAutoPlay();
            } else {
                startAutoPlay();
            }
        });
        btnReset.addEventListener('click', reset);

        // Initialize
        generateList();
        renderGrid();
        updateExplanation();
        updateStepIndicator();
    </script>
</body>
</html>
