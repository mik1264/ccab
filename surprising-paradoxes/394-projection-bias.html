<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projection Bias - Your Current State Distorts Your Future Predictions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e8e8e8;
            line-height: 1.7;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.8em;
            color: #ff9f43;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.3em;
            color: #a5b1c2;
            font-style: italic;
        }

        .citation {
            background: rgba(255, 159, 67, 0.1);
            border-left: 4px solid #ff9f43;
            padding: 20px;
            margin: 30px 0;
            border-radius: 0 10px 10px 0;
        }

        .citation-text {
            font-size: 1.2em;
            font-style: italic;
            color: #f8f8f8;
            margin-bottom: 10px;
        }

        .citation-source {
            color: #a5b1c2;
            font-size: 0.9em;
        }

        .intro-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
        }

        .intro-section h2 {
            color: #ff9f43;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        .intro-section p {
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .highlight {
            color: #ff9f43;
            font-weight: bold;
        }

        .highlight-cold {
            color: #74b9ff;
            font-weight: bold;
        }

        .highlight-hot {
            color: #ff6b6b;
            font-weight: bold;
        }

        /* Experiment Section */
        .experiment-section {
            background: rgba(255, 255, 255, 0.08);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 40px;
        }

        .experiment-section h2 {
            color: #ff9f43;
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.8em;
        }

        .state-setup {
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .state-title {
            font-size: 1.5em;
            color: #ff9f43;
            margin-bottom: 20px;
        }

        .state-description {
            font-size: 1.1em;
            margin-bottom: 25px;
            color: #a5b1c2;
        }

        .state-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .hunger-meter {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }

        .meter-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .meter-bar {
            height: 30px;
            background: linear-gradient(90deg, #2ecc71, #f39c12, #e74c3c);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .meter-indicator {
            position: absolute;
            top: -5px;
            width: 40px;
            height: 40px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: left 0.5s ease;
        }

        /* Prediction Cards */
        .prediction-area {
            margin-top: 30px;
        }

        .prediction-intro {
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.2em;
        }

        .future-scenario {
            background: rgba(255, 159, 67, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .food-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .food-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .food-card:hover {
            transform: translateY(-5px);
            background: rgba(0, 0, 0, 0.4);
        }

        .food-card.selected {
            border-color: #ff9f43;
        }

        .food-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .food-name {
            font-size: 1.1em;
            color: #fff;
            margin-bottom: 5px;
        }

        .food-calories {
            font-size: 0.85em;
            color: #a5b1c2;
        }

        .rating-section {
            margin-top: 30px;
            text-align: center;
        }

        .rating-question {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .slider-container {
            max-width: 400px;
            margin: 0 auto;
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.9em;
            color: #a5b1c2;
            margin-bottom: 10px;
        }

        .prediction-slider {
            width: 100%;
            height: 20px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #2ecc71, #f39c12, #e74c3c);
            border-radius: 10px;
            outline: none;
        }

        .prediction-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 30px;
            height: 30px;
            background: #fff;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .slider-value {
            text-align: center;
            font-size: 1.5em;
            color: #ff9f43;
            margin-top: 15px;
        }

        .btn {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            display: block;
            margin: 30px auto 0;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ff9f43, #ee8c33);
            color: #1a1a2e;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 159, 67, 0.4);
        }

        /* Phase indicator */
        .phase-indicator {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .phase {
            padding: 10px 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            font-size: 0.9em;
            color: #a5b1c2;
            transition: all 0.3s ease;
        }

        .phase.active {
            background: linear-gradient(135deg, #ff9f43, #ee8c33);
            color: #1a1a2e;
            font-weight: bold;
        }

        .phase.completed {
            background: rgba(46, 204, 113, 0.3);
            color: #2ecc71;
        }

        /* Results Section */
        .results-section {
            display: none;
            background: rgba(255, 255, 255, 0.08);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 40px;
        }

        .results-section.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .results-section h2 {
            color: #e74c3c;
            margin-bottom: 30px;
            text-align: center;
            font-size: 1.8em;
        }

        .bias-reveal {
            background: rgba(255, 159, 67, 0.2);
            border: 2px solid #ff9f43;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }

        .bias-title {
            font-size: 1.5em;
            color: #ff9f43;
            margin-bottom: 20px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 30px 0;
        }

        .prediction-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
        }

        .prediction-box h4 {
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .prediction-box.hungry {
            border-top: 4px solid #e74c3c;
        }

        .prediction-box.hungry h4 { color: #e74c3c; }

        .prediction-box.satisfied {
            border-top: 4px solid #2ecc71;
        }

        .prediction-box.satisfied h4 { color: #2ecc71; }

        .prediction-value {
            font-size: 2.5em;
            font-weight: bold;
        }

        .prediction-box.hungry .prediction-value { color: #e74c3c; }
        .prediction-box.satisfied .prediction-value { color: #2ecc71; }

        .vs-indicator {
            font-size: 2em;
            color: #a5b1c2;
        }

        .bias-explanation {
            margin-top: 20px;
            font-size: 1.1em;
            line-height: 1.8;
        }

        .research-comparison {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .research-comparison h3 {
            color: #ff9f43;
            margin-bottom: 15px;
        }

        /* Research Section */
        .research-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
        }

        .research-section h2 {
            color: #ff9f43;
            margin-bottom: 20px;
            font-size: 1.6em;
        }

        .research-section h3 {
            color: #2ecc71;
            margin: 25px 0 15px;
            font-size: 1.3em;
        }

        .domain-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .domain-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #ff9f43;
        }

        .domain-card h4 {
            color: #ff9f43;
            margin-bottom: 10px;
        }

        .domain-card p {
            font-size: 0.95em;
            color: #a5b1c2;
        }

        /* Examples Section */
        .examples-section {
            background: rgba(255, 107, 107, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 40px;
        }

        .examples-section h2 {
            color: #ff6b6b;
            margin-bottom: 20px;
            font-size: 1.6em;
        }

        .example-list {
            display: grid;
            gap: 15px;
        }

        .example-item {
            display: flex;
            gap: 15px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .example-icon {
            font-size: 2em;
        }

        .example-content h4 {
            color: #2ecc71;
            margin-bottom: 5px;
        }

        .example-content p {
            font-size: 0.95em;
            color: #a5b1c2;
        }

        /* Back link */
        .back-link {
            display: inline-block;
            color: #ff9f43;
            text-decoration: none;
            margin-bottom: 20px;
            font-size: 1.1em;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #2ecc71;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 600px) {
            h1 { font-size: 2em; }
            .comparison-grid { grid-template-columns: 1fr; }
            .vs-indicator { transform: rotate(90deg); }
            .container { padding: 20px 15px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <header>
            <h1>Projection Bias</h1>
            <p class="subtitle">Your Current State Distorts Your Future Predictions</p>
        </header>

        <div class="citation">
            <p class="citation-text">"Never go grocery shopping when you're hungry."</p>
            <p class="citation-source">‚Äî Common wisdom, explained by Loewenstein, O'Donoghue & Rabin (2003)</p>
        </div>

        <div class="intro-section">
            <h2>You Think Future-You Will Feel Like Current-You</h2>
            <p>
                Right now, you're in a certain <span class="highlight">state</span> ‚Äî hungry or full, hot or cold,
                happy or sad. When you try to predict what you'll want or feel in the future, you
                <span class="highlight">project</span> your current state onto that prediction.
            </p>
            <p>
                If you're <span class="highlight-hot">hungry</span>, you overestimate how much food you'll want
                later. If you're <span class="highlight-cold">cold</span>, you underestimate how much you'll want
                that convertible in summer. Researchers call this <span class="highlight">projection bias</span>.
            </p>
            <p>
                The effect is powerful: hungry shoppers buy different foods than satisfied shoppers, and their
                purchases match what someone who expects to be <em>permanently famished</em> would buy. Your
                current self hijacks your future self's decisions.
            </p>
        </div>

        <div class="experiment-section" id="experimentSection">
            <h2>Experience Projection Bias</h2>

            <div class="phase-indicator">
                <span class="phase active" id="phase1">üçï Hungry State</span>
                <span class="phase" id="phase2">üçΩÔ∏è Full State</span>
                <span class="phase" id="phase3">üìä Compare</span>
            </div>

            <div id="experimentContent">
                <!-- Phase 1: Hungry State -->
                <div class="state-setup" id="hungrySetup">
                    <div class="state-icon">üòã</div>
                    <div class="state-title">Imagine: You're HUNGRY</div>
                    <div class="state-description">
                        It's been 6 hours since your last meal. Your stomach is growling.
                        You can almost smell food cooking nearby...
                    </div>
                    <div class="hunger-meter">
                        <div class="meter-label">
                            <span>Full</span>
                            <span>Hungry</span>
                        </div>
                        <div class="meter-bar">
                            <div class="meter-indicator" style="left: calc(85% - 20px);">üò´</div>
                        </div>
                    </div>
                </div>

                <div class="prediction-area">
                    <div class="future-scenario">
                        <strong>TOMORROW at 2 PM:</strong> You'll have had a normal lunch.
                        How much of each food would you want as a snack?
                    </div>

                    <div class="rating-section">
                        <div class="rating-question" id="ratingQuestion">
                            How hungry will you be for a snack tomorrow afternoon?
                        </div>
                        <div class="slider-container">
                            <div class="slider-labels">
                                <span>Not hungry at all</span>
                                <span>Extremely hungry</span>
                            </div>
                            <input type="range" class="prediction-slider" id="hungerSlider" min="0" max="100" value="50">
                            <div class="slider-value"><span id="sliderValue">50</span>%</div>
                        </div>
                    </div>

                    <div class="food-grid" id="foodGrid">
                        <div class="food-card" onclick="selectFood(this, 'salad')">
                            <div class="food-icon">ü•ó</div>
                            <div class="food-name">Light Salad</div>
                            <div class="food-calories">150 cal</div>
                        </div>
                        <div class="food-card" onclick="selectFood(this, 'sandwich')">
                            <div class="food-icon">ü•™</div>
                            <div class="food-name">Sandwich</div>
                            <div class="food-calories">400 cal</div>
                        </div>
                        <div class="food-card" onclick="selectFood(this, 'burger')">
                            <div class="food-icon">üçî</div>
                            <div class="food-name">Big Burger</div>
                            <div class="food-calories">750 cal</div>
                        </div>
                        <div class="food-card" onclick="selectFood(this, 'pizza')">
                            <div class="food-icon">üçï</div>
                            <div class="food-name">Large Pizza</div>
                            <div class="food-calories">1200 cal</div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" id="nextBtn" onclick="nextPhase()" disabled>
                    Next: Predict When Full ‚Üí
                </button>
            </div>
        </div>

        <div class="results-section" id="resultsSection">
            <h2>üé≠ Your Projection Bias Revealed</h2>

            <div class="bias-reveal">
                <div class="bias-title">Same Future, Different Predictions</div>

                <div class="comparison-grid">
                    <div class="prediction-box hungry">
                        <h4>When Imagining Hungry</h4>
                        <div class="prediction-value" id="hungryPrediction">--</div>
                        <p>Predicted hunger level</p>
                        <p style="margin-top: 10px; font-size: 0.9em;" id="hungryFood"></p>
                    </div>
                    <span class="vs-indicator">vs</span>
                    <div class="prediction-box satisfied">
                        <h4>When Imagining Full</h4>
                        <div class="prediction-value" id="fullPrediction">--</div>
                        <p>Predicted hunger level</p>
                        <p style="margin-top: 10px; font-size: 0.9em;" id="fullFood"></p>
                    </div>
                </div>

                <p class="bias-explanation" id="biasExplanation"></p>
            </div>

            <div class="research-comparison">
                <h3>üìä Research Comparison</h3>
                <p>
                    <strong>Loewenstein et al. (2003)</strong> found that hungry participants predicted
                    they'd want nearly <span class="highlight-hot">twice as much food</span> for a future
                    delivery compared to satisfied participants ‚Äî even though the future delivery was
                    a week away when both groups would presumably be equally hungry.
                </p>
                <p style="margin-top: 15px;">
                    Return rates for items bought in cold weather are <strong>0.57 percentage points higher</strong>
                    when bought on a day 30¬∞F colder than the return day ‚Äî projection bias at work.
                </p>
            </div>

            <button class="btn btn-primary" onclick="restartExperiment()">Try Again</button>
        </div>

        <div class="research-section">
            <h2>The Science of State-Dependent Prediction</h2>

            <p>
                <span class="highlight">Projection bias</span> was formally identified by economists
                George Loewenstein, Ted O'Donoghue, and Matthew Rabin in 2003. They showed that people
                systematically underestimate how much their preferences will change when their state changes.
            </p>

            <h3>Hot States vs Cold States</h3>
            <p>
                Loewenstein's framework distinguishes between <span class="highlight-hot">"hot" states</span>
                (hunger, anger, pain, arousal) and <span class="highlight-cold">"cold" states</span>
                (satisfied, calm, comfortable). When in a hot state, we can't imagine feeling cold,
                and vice versa. This creates an <span class="highlight">empathy gap</span> ‚Äî with our
                own future selves.
            </p>

            <h3>Where Projection Bias Strikes</h3>
            <div class="domain-grid">
                <div class="domain-card">
                    <h4>üõí Grocery Shopping</h4>
                    <p>Hungry shoppers buy 31% more calories than satisfied shoppers. They project
                    their current hunger onto future meals.</p>
                </div>
                <div class="domain-card">
                    <h4>üå°Ô∏è Weather & Products</h4>
                    <p>Cold-weather purchases of convertibles and air conditioners are returned more
                    often ‚Äî the buyer couldn't imagine summer.</p>
                </div>
                <div class="domain-card">
                    <h4>üí∞ Financial Planning</h4>
                    <p>Young people underestimate retirement needs ‚Äî they project current health
                    and earning power onto their 70-year-old selves.</p>
                </div>
                <div class="domain-card">
                    <h4>üèãÔ∏è Gym Memberships</h4>
                    <p>Motivated January signups overestimate future motivation. 80% of gym members
                    stop going by February.</p>
                </div>
            </div>

            <h3>Why Does This Happen?</h3>
            <p>
                The mechanism appears to be <span class="highlight">anchoring and adjustment</span>.
                We anchor on our current state and then insufficiently adjust for how different the
                future will be. Our current visceral state is so immediate and vivid that it dominates
                our imagination of the future.
            </p>
        </div>

        <div class="examples-section">
            <h2>Projection Bias in Daily Life</h2>
            <div class="example-list">
                <div class="example-item">
                    <span class="example-icon">üçï</span>
                    <div class="example-content">
                        <h4>Ordering Too Much Food</h4>
                        <p>You order dinner when hungry, but by the time it arrives you're less hungry.
                        Result: overeating or wasted food.</p>
                    </div>
                </div>
                <div class="example-item">
                    <span class="example-icon">üè†</span>
                    <div class="example-content">
                        <h4>Buying a House</h4>
                        <p>Couples with small children buy big houses. When kids leave, the house feels
                        too large ‚Äî they couldn't project to empty-nest selves.</p>
                    </div>
                </div>
                <div class="example-item">
                    <span class="example-icon">üéí</span>
                    <div class="example-content">
                        <h4>Overpacking for Trips</h4>
                        <p>At home, you imagine needing 10 outfits. On the trip, you wear 3 and
                        curse the heavy suitcase.</p>
                    </div>
                </div>
                <div class="example-item">
                    <span class="example-icon">üíä</span>
                    <div class="example-content">
                        <h4>Medical Decisions</h4>
                        <p>When healthy, people say they'd want aggressive treatment if terminally ill.
                        Actually ill patients often want comfort care instead.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="citation">
            <p class="citation-text">"People exaggerate the degree to which their future tastes will
            resemble their current tastes."</p>
            <p class="citation-source">‚Äî Loewenstein, O'Donoghue & Rabin, Quarterly Journal of Economics (2003)</p>
        </div>
    </div>

    <script>
        let phase = 1;
        let data = {
            hungry: { prediction: null, food: null },
            full: { prediction: null, food: null }
        };

        const foodCalories = {
            salad: 150,
            sandwich: 400,
            burger: 750,
            pizza: 1200
        };

        const foodNames = {
            salad: 'Light Salad',
            sandwich: 'Sandwich',
            burger: 'Big Burger',
            pizza: 'Large Pizza'
        };

        // Slider update
        document.getElementById('hungerSlider').addEventListener('input', function() {
            document.getElementById('sliderValue').textContent = this.value;
            checkPhaseComplete();
        });

        function selectFood(card, food) {
            // Deselect all
            document.querySelectorAll('.food-card').forEach(c => c.classList.remove('selected'));
            // Select this one
            card.classList.add('selected');

            if (phase === 1) {
                data.hungry.food = food;
            } else {
                data.full.food = food;
            }

            checkPhaseComplete();
        }

        function checkPhaseComplete() {
            const prediction = parseInt(document.getElementById('hungerSlider').value);
            const foodSelected = document.querySelector('.food-card.selected');

            if (foodSelected) {
                document.getElementById('nextBtn').disabled = false;

                // Store prediction
                if (phase === 1) {
                    data.hungry.prediction = prediction;
                } else {
                    data.full.prediction = prediction;
                }
            }
        }

        function nextPhase() {
            if (phase === 1) {
                // Move to phase 2
                phase = 2;
                document.getElementById('phase1').classList.remove('active');
                document.getElementById('phase1').classList.add('completed');
                document.getElementById('phase2').classList.add('active');

                // Update UI for "full" state
                const setup = document.getElementById('hungrySetup');
                setup.innerHTML = `
                    <div class="state-icon">üòä</div>
                    <div class="state-title">Now Imagine: You're FULL</div>
                    <div class="state-description">
                        You just finished a delicious, satisfying meal. You feel pleasantly full
                        and content. The thought of more food seems unnecessary...
                    </div>
                    <div class="hunger-meter">
                        <div class="meter-label">
                            <span>Full</span>
                            <span>Hungry</span>
                        </div>
                        <div class="meter-bar">
                            <div class="meter-indicator" style="left: calc(15% - 20px);">üòå</div>
                        </div>
                    </div>
                `;

                // Reset slider and food selection
                document.getElementById('hungerSlider').value = 50;
                document.getElementById('sliderValue').textContent = '50';
                document.querySelectorAll('.food-card').forEach(c => c.classList.remove('selected'));
                document.getElementById('nextBtn').disabled = true;
                document.getElementById('nextBtn').textContent = 'See Results ‚Üí';

            } else {
                // Show results
                showResults();
            }
        }

        function showResults() {
            document.getElementById('experimentSection').style.display = 'none';
            document.getElementById('resultsSection').classList.add('show');

            // Display predictions
            document.getElementById('hungryPrediction').textContent = data.hungry.prediction + '%';
            document.getElementById('fullPrediction').textContent = data.full.prediction + '%';
            document.getElementById('hungryFood').textContent = `Chose: ${foodNames[data.hungry.food]} (${foodCalories[data.hungry.food]} cal)`;
            document.getElementById('fullFood').textContent = `Chose: ${foodNames[data.full.food]} (${foodCalories[data.full.food]} cal)`;

            // Calculate bias
            const predictionDiff = data.hungry.prediction - data.full.prediction;
            const calorieDiff = foodCalories[data.hungry.food] - foodCalories[data.full.food];

            let explanation = '';
            if (predictionDiff > 15 || calorieDiff > 200) {
                explanation = `<strong>Classic projection bias!</strong> When imagining yourself hungry, you predicted
                    ${Math.abs(predictionDiff)}% higher hunger and chose ${calorieDiff} more calories.
                    Your "hungry imagination" projected onto your future self, even though tomorrow
                    after lunch should be the same either way.`;
            } else if (predictionDiff > 5 || calorieDiff > 100) {
                explanation = `<strong>Moderate projection bias.</strong> You showed some tendency to project your
                    imagined current state onto your future predictions. The difference was ${Math.abs(predictionDiff)}%
                    in hunger prediction and ${Math.abs(calorieDiff)} calories in food choice.`;
            } else if (predictionDiff < -5) {
                explanation = `<strong>Interesting!</strong> You actually predicted LESS hunger when imagining
                    being hungry. This is unusual ‚Äî perhaps you were overcorrecting for projection bias?`;
            } else {
                explanation = `<strong>Impressive consistency!</strong> Your predictions were similar regardless
                    of the imagined state. You showed minimal projection bias ‚Äî though in real life,
                    with real hunger, the effect is typically stronger.`;
            }

            document.getElementById('biasExplanation').innerHTML = explanation;
        }

        function restartExperiment() {
            phase = 1;
            data = {
                hungry: { prediction: null, food: null },
                full: { prediction: null, food: null }
            };

            document.getElementById('resultsSection').classList.remove('show');
            document.getElementById('experimentSection').style.display = 'block';

            // Reset phases
            document.getElementById('phase1').classList.add('active');
            document.getElementById('phase1').classList.remove('completed');
            document.getElementById('phase2').classList.remove('active', 'completed');
            document.getElementById('phase3').classList.remove('active', 'completed');

            // Reset hungry setup
            document.getElementById('hungrySetup').innerHTML = `
                <div class="state-icon">üòã</div>
                <div class="state-title">Imagine: You're HUNGRY</div>
                <div class="state-description">
                    It's been 6 hours since your last meal. Your stomach is growling.
                    You can almost smell food cooking nearby...
                </div>
                <div class="hunger-meter">
                    <div class="meter-label">
                        <span>Full</span>
                        <span>Hungry</span>
                    </div>
                    <div class="meter-bar">
                        <div class="meter-indicator" style="left: calc(85% - 20px);">üò´</div>
                    </div>
                </div>
            `;

            document.getElementById('hungerSlider').value = 50;
            document.getElementById('sliderValue').textContent = '50';
            document.querySelectorAll('.food-card').forEach(c => c.classList.remove('selected'));
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('nextBtn').textContent = 'Next: Predict When Full ‚Üí';
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
