<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Checker Shadow Illusion - Surprising Paradoxes</title>
    <style>
        :root {
            --dark-square: #787878;
            --light-square: #b8b8b8;
            --shadow-dark: #5a5a5a;
            --shadow-light: #787878;
            --accent: #e74c3c;
            --bg: #2c3e50;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #e0e0e0;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            text-decoration: none;
            color: #4fc3f7;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
            background: rgba(0,0,0,0.5);
            padding: 10px 15px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .back-link:hover {
            transform: translateX(-5px);
            background: #4fc3f7;
            color: #1a1a2e;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #4fc3f7, #e91e63);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #888;
        }

        /* Main Illusion Display */
        .illusion-container {
            background: linear-gradient(135deg, #2d2d44 0%, #1a1a2e 100%);
            border-radius: 30px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            text-align: center;
        }

        .canvas-wrapper {
            position: relative;
            display: inline-block;
            margin: 20px auto;
        }

        canvas {
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        }

        .label {
            position: absolute;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            pointer-events: none;
        }

        #label-a {
            top: 215px;
            left: 115px;
        }

        #label-b {
            top: 155px;
            left: 175px;
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .control-btn.primary {
            background: linear-gradient(135deg, #e91e63 0%, #c2185b 100%);
            color: white;
        }

        .control-btn.secondary {
            background: linear-gradient(135deg, #4fc3f7 0%, #29b6f6 100%);
            color: #1a1a2e;
        }

        .control-btn.tertiary {
            background: #555;
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }

        .control-btn.active {
            box-shadow: 0 0 20px rgba(233, 30, 99, 0.6);
        }

        /* Color Comparison */
        .color-comparison {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .color-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .color-swatch {
            width: 100px;
            height: 100px;
            border-radius: 15px;
            border: 4px solid white;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .color-label {
            margin-top: 10px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .color-value {
            font-family: 'Courier New', monospace;
            color: #888;
            margin-top: 5px;
        }

        .equals-sign {
            font-size: 3rem;
            font-weight: bold;
            color: #4fc3f7;
        }

        /* Explanation Sections */
        .section {
            background: linear-gradient(135deg, #252545 0%, #1a1a3e 100%);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
        }

        .section h2 {
            color: #4fc3f7;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Why It Works */
        .reasons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .reason-card {
            background: rgba(0,0,0,0.3);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #e91e63;
        }

        .reason-card h3 {
            color: #e91e63;
            margin-bottom: 10px;
        }

        .reason-card p {
            line-height: 1.7;
            color: #aaa;
        }

        /* Proof Section */
        .proof-section {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.2) 0%, rgba(56, 142, 60, 0.2) 100%);
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            border: 2px solid #4caf50;
        }

        .proof-section h2 {
            color: #4caf50;
            margin-bottom: 20px;
            text-align: center;
        }

        /* Eyedropper instruction */
        .eyedropper-hint {
            background: rgba(255,255,255,0.1);
            padding: 15px 25px;
            border-radius: 10px;
            display: inline-block;
            margin: 15px 0;
        }

        /* History */
        .history-box {
            background: linear-gradient(135deg, rgba(233, 30, 99, 0.1) 0%, rgba(194, 24, 91, 0.1) 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border: 1px solid rgba(233, 30, 99, 0.3);
        }

        .history-box h3 {
            color: #e91e63;
            margin-bottom: 15px;
        }

        /* Reveal Animation */
        .connecting-bar {
            position: absolute;
            height: 30px;
            background: #787878;
            border: 2px solid #4fc3f7;
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 10;
        }

        .connecting-bar.show {
            opacity: 1;
        }

        /* Interactive message */
        .message-box {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            font-size: 1.2rem;
            font-weight: bold;
        }

        footer {
            text-align: center;
            padding: 30px;
            color: #666;
            font-style: italic;
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .color-swatch { width: 70px; height: 70px; }
            .equals-sign { font-size: 2rem; }
            #label-a { top: 150px; left: 75px; }
            #label-b { top: 110px; left: 120px; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">
        <span>‚Üê</span> Back to Paradoxes
    </a>

    <div class="container">
        <header>
            <h1>üé® The Checker Shadow Illusion</h1>
            <p class="subtitle">Your eyes are lying to you</p>
        </header>

        <div class="illusion-container">
            <p style="margin-bottom: 20px; font-size: 1.1rem;">
                Which square is darker: <strong>A</strong> or <strong>B</strong>?
            </p>

            <div class="canvas-wrapper">
                <canvas id="illusion" width="400" height="400"></canvas>
                <div class="label" id="label-a">A</div>
                <div class="label" id="label-b">B</div>
            </div>

            <div class="controls">
                <button class="control-btn primary" id="reveal-btn" onclick="toggleReveal()">
                    üëÅÔ∏è Reveal the Truth
                </button>
                <button class="control-btn secondary" onclick="showBars()">
                    ‚ûñ Connect Squares
                </button>
                <button class="control-btn tertiary" onclick="reset()">
                    Reset
                </button>
            </div>

            <div class="message-box" id="message" style="display: none;">
                ü§Ø They're the SAME COLOR! Both squares are RGB(120, 120, 120)
            </div>
        </div>

        <div class="proof-section">
            <h2>‚úÖ Proof: They're Identical</h2>
            <div class="color-comparison">
                <div class="color-box">
                    <div class="color-swatch" style="background: #787878;"></div>
                    <div class="color-label">Square A</div>
                    <div class="color-value">#787878</div>
                    <div class="color-value">RGB(120, 120, 120)</div>
                </div>
                <div class="equals-sign">=</div>
                <div class="color-box">
                    <div class="color-swatch" style="background: #787878;"></div>
                    <div class="color-label">Square B</div>
                    <div class="color-value">#787878</div>
                    <div class="color-value">RGB(120, 120, 120)</div>
                </div>
            </div>
            <div class="eyedropper-hint">
                üí° Use your browser's color picker or screenshot + eyedropper tool to verify!
            </div>
        </div>

        <div class="section">
            <h2>üß† Why Does Your Brain Do This?</h2>
            <div class="reasons-grid">
                <div class="reason-card">
                    <h3>Lightness Constancy</h3>
                    <p>Your brain tries to determine the TRUE color of objects, independent of lighting. It "knows" B is in shadow, so it compensates by perceiving it as lighter than it appears.</p>
                </div>
                <div class="reason-card">
                    <h3>Local Contrast</h3>
                    <p>Square A is surrounded by lighter squares, making it seem dark. Square B is surrounded by darker squares (in shadow), making it seem light. Relativity is everything!</p>
                </div>
                <div class="reason-card">
                    <h3>Shadow Interpretation</h3>
                    <p>The soft gradient of the shadow tells your brain "this is a shadow." Your visual system then "subtracts" the shadow to reveal what it thinks is the true surface color.</p>
                </div>
                <div class="reason-card">
                    <h3>3D Scene Reconstruction</h3>
                    <p>Your brain interprets the image as a 3D scene with a cylinder casting a shadow. This context changes everything about how you perceive the colors.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üî¨ Breaking the Illusion</h2>
            <p style="text-align: center; margin-bottom: 20px;">
                The illusion only works when your brain sees it as a 3D scene with lighting.
                Break the context, break the illusion:
            </p>
            <ul style="max-width: 600px; margin: 0 auto; line-height: 2;">
                <li><strong>Connect the squares</strong> with a bar of the same color</li>
                <li><strong>Remove surrounding context</strong> - isolate just the two squares</li>
                <li><strong>Squint hard</strong> - blur the image enough to lose the checkerboard pattern</li>
                <li><strong>Cover the shadow</strong> - use your hand to hide the gradient</li>
            </ul>
        </div>

        <div class="section">
            <div class="history-box">
                <h3>üìú History</h3>
                <p style="line-height: 1.8;">
                    <strong>Edward H. Adelson</strong>, Professor of Vision Science at MIT,
                    created this illusion in 1995. It became one of the most famous demonstrations
                    of how human vision processes lightness and shadow.
                </p>
                <p style="margin-top: 15px; line-height: 1.8;">
                    Adelson's work at MIT's Perceptual Science Group focuses on understanding
                    how the brain reconstructs the physical world from ambiguous visual information.
                    This illusion perfectly demonstrates that we don't see "raw" pixel values‚Äîwe see
                    the brain's best guess about reality.
                </p>
            </div>
        </div>

        <div class="section">
            <h2>üí° The Deeper Lesson</h2>
            <p style="text-align: center; line-height: 1.8; font-size: 1.1rem;">
                You don't see the world as it IS‚Äîyou see your brain's <em>interpretation</em> of it.
                <br><br>
                This isn't a bug; it's a feature! Lightness constancy helps you recognize objects
                under different lighting conditions. A piece of paper looks "white" whether it's
                in bright sunlight or dim shadow, even though the light reaching your eyes differs enormously.
                <br><br>
                The paradox is that this helpful mechanism can be fooled‚Äîand when it is,
                you have NO WAY to override it through willpower alone. <strong>Knowing the truth doesn't change what you see.</strong>
            </p>
        </div>

        <footer>
            <p>"The visual system is not very good at being a physical light meter, but it IS good at identifying surfaces and objects." ‚Äî Edward Adelson</p>
            <p style="margin-top: 10px;">‚Äî Related: Dress Illusion, Munker-White, Simultaneous Contrast</p>
        </footer>
    </div>

    <script>
        const canvas = document.getElementById('illusion');
        const ctx = canvas.getContext('2d');

        let revealed = false;
        let barsShown = false;

        // The key gray value for both A and B
        const SAME_GRAY = '#787878';

        function drawCheckerboard() {
            const size = 400;
            const squareSize = 50;
            const rows = 8;
            const cols = 8;

            ctx.clearRect(0, 0, size, size);

            // Draw the checkerboard base
            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    const isLight = (row + col) % 2 === 0;
                    ctx.fillStyle = isLight ? '#b8b8b8' : '#404040';
                    ctx.fillRect(col * squareSize, row * squareSize, squareSize, squareSize);
                }
            }

            // Draw shadow gradient
            const shadowGradient = ctx.createLinearGradient(100, 50, 350, 300);
            shadowGradient.addColorStop(0, 'rgba(0,0,0,0)');
            shadowGradient.addColorStop(0.2, 'rgba(0,0,0,0.4)');
            shadowGradient.addColorStop(0.8, 'rgba(0,0,0,0.4)');
            shadowGradient.addColorStop(1, 'rgba(0,0,0,0)');

            ctx.fillStyle = shadowGradient;
            ctx.beginPath();
            ctx.ellipse(220, 200, 150, 100, 0.3, 0, Math.PI * 2);
            ctx.fill();

            // Draw the cylinder
            drawCylinder(280, 50, 60, 150);

            // Highlight the key squares if revealed
            if (revealed) {
                // Draw squares A and B with connecting bar
                ctx.strokeStyle = '#4fc3f7';
                ctx.lineWidth = 3;

                // Square A (dark square in light area)
                ctx.strokeRect(100, 200, squareSize, squareSize);

                // Square B (light square in shadow)
                ctx.strokeRect(150, 150, squareSize, squareSize);
            }
        }

        function drawCylinder(x, y, radius, height) {
            // Cylinder body
            const gradient = ctx.createLinearGradient(x - radius, 0, x + radius, 0);
            gradient.addColorStop(0, '#2a5a2a');
            gradient.addColorStop(0.3, '#3d8b3d');
            gradient.addColorStop(0.5, '#4a9a4a');
            gradient.addColorStop(0.7, '#3d8b3d');
            gradient.addColorStop(1, '#2a5a2a');

            ctx.fillStyle = gradient;
            ctx.fillRect(x - radius, y, radius * 2, height);

            // Top ellipse
            ctx.fillStyle = '#5aab5a';
            ctx.beginPath();
            ctx.ellipse(x, y, radius, radius * 0.3, 0, 0, Math.PI * 2);
            ctx.fill();

            // Top highlight
            ctx.fillStyle = 'rgba(255,255,255,0.2)';
            ctx.beginPath();
            ctx.ellipse(x - 10, y - 5, radius * 0.5, radius * 0.15, -0.3, 0, Math.PI * 2);
            ctx.fill();
        }

        function drawWithRealColors() {
            const size = 400;
            ctx.clearRect(0, 0, size, size);

            // Fill entire canvas with the gray
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, size, size);

            // Draw just the two squares with their ACTUAL color
            ctx.fillStyle = SAME_GRAY;

            // Square A position
            ctx.fillRect(100, 200, 50, 50);

            // Square B position
            ctx.fillRect(150, 150, 50, 50);

            // Labels
            ctx.fillStyle = 'white';
            ctx.font = 'bold 20px sans-serif';
            ctx.fillText('A', 118, 232);
            ctx.fillText('B', 168, 182);

            // Arrow between them
            ctx.strokeStyle = '#4fc3f7';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(140, 210);
            ctx.lineTo(160, 190);
            ctx.stroke();

            // Equal sign
            ctx.fillStyle = '#4fc3f7';
            ctx.font = 'bold 30px sans-serif';
            ctx.fillText('=', 250, 200);

            ctx.font = '16px sans-serif';
            ctx.fillStyle = '#888';
            ctx.fillText('SAME COLOR!', 220, 240);
        }

        function toggleReveal() {
            revealed = !revealed;
            const btn = document.getElementById('reveal-btn');
            const msg = document.getElementById('message');

            if (revealed) {
                drawWithRealColors();
                btn.textContent = 'üîô Show Illusion';
                btn.classList.add('active');
                msg.style.display = 'block';
            } else {
                drawCheckerboard();
                btn.textContent = 'üëÅÔ∏è Reveal the Truth';
                btn.classList.remove('active');
                msg.style.display = 'none';
            }
        }

        function showBars() {
            // Redraw and add connecting bar
            drawCheckerboard();

            // Draw connecting bar of the same gray
            ctx.fillStyle = SAME_GRAY;
            ctx.fillRect(125, 175, 50, 25);

            // Outline
            ctx.strokeStyle = '#4fc3f7';
            ctx.lineWidth = 2;
            ctx.strokeRect(125, 175, 50, 25);

            document.getElementById('message').style.display = 'block';
            revealed = false;
            document.getElementById('reveal-btn').textContent = 'üëÅÔ∏è Reveal the Truth';
            document.getElementById('reveal-btn').classList.remove('active');
        }

        function reset() {
            revealed = false;
            barsShown = false;
            document.getElementById('reveal-btn').textContent = 'üëÅÔ∏è Reveal the Truth';
            document.getElementById('reveal-btn').classList.remove('active');
            document.getElementById('message').style.display = 'none';
            drawCheckerboard();
        }

        // Initial draw
        drawCheckerboard();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
