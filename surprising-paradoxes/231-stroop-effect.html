<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Stroop Effect - When Your Brain Betrays You</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 2.5em;
            color: #e94560;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            color: #a0a0a0;
            font-style: italic;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #e94560;
            text-decoration: none;
            font-size: 1.1em;
            z-index: 1000;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .panel {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .panel h2 {
            color: #e94560;
            margin-bottom: 20px;
            font-size: 1.4em;
        }

        /* Game Area */
        .game-area {
            text-align: center;
            padding: 40px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            margin: 20px 0;
        }

        .word-display {
            font-size: 5em;
            font-weight: bold;
            margin: 30px 0;
            text-transform: uppercase;
            letter-spacing: 5px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .instruction {
            font-size: 1.3em;
            color: #f1c40f;
            margin-bottom: 20px;
        }

        /* Color Buttons */
        .color-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin: 30px 0;
        }

        .color-btn {
            width: 100px;
            height: 60px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            text-transform: uppercase;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .color-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255,255,255,0.2);
        }

        .color-btn:active {
            transform: scale(0.95);
        }

        .color-btn.red { background: #e74c3c; }
        .color-btn.blue { background: #3498db; }
        .color-btn.green { background: #2ecc71; }
        .color-btn.yellow { background: #f1c40f; color: #333; }
        .color-btn.purple { background: #9b59b6; }
        .color-btn.orange { background: #e67e22; }

        /* Timer and Score */
        .game-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 20px 0;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #f1c40f;
        }

        .stat-label {
            font-size: 0.9em;
            color: #a0a0a0;
        }

        /* Controls */
        button {
            background: linear-gradient(145deg, #e94560, #c73550);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(233,69,96,0.4);
        }

        button.secondary {
            background: linear-gradient(145deg, #3498db, #2980b9);
        }

        /* Results */
        .results-panel {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .bar-container {
            width: 100%;
            height: 30px;
            background: #333;
            border-radius: 15px;
            margin: 10px 0;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            font-weight: bold;
        }

        .bar-congruent {
            background: linear-gradient(90deg, #27ae60, #2ecc71);
        }

        .bar-incongruent {
            background: linear-gradient(90deg, #c0392b, #e74c3c);
        }

        /* History */
        .history-container {
            max-height: 200px;
            overflow-y: auto;
            margin: 15px 0;
        }

        .history-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: 5px;
            margin: 5px 0;
            font-size: 0.9em;
        }

        .history-item.correct {
            background: rgba(46, 204, 113, 0.2);
        }

        .history-item.incorrect {
            background: rgba(231, 76, 60, 0.2);
        }

        .history-word {
            font-weight: bold;
            margin-right: 10px;
            min-width: 80px;
        }

        .history-time {
            margin-left: auto;
            color: #a0a0a0;
        }

        /* Explanation */
        .explanation {
            line-height: 1.8;
        }

        .explanation h3 {
            color: #e94560;
            margin: 20px 0 10px 0;
        }

        .quote {
            border-left: 4px solid #e94560;
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: #b0b0b0;
        }

        .highlight {
            color: #f1c40f;
            font-weight: bold;
        }

        .math-box {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        ul {
            margin-left: 30px;
            line-height: 2;
        }

        /* Mode Toggle */
        .mode-toggle {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .mode-btn {
            padding: 10px 20px;
            background: rgba(255,255,255,0.1);
            border: 2px solid transparent;
            border-radius: 20px;
            color: #a0a0a0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .mode-btn.active {
            background: #e94560;
            color: white;
            border-color: #e94560;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .main-grid {
                grid-template-columns: 1fr;
            }

            .word-display {
                font-size: 3em;
            }
        }

        /* Feedback animation */
        @keyframes flash-correct {
            0%, 100% { background: rgba(46, 204, 113, 0); }
            50% { background: rgba(46, 204, 113, 0.3); }
        }

        @keyframes flash-incorrect {
            0%, 100% { background: rgba(231, 76, 60, 0); }
            50% { background: rgba(231, 76, 60, 0.3); }
        }

        .flash-correct {
            animation: flash-correct 0.3s;
        }

        .flash-incorrect {
            animation: flash-incorrect 0.3s;
        }

        .countdown {
            font-size: 4em;
            color: #f1c40f;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>The Stroop Effect</h1>
            <p class="subtitle">Your brain reads automatically — even when you don't want it to</p>
        </header>

        <div class="main-grid">
            <div class="panel">
                <h2>The Challenge</h2>
                <p>Name the <strong>INK COLOR</strong>, not the word! Your brain will fight you.</p>

                <div class="mode-toggle">
                    <button class="mode-btn active" data-mode="mixed">Mixed (Classic)</button>
                    <button class="mode-btn" data-mode="congruent">Congruent Only</button>
                    <button class="mode-btn" data-mode="incongruent">Incongruent Only</button>
                </div>

                <div class="game-area" id="gameArea">
                    <div class="instruction" id="instruction">Press START to begin</div>
                    <div class="word-display" id="wordDisplay">READY</div>
                    <div class="color-buttons" id="colorButtons">
                        <button class="color-btn red" data-color="red">Red</button>
                        <button class="color-btn blue" data-color="blue">Blue</button>
                        <button class="color-btn green" data-color="green">Green</button>
                        <button class="color-btn yellow" data-color="yellow">Yellow</button>
                        <button class="color-btn purple" data-color="purple">Purple</button>
                        <button class="color-btn orange" data-color="orange">Orange</button>
                    </div>
                </div>

                <div class="game-stats">
                    <div class="stat">
                        <div class="stat-value" id="scoreDisplay">0</div>
                        <div class="stat-label">Score</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="trialsDisplay">0/20</div>
                        <div class="stat-label">Trials</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="avgTimeDisplay">-</div>
                        <div class="stat-label">Avg Time (ms)</div>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button id="startBtn">START GAME</button>
                    <button id="resetBtn" class="secondary" style="margin-left: 15px;">Reset</button>
                </div>
            </div>

            <div class="panel">
                <h2>Results</h2>

                <div class="results-panel">
                    <h3 style="color: #2ecc71; margin-bottom: 15px;">Congruent (word = color)</h3>
                    <div class="bar-container">
                        <div class="bar-fill bar-congruent" id="congruentBar" style="width: 0%;">
                            <span id="congruentTime">-</span>
                        </div>
                    </div>

                    <h3 style="color: #e74c3c; margin-bottom: 15px;">Incongruent (word ≠ color)</h3>
                    <div class="bar-container">
                        <div class="bar-fill bar-incongruent" id="incongruentBar" style="width: 0%;">
                            <span id="incongruentTime">-</span>
                        </div>
                    </div>

                    <div class="result-row" style="margin-top: 20px;">
                        <span>Interference Effect:</span>
                        <span id="interferenceEffect" style="color: #f1c40f; font-weight: bold;">-</span>
                    </div>
                </div>

                <h3 style="color: #e94560; margin-top: 20px;">Trial History</h3>
                <div class="history-container" id="historyContainer">
                    <p style="color: #666; text-align: center;">Complete trials to see history</p>
                </div>
            </div>
        </div>

        <div class="panel explanation">
            <h2>The Paradox Explained</h2>

            <div class="quote">
                "Reading is automatic and cannot be suppressed, even when it interferes with the task at hand."
                <br><br>— John Ridley Stroop, 1935
            </div>

            <h3>What Is the Stroop Effect?</h3>
            <p>When you see the word <span style="color: #3498db; font-weight: bold;">RED</span> printed in blue ink, naming the color "blue" takes <span class="highlight">longer</span> and produces <span class="highlight">more errors</span> than when the word matches its color.</p>

            <p>This happens because reading has become so <span class="highlight">automatic</span> that your brain does it whether you want to or not. The word "RED" activates the concept of red, which conflicts with your attempt to say "blue."</p>

            <h3>The Classic Experiment</h3>
            <div class="math-box">
                <strong>Stroop (1935) found:</strong><br><br>
                • Naming ink colors of color words: <span style="color: #e74c3c;">110 seconds</span><br>
                • Naming ink colors of neutral words: <span style="color: #f1c40f;">63 seconds</span><br>
                • Naming ink colors of color patches: <span style="color: #2ecc71;">63 seconds</span><br><br>
                <span class="highlight">Interference: ~75% slower!</span>
            </div>

            <h3>Why Does This Happen?</h3>
            <ul>
                <li><strong>Automaticity</strong> — Reading is highly practiced and happens without effort or intention</li>
                <li><strong>Processing Speed</strong> — Word recognition is faster than color naming</li>
                <li><strong>Response Competition</strong> — Two responses are activated simultaneously</li>
                <li><strong>Executive Control</strong> — Prefrontal cortex must suppress the automatic reading response</li>
            </ul>

            <h3>Real-World Applications</h3>
            <ul>
                <li><strong>Clinical diagnosis</strong> — Stroop performance is affected by ADHD, depression, schizophrenia, and dementia</li>
                <li><strong>Cognitive aging</strong> — Older adults show larger Stroop effects</li>
                <li><strong>Attention training</strong> — Used in brain training and mindfulness research</li>
                <li><strong>Lie detection</strong> — Modified Stroop tests can reveal concealed information</li>
            </ul>

            <h3>Variations</h3>
            <p>The Stroop effect extends beyond colors:</p>
            <ul>
                <li><strong>Emotional Stroop</strong> — Naming colors of emotionally charged words (slower for negative words)</li>
                <li><strong>Numerical Stroop</strong> — Size vs. digit conflicts (small "8" vs. large "3")</li>
                <li><strong>Pictorial Stroop</strong> — Word inside a picture (word "cat" inside a dog image)</li>
                <li><strong>Reverse Stroop</strong> — Reading words with conflicting ink colors (smaller effect)</li>
            </ul>

            <h3>The Paradox</h3>
            <p>The paradoxical nature of the Stroop effect is that <span class="highlight">a skill that makes you more capable (reading) also makes you less capable</span> in this specific task. You cannot simply "turn off" reading. Your expertise has become a liability.</p>

            <p>This demonstrates that the brain is not a general-purpose computer that can be directed at will. Instead, it's a collection of specialized, often automatic processes that can interfere with each other.</p>
        </div>
    </div>

    <script>
        // Configuration
        const COLORS = {
            red: '#e74c3c',
            blue: '#3498db',
            green: '#2ecc71',
            yellow: '#f1c40f',
            purple: '#9b59b6',
            orange: '#e67e22'
        };

        const COLOR_NAMES = Object.keys(COLORS);
        const TOTAL_TRIALS = 20;

        // State
        let state = {
            mode: 'mixed',
            gameActive: false,
            currentTrial: 0,
            currentWord: null,
            currentColor: null,
            isCongruent: null,
            startTime: null,
            score: 0,
            results: {
                congruent: [],
                incongruent: []
            },
            history: []
        };

        // DOM elements
        const wordDisplay = document.getElementById('wordDisplay');
        const instruction = document.getElementById('instruction');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const trialsDisplay = document.getElementById('trialsDisplay');
        const avgTimeDisplay = document.getElementById('avgTimeDisplay');
        const gameArea = document.getElementById('gameArea');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const historyContainer = document.getElementById('historyContainer');

        // Initialize
        setupEventListeners();

        function setupEventListeners() {
            startBtn.addEventListener('click', startGame);
            resetBtn.addEventListener('click', resetGame);

            document.querySelectorAll('.color-btn').forEach(btn => {
                btn.addEventListener('click', () => handleResponse(btn.dataset.color));
            });

            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    state.mode = btn.dataset.mode;
                });
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (!state.gameActive) return;

                const keyMap = {
                    'r': 'red',
                    'b': 'blue',
                    'g': 'green',
                    'y': 'yellow',
                    'p': 'purple',
                    'o': 'orange'
                };

                if (keyMap[e.key.toLowerCase()]) {
                    handleResponse(keyMap[e.key.toLowerCase()]);
                }
            });
        }

        function startGame() {
            state.gameActive = true;
            state.currentTrial = 0;
            state.score = 0;
            state.results = { congruent: [], incongruent: [] };
            state.history = [];

            startBtn.disabled = true;
            instruction.textContent = "Name the INK COLOR!";

            // Countdown
            let countdown = 3;
            wordDisplay.className = 'word-display countdown';
            wordDisplay.style.color = '#f1c40f';

            const countdownInterval = setInterval(() => {
                wordDisplay.textContent = countdown;
                countdown--;

                if (countdown < 0) {
                    clearInterval(countdownInterval);
                    wordDisplay.className = 'word-display';
                    nextTrial();
                }
            }, 700);
        }

        function nextTrial() {
            if (state.currentTrial >= TOTAL_TRIALS) {
                endGame();
                return;
            }

            // Determine if congruent based on mode
            if (state.mode === 'congruent') {
                state.isCongruent = true;
            } else if (state.mode === 'incongruent') {
                state.isCongruent = false;
            } else {
                state.isCongruent = Math.random() > 0.5;
            }

            // Pick colors
            state.currentColor = COLOR_NAMES[Math.floor(Math.random() * COLOR_NAMES.length)];

            if (state.isCongruent) {
                state.currentWord = state.currentColor;
            } else {
                // Pick a different word
                let wordOptions = COLOR_NAMES.filter(c => c !== state.currentColor);
                state.currentWord = wordOptions[Math.floor(Math.random() * wordOptions.length)];
            }

            // Display
            wordDisplay.textContent = state.currentWord.toUpperCase();
            wordDisplay.style.color = COLORS[state.currentColor];

            state.startTime = performance.now();
            state.currentTrial++;
            trialsDisplay.textContent = `${state.currentTrial}/${TOTAL_TRIALS}`;
        }

        function handleResponse(color) {
            if (!state.gameActive || !state.startTime) return;

            const reactionTime = Math.round(performance.now() - state.startTime);
            const correct = color === state.currentColor;

            // Record result
            const result = {
                word: state.currentWord,
                inkColor: state.currentColor,
                response: color,
                correct: correct,
                time: reactionTime,
                isCongruent: state.isCongruent
            };

            state.history.push(result);

            if (state.isCongruent) {
                state.results.congruent.push(reactionTime);
            } else {
                state.results.incongruent.push(reactionTime);
            }

            if (correct) {
                state.score++;
                gameArea.classList.add('flash-correct');
            } else {
                gameArea.classList.add('flash-incorrect');
            }

            setTimeout(() => {
                gameArea.classList.remove('flash-correct', 'flash-incorrect');
            }, 300);

            // Update displays
            scoreDisplay.textContent = state.score;
            updateStats();
            updateHistory();

            // Next trial
            state.startTime = null;
            setTimeout(nextTrial, 500);
        }

        function updateStats() {
            const allTimes = [...state.results.congruent, ...state.results.incongruent];
            if (allTimes.length > 0) {
                const avg = Math.round(allTimes.reduce((a, b) => a + b, 0) / allTimes.length);
                avgTimeDisplay.textContent = avg + 'ms';
            }

            // Update bars
            const maxTime = 2000; // Scale for visualization

            if (state.results.congruent.length > 0) {
                const avgCongruent = state.results.congruent.reduce((a, b) => a + b, 0) / state.results.congruent.length;
                const pct = Math.min(100, (avgCongruent / maxTime) * 100);
                document.getElementById('congruentBar').style.width = pct + '%';
                document.getElementById('congruentTime').textContent = Math.round(avgCongruent) + 'ms';
            }

            if (state.results.incongruent.length > 0) {
                const avgIncongruent = state.results.incongruent.reduce((a, b) => a + b, 0) / state.results.incongruent.length;
                const pct = Math.min(100, (avgIncongruent / maxTime) * 100);
                document.getElementById('incongruentBar').style.width = pct + '%';
                document.getElementById('incongruentTime').textContent = Math.round(avgIncongruent) + 'ms';
            }

            // Calculate interference
            if (state.results.congruent.length > 0 && state.results.incongruent.length > 0) {
                const avgC = state.results.congruent.reduce((a, b) => a + b, 0) / state.results.congruent.length;
                const avgI = state.results.incongruent.reduce((a, b) => a + b, 0) / state.results.incongruent.length;
                const interference = Math.round(avgI - avgC);
                const pctSlower = Math.round((avgI / avgC - 1) * 100);

                document.getElementById('interferenceEffect').textContent =
                    `+${interference}ms (${pctSlower}% slower)`;
            }
        }

        function updateHistory() {
            if (state.history.length === 0) return;

            const recent = state.history.slice(-10).reverse();

            historyContainer.innerHTML = recent.map(item => `
                <div class="history-item ${item.correct ? 'correct' : 'incorrect'}">
                    <span class="history-word" style="color: ${COLORS[item.inkColor]}">
                        ${item.word.toUpperCase()}
                    </span>
                    <span>${item.isCongruent ? '≡' : '≠'}</span>
                    <span style="margin-left: 10px;">${item.correct ? '✓' : '✗'}</span>
                    <span class="history-time">${item.time}ms</span>
                </div>
            `).join('');
        }

        function endGame() {
            state.gameActive = false;
            startBtn.disabled = false;

            const accuracy = Math.round((state.score / TOTAL_TRIALS) * 100);

            wordDisplay.textContent = 'DONE!';
            wordDisplay.style.color = '#2ecc71';

            let message = `Accuracy: ${accuracy}%`;

            if (state.results.congruent.length > 0 && state.results.incongruent.length > 0) {
                const avgC = state.results.congruent.reduce((a, b) => a + b, 0) / state.results.congruent.length;
                const avgI = state.results.incongruent.reduce((a, b) => a + b, 0) / state.results.incongruent.length;
                const pctSlower = Math.round((avgI / avgC - 1) * 100);

                if (pctSlower > 30) {
                    message += ` | Strong Stroop effect: ${pctSlower}% interference!`;
                } else if (pctSlower > 15) {
                    message += ` | Moderate Stroop effect: ${pctSlower}% interference.`;
                } else {
                    message += ` | Weak Stroop effect. You have good cognitive control!`;
                }
            }

            instruction.textContent = message;
        }

        function resetGame() {
            state = {
                mode: state.mode,
                gameActive: false,
                currentTrial: 0,
                currentWord: null,
                currentColor: null,
                isCongruent: null,
                startTime: null,
                score: 0,
                results: { congruent: [], incongruent: [] },
                history: []
            };

            wordDisplay.textContent = 'READY';
            wordDisplay.style.color = '#e0e0e0';
            instruction.textContent = 'Press START to begin';
            scoreDisplay.textContent = '0';
            trialsDisplay.textContent = '0/20';
            avgTimeDisplay.textContent = '-';
            startBtn.disabled = false;

            document.getElementById('congruentBar').style.width = '0%';
            document.getElementById('congruentTime').textContent = '-';
            document.getElementById('incongruentBar').style.width = '0%';
            document.getElementById('incongruentTime').textContent = '-';
            document.getElementById('interferenceEffect').textContent = '-';

            historyContainer.innerHTML = '<p style="color: #666; text-align: center;">Complete trials to see history</p>';
        }
    </script>
</body>
</html>
