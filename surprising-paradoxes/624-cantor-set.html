<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cantor Set - Uncountably Infinite Yet Measure Zero</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .back-link {
            display: inline-flex;
            align-items: center;
            color: #f59e0b;
            text-decoration: none;
            margin-bottom: 15px;
            font-size: 0.95em;
        }
        .back-link:hover {
            color: #fbbf24;
            text-decoration: underline;
        }
        h1 {
            font-size: 1.8em;
            margin-bottom: 5px;
            color: #fff;
            text-shadow: 0 0 30px rgba(245, 158, 11, 0.5);
        }
        .subtitle {
            color: #9ca3af;
            margin-bottom: 20px;
            font-size: 1.05em;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        .main-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
        }
        .canvas-container {
            background: rgba(0,0,0,0.4);
            border-radius: 12px;
            padding: 20px;
        }
        canvas {
            display: block;
            width: 100%;
            border-radius: 8px;
            background: #0a0a0a;
        }
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .panel {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .panel h3 {
            font-size: 0.9em;
            color: #f59e0b;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            font-weight: 500;
            transition: all 0.2s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
        }
        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: #e0e0e0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
        }
        .param-group {
            margin-bottom: 15px;
        }
        .param-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        .param-name {
            color: #9ca3af;
            font-size: 0.85em;
        }
        .param-value {
            color: #fbbf24;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
        }
        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255,255,255,0.1);
            -webkit-appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #f59e0b;
            cursor: pointer;
        }
        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .stat-label {
            color: #9ca3af;
            font-size: 0.85em;
        }
        .stat-value {
            color: #fbbf24;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
        }
        .zero {
            color: #ef4444 !important;
        }
        .infinite {
            color: #22c55e !important;
        }
        .formula {
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 6px;
            font-family: 'Monaco', 'Consolas', monospace;
            margin: 8px 0;
            text-align: center;
            color: #fbbf24;
            font-size: 0.85em;
        }
        .exp-section {
            margin-top: 20px;
        }
        .exp-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }
        .exp-card {
            background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(217,119,6,0.05));
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(245,158,11,0.2);
        }
        .exp-card h4 {
            color: #f59e0b;
            margin-bottom: 8px;
            font-size: 0.95em;
        }
        .exp-card p {
            font-size: 0.85em;
            line-height: 1.6;
            color: #9ca3af;
        }
        .iteration-label {
            color: #9ca3af;
            font-size: 0.75em;
            margin-top: 5px;
        }
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">← Back to Paradoxes</a>
        <h1>The Cantor Set</h1>
        <p class="subtitle">Uncountably Infinite Points, Yet Zero Length</p>

        <div class="main-content">
            <div class="canvas-container">
                <canvas id="mainCanvas"></canvas>
            </div>

            <div class="sidebar">
                <div class="panel">
                    <h3>Controls</h3>
                    <div class="controls">
                        <button class="btn btn-primary" id="animateBtn">Animate</button>
                        <button class="btn btn-secondary" id="resetBtn">Reset</button>
                        <button class="btn btn-secondary" id="stepBtn">Step</button>
                    </div>
                </div>

                <div class="panel">
                    <h3>Iteration</h3>
                    <div class="param-group">
                        <div class="param-label">
                            <span class="param-name">Level (n)</span>
                            <span class="param-value" id="levelValue">0</span>
                        </div>
                        <input type="range" id="levelSlider" min="0" max="12" value="0">
                    </div>
                </div>

                <div class="panel">
                    <h3>The Paradox</h3>
                    <div class="stat-row">
                        <span class="stat-label">Segments</span>
                        <span id="segmentCount" class="stat-value">1</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Total length</span>
                        <span id="totalLength" class="stat-value">1.0000</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Length (n→∞)</span>
                        <span class="stat-value zero">0 (ZERO!)</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Cardinality (n→∞)</span>
                        <span class="stat-value infinite">2^ℵ₀ (UNCOUNTABLE!)</span>
                    </div>
                </div>

                <div class="panel">
                    <h3>Fractal Dimension</h3>
                    <div class="formula">
                        D = log(2)/log(3) ≈ 0.631
                    </div>
                    <p style="font-size: 0.8em; color: #9ca3af;">
                        Between 0 (a point) and 1 (a line). It's "more than nothing but less than a line"!
                    </p>
                </div>

                <div class="panel">
                    <h3>Length Formula</h3>
                    <div class="formula">
                        L(n) = (2/3)ⁿ → 0
                    </div>
                    <p style="font-size: 0.8em; color: #9ca3af;">
                        Each iteration removes 1/3 of remaining length. As n→∞, length vanishes!
                    </p>
                </div>

                <div class="panel">
                    <h3>Ternary Secret</h3>
                    <p style="font-size: 0.85em; color: #9ca3af; line-height: 1.5;">
                        A point is in the Cantor set if and only if its base-3 expansion uses only digits <span style="color: #fbbf24;">0</span> and <span style="color: #fbbf24;">2</span> (never 1).
                    </p>
                    <div class="formula" style="font-size: 0.75em;">
                        0.0̄ = 0, 0.2̄ = 1<br>
                        0.02̄, 0.20̄, 0.22̄...
                    </div>
                </div>
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-cards">
                <div class="exp-card">
                    <h4>The Construction (1883)</h4>
                    <p>Start with [0,1]. Remove the middle third (1/3, 2/3). From each remaining segment, remove its middle third. Repeat forever. What remains? Not nothing—but not much either. Georg Cantor created a monster!</p>
                </div>
                <div class="exp-card">
                    <h4>Zero Length, Infinite Points</h4>
                    <p>Total length after n steps: (2/3)ⁿ → 0. Yet the set contains UNCOUNTABLY many points—as many as all real numbers! Size in "number of elements" ≠ size in "geometric measure." Mind = blown.</p>
                </div>
                <div class="exp-card">
                    <h4>Perfect Yet Nowhere Dense</h4>
                    <p>The Cantor set is "perfect" (every point is a limit point) yet "nowhere dense" (contains no intervals). It's closed, compact, totally disconnected—a topological curiosity that taught us about infinity itself.</p>
                </div>
                <div class="exp-card">
                    <h4>Why It Matters</h4>
                    <p>The Cantor set revolutionized our understanding of infinity, dimension, and measure. It appears in dynamics (strange attractors), number theory, and even physics. Cantor's "pathology" became mathematics' foundation!</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('mainCanvas');
        const ctx = canvas.getContext('2d');

        // High DPI setup
        function setupCanvas() {
            const rect = canvas.getBoundingClientRect();
            const dpr = window.devicePixelRatio || 1;
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
            canvas.style.width = rect.width + 'px';
            canvas.style.height = rect.height + 'px';
            return { width: rect.width, height: rect.height };
        }

        let currentLevel = 0;
        let animating = false;
        let animationId = null;

        // Generate Cantor set segments at level n
        function generateSegments(level) {
            if (level === 0) {
                return [[0, 1]];
            }

            const prevSegments = generateSegments(level - 1);
            const newSegments = [];

            for (const [start, end] of prevSegments) {
                const length = end - start;
                const third = length / 3;

                // Keep left third and right third
                newSegments.push([start, start + third]);
                newSegments.push([end - third, end]);
            }

            return newSegments;
        }

        function draw() {
            const { width, height } = setupCanvas();
            const padding = 40;
            const barHeight = 25;
            const spacing = 8;

            // Clear
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, width, height);

            // Draw title
            ctx.fillStyle = '#f59e0b';
            ctx.font = 'bold 14px sans-serif';
            ctx.textAlign = 'left';
            ctx.fillText('Cantor Set Construction', padding, 25);

            // Draw all levels up to current
            const maxLevelsToShow = Math.min(currentLevel + 1, 13);

            for (let level = 0; level < maxLevelsToShow; level++) {
                const segments = generateSegments(level);
                const y = 50 + level * (barHeight + spacing);

                // Level label
                ctx.fillStyle = '#6b7280';
                ctx.font = '11px sans-serif';
                ctx.textAlign = 'right';
                ctx.fillText(`n=${level}`, padding - 10, y + barHeight / 2 + 4);

                // Draw segments
                const gradient = ctx.createLinearGradient(padding, 0, width - padding, 0);
                gradient.addColorStop(0, '#f59e0b');
                gradient.addColorStop(1, '#fbbf24');

                ctx.fillStyle = gradient;

                for (const [start, end] of segments) {
                    const x1 = padding + start * (width - 2 * padding);
                    const x2 = padding + end * (width - 2 * padding);
                    const segWidth = x2 - x1;

                    if (segWidth >= 0.5) { // Only draw if visible
                        ctx.fillRect(x1, y, Math.max(1, segWidth), barHeight);
                    }
                }

                // Draw removed sections (faded)
                if (level > 0) {
                    ctx.fillStyle = 'rgba(239, 68, 68, 0.1)';
                    const prevSegments = generateSegments(level - 1);

                    for (const [start, end] of prevSegments) {
                        const length = end - start;
                        const third = length / 3;
                        const x1 = padding + (start + third) * (width - 2 * padding);
                        const x2 = padding + (end - third) * (width - 2 * padding);

                        ctx.fillRect(x1, y, x2 - x1, barHeight);
                    }
                }
            }

            // Draw scale at bottom
            const scaleY = height - 30;
            ctx.strokeStyle = '#4b5563';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(padding, scaleY);
            ctx.lineTo(width - padding, scaleY);
            ctx.stroke();

            // Scale labels
            ctx.fillStyle = '#6b7280';
            ctx.font = '10px sans-serif';
            ctx.textAlign = 'center';
            for (let i = 0; i <= 10; i++) {
                const x = padding + (i / 10) * (width - 2 * padding);
                ctx.fillText((i / 10).toFixed(1), x, scaleY + 15);

                ctx.beginPath();
                ctx.moveTo(x, scaleY - 3);
                ctx.lineTo(x, scaleY + 3);
                ctx.stroke();
            }

            // Update statistics
            const segments = generateSegments(currentLevel);
            const segmentCount = segments.length;
            const totalLength = Math.pow(2/3, currentLevel);

            document.getElementById('segmentCount').textContent = segmentCount.toLocaleString();
            document.getElementById('totalLength').textContent = totalLength.toFixed(8);
            document.getElementById('levelValue').textContent = currentLevel;
        }

        function animate() {
            if (!animating) return;

            currentLevel++;
            if (currentLevel > 12) {
                currentLevel = 12;
                animating = false;
                document.getElementById('animateBtn').textContent = 'Animate';
            }

            document.getElementById('levelSlider').value = currentLevel;
            draw();

            if (animating) {
                animationId = setTimeout(() => requestAnimationFrame(animate), 600);
            }
        }

        // Event handlers
        document.getElementById('levelSlider').addEventListener('input', (e) => {
            currentLevel = parseInt(e.target.value);
            draw();
        });

        document.getElementById('animateBtn').addEventListener('click', () => {
            if (animating) {
                animating = false;
                clearTimeout(animationId);
                document.getElementById('animateBtn').textContent = 'Animate';
            } else {
                animating = true;
                currentLevel = 0;
                document.getElementById('animateBtn').textContent = 'Stop';
                animate();
            }
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            animating = false;
            clearTimeout(animationId);
            currentLevel = 0;
            document.getElementById('levelSlider').value = 0;
            document.getElementById('animateBtn').textContent = 'Animate';
            draw();
        });

        document.getElementById('stepBtn').addEventListener('click', () => {
            if (currentLevel < 12) {
                currentLevel++;
                document.getElementById('levelSlider').value = currentLevel;
                draw();
            }
        });

        // Resize handler
        window.addEventListener('resize', draw);

        // Initial draw
        draw();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
