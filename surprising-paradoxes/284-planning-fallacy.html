<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Planning Fallacy - Why Everything Takes Longer</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1300px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        .back-link {
            color: #ff9f43;
            text-decoration: none;
            margin-bottom: 20px;
            display: inline-block;
        }
        h1 {
            font-size: 2.2rem;
            background: linear-gradient(135deg, #ff9f43, #ee5a24, #f8b500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle {
            font-size: 1rem;
            color: #a0c4ff;
            max-width: 850px;
            margin: 0 auto;
            line-height: 1.6;
        }
        .estimation-game {
            background: rgba(20, 30, 50, 0.8);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            text-align: center;
        }
        .estimation-game h2 {
            color: #ff9f43;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }
        .task-card {
            background: rgba(0,0,0,0.4);
            border-radius: 12px;
            padding: 25px;
            max-width: 600px;
            margin: 0 auto 25px;
        }
        .task-title {
            color: #f8b500;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        .task-description {
            color: #b0c4de;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        .estimate-input {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
        }
        .estimate-input input {
            width: 100px;
            padding: 12px;
            font-size: 1.3rem;
            text-align: center;
            border: 2px solid #ff9f43;
            border-radius: 8px;
            background: rgba(0,0,0,0.3);
            color: #fff;
        }
        .estimate-input span {
            color: #a0c4ff;
            font-size: 1.1rem;
        }
        .submit-btn {
            padding: 12px 30px;
            font-size: 1.1rem;
            background: linear-gradient(135deg, #ff9f43, #ee5a24);
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        .submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 159, 67, 0.4);
        }
        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .result-reveal {
            background: linear-gradient(135deg, rgba(255, 159, 67, 0.2), rgba(248, 181, 0, 0.2));
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }
        .result-reveal h3 {
            color: #ee5a24;
            margin-bottom: 15px;
        }
        .comparison-bar {
            display: flex;
            align-items: center;
            margin: 15px 0;
            gap: 10px;
        }
        .comparison-bar .label {
            width: 80px;
            text-align: right;
            color: #a0c4ff;
            font-size: 0.9rem;
        }
        .bar-container {
            flex: 1;
            height: 30px;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
            overflow: hidden;
        }
        .bar-fill {
            height: 100%;
            display: flex;
            align-items: center;
            padding: 0 10px;
            color: white;
            font-size: 0.9rem;
            transition: width 0.5s ease;
        }
        .bar-fill.estimate { background: #48dbfb; }
        .bar-fill.actual { background: #ee5a24; }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-top: 20px;
        }
        .stat-box {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-value {
            font-size: 1.6rem;
            font-weight: bold;
            color: #ff9f43;
        }
        .stat-label {
            color: #a0c4ff;
            font-size: 0.75rem;
            margin-top: 5px;
        }
        .projects-panel {
            background: rgba(20, 30, 50, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .projects-panel h2 {
            color: #f8b500;
            margin-bottom: 20px;
            text-align: center;
        }
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }
        .project-card {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid #ee5a24;
        }
        .project-name {
            color: #f8b500;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .project-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        .project-stats span {
            font-size: 0.85rem;
        }
        .project-stats .estimated { color: #48dbfb; }
        .project-stats .actual { color: #ee5a24; }
        .overrun-bar {
            height: 8px;
            background: #48dbfb;
            border-radius: 4px;
            position: relative;
        }
        .overrun-bar::after {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: #ee5a24;
            border-radius: 4px;
        }
        .bottom-panels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }
        .panel {
            background: rgba(20, 30, 50, 0.8);
            border-radius: 15px;
            padding: 20px;
        }
        .panel h3 {
            color: #ff9f43;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        .panel p {
            color: #b0c4de;
            line-height: 1.7;
            font-size: 0.95rem;
            margin-bottom: 12px;
        }
        .key-insight {
            background: linear-gradient(135deg, rgba(255, 159, 67, 0.2), rgba(238, 90, 36, 0.2));
            border-left: 4px solid #f8b500;
            padding: 15px;
            border-radius: 0 10px 10px 0;
            margin: 15px 0;
        }
        .key-insight strong {
            color: #f8b500;
        }
        .view-comparison {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        .view-comparison h4 {
            color: #48dbfb;
            margin-bottom: 10px;
        }
        .debiasing-list {
            list-style: none;
            padding: 0;
        }
        .debiasing-list li {
            padding: 10px 0 10px 25px;
            position: relative;
            color: #b0c4de;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .debiasing-list li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #00b894;
        }
        .trial-info {
            color: #a0c4ff;
            font-size: 0.9rem;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>
            <h1>The Planning Fallacy</h1>
            <p class="subtitle">
                Kahneman & Tversky's 1979 discovery: we systematically underestimate how long tasks take,
                even when we KNOW about this bias! The average project overruns by 25-50%.
                You're about to prove it on yourself.
            </p>
        </header>

        <div class="estimation-game">
            <h2>üéØ Test Your Estimation Skills</h2>
            <div class="task-card">
                <div class="task-title" id="taskTitle">Loading task...</div>
                <div class="task-description" id="taskDesc"></div>
            </div>

            <div class="estimate-input">
                <span>I estimate this will take:</span>
                <input type="number" id="estimateInput" min="1" max="999" placeholder="?">
                <span id="timeUnit">hours</span>
            </div>

            <button class="submit-btn" id="submitBtn">Submit Estimate</button>

            <div class="result-reveal" id="resultReveal">
                <h3>üìä The Reality</h3>
                <div class="comparison-bar">
                    <span class="label">Your estimate:</span>
                    <div class="bar-container">
                        <div class="bar-fill estimate" id="estimateBar"></div>
                    </div>
                </div>
                <div class="comparison-bar">
                    <span class="label">Actual time:</span>
                    <div class="bar-container">
                        <div class="bar-fill actual" id="actualBar"></div>
                    </div>
                </div>
                <p id="resultText" style="margin-top: 15px; color: #b0c4de;"></p>
            </div>

            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-value" id="tasksCompleted">0</div>
                    <div class="stat-label">Tasks Estimated</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="avgError">--%</div>
                    <div class="stat-label">Avg Underestimate</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="timesUnder">0</div>
                    <div class="stat-label">Times Underestimated</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="timesOver">0</div>
                    <div class="stat-label">Times Overestimated</div>
                </div>
            </div>

            <div class="trial-info">
                Task <span id="trialNum">1</span> of 8
            </div>
        </div>

        <div class="projects-panel">
            <h2>üèóÔ∏è Famous Planning Disasters</h2>
            <div class="project-grid">
                <div class="project-card">
                    <div class="project-name">Sydney Opera House</div>
                    <div class="project-stats">
                        <span class="estimated">Est: 4 years, $7M</span>
                        <span class="actual">Actual: 16 years, $102M</span>
                    </div>
                    <div style="color: #ee5a24; font-size: 0.85rem;">1,357% over budget</div>
                </div>
                <div class="project-card">
                    <div class="project-name">Denver Airport</div>
                    <div class="project-stats">
                        <span class="estimated">Est: $1.7B, 1993</span>
                        <span class="actual">Actual: $4.8B, 1995</span>
                    </div>
                    <div style="color: #ee5a24; font-size: 0.85rem;">182% over budget, 16 months late</div>
                </div>
                <div class="project-card">
                    <div class="project-name">Big Dig (Boston)</div>
                    <div class="project-stats">
                        <span class="estimated">Est: $2.6B, 1998</span>
                        <span class="actual">Actual: $14.6B, 2007</span>
                    </div>
                    <div style="color: #ee5a24; font-size: 0.85rem;">462% over budget, 9 years late</div>
                </div>
                <div class="project-card">
                    <div class="project-name">Eurofighter Typhoon</div>
                    <div class="project-stats">
                        <span class="estimated">Est: ¬£7B, 1997</span>
                        <span class="actual">Actual: ¬£37B, 2003</span>
                    </div>
                    <div style="color: #ee5a24; font-size: 0.85rem;">429% over budget</div>
                </div>
                <div class="project-card">
                    <div class="project-name">Scottish Parliament</div>
                    <div class="project-stats">
                        <span class="estimated">Est: ¬£40M</span>
                        <span class="actual">Actual: ¬£431M</span>
                    </div>
                    <div style="color: #ee5a24; font-size: 0.85rem;">978% over budget</div>
                </div>
                <div class="project-card">
                    <div class="project-name">Channel Tunnel</div>
                    <div class="project-stats">
                        <span class="estimated">Est: ¬£5.5B</span>
                        <span class="actual">Actual: ¬£9.5B</span>
                    </div>
                    <div style="color: #ee5a24; font-size: 0.85rem;">80% over budget, 1 year late</div>
                </div>
            </div>
        </div>

        <div class="bottom-panels">
            <div class="panel">
                <h3>üß† Inside View vs Outside View</h3>
                <div class="view-comparison">
                    <h4>Inside View (What We Do)</h4>
                    <p>
                        We imagine the specific task, think through the steps, and estimate based on
                        our unique situation. "This project is different‚ÄîI know what I'm doing!"
                    </p>
                </div>
                <div class="view-comparison">
                    <h4>Outside View (What Works)</h4>
                    <p>
                        Ask: "How long did SIMILAR projects take in the past?" Ignore the specifics,
                        just look at base rates. This "reference class forecasting" is far more accurate.
                    </p>
                </div>
                <div class="key-insight">
                    <strong>The Paradox:</strong> Even when we KNOW about the planning fallacy,
                    even when we've experienced it repeatedly, we STILL believe our current
                    estimate is realistic. Each new project feels unique, so we take the inside view again.
                </div>
            </div>

            <div class="panel">
                <h3>üî¨ The Research</h3>
                <p>
                    <strong>Buehler et al. (1994):</strong> Students estimated their thesis completion
                    at 33.9 days on average. Actual average: 55.5 days (64% overrun). Even their
                    "worst case" estimates were exceeded by 20%!
                </p>
                <p>
                    <strong>Kahneman's Tax Form Study:</strong> Participants estimated 1 week to file.
                    Average actual time: 3 weeks. Even those who remembered past overruns made
                    optimistic predictions for the next task.
                </p>
                <p>
                    <strong>Flyvbjerg (2003):</strong> Analyzed 258 transportation projects worth $90B.
                    Average cost overrun: 28%. Rail projects: 45%. 90% of projects exceeded estimates.
                </p>
                <div class="key-insight">
                    <strong>Why?</strong> We focus on the plan (what could go right) rather than
                    obstacles (what could go wrong). We're optimistic about our abilities.
                    We anchor on best-case scenarios. And we underweight "unknown unknowns."
                </div>
            </div>

            <div class="panel">
                <h3>‚úÖ Debiasing Techniques</h3>
                <ul class="debiasing-list">
                    <li>
                        <strong>Reference Class Forecasting:</strong> Find similar past projects
                        and use their actual times as your baseline.
                    </li>
                    <li>
                        <strong>Pre-mortem:</strong> Imagine the project failed. What went wrong?
                        This surfaces hidden risks.
                    </li>
                    <li>
                        <strong>Multiply by œÄ:</strong> Your estimate √ó 3.14. Sounds crazy, but
                        surprisingly accurate for software projects.
                    </li>
                    <li>
                        <strong>Segment the task:</strong> Break into pieces, estimate each, then
                        add. Sub-tasks are harder to be optimistic about.
                    </li>
                    <li>
                        <strong>Ask a friend:</strong> Others take the outside view naturally.
                        They'll give more realistic estimates for YOUR work.
                    </li>
                    <li>
                        <strong>Track your record:</strong> Keep a log of estimates vs actuals.
                        Calculate your personal "fudge factor" and apply it.
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const tasks = [
            {
                title: "Write a 2,000-word essay on a topic you know well",
                desc: "Including research, outline, drafting, and editing. Assume you have all materials available.",
                actual: 8,
                unit: "hours"
            },
            {
                title: "Clean and reorganize your entire home",
                desc: "Every room, closets, garage. Sort through items, organize, and clean surfaces.",
                actual: 24,
                unit: "hours"
            },
            {
                title: "Learn enough Spanish to have a basic conversation",
                desc: "Introduce yourself, order food, ask for directions, basic small talk.",
                actual: 80,
                unit: "hours"
            },
            {
                title: "Build a basic personal website from scratch",
                desc: "Design, write content, code HTML/CSS, deploy. No templates.",
                actual: 25,
                unit: "hours"
            },
            {
                title: "Read a 400-page non-fiction book and take notes",
                desc: "Actively reading, highlighting, summarizing key points.",
                actual: 18,
                unit: "hours"
            },
            {
                title: "Plan a one-week international vacation",
                desc: "Research destinations, book flights/hotels, plan daily itineraries, pack.",
                actual: 15,
                unit: "hours"
            },
            {
                title: "Complete your annual tax return (moderately complex)",
                desc: "Gather documents, fill out forms, review, file. Multiple income sources.",
                actual: 12,
                unit: "hours"
            },
            {
                title: "Paint a medium-sized room (walls and ceiling)",
                desc: "Prep work, taping, primer, two coats, cleanup. DIY, no experience.",
                actual: 14,
                unit: "hours"
            }
        ];

        let currentTask = 0;
        let results = [];

        function showTask() {
            const task = tasks[currentTask];
            document.getElementById('taskTitle').textContent = task.title;
            document.getElementById('taskDesc').textContent = task.desc;
            document.getElementById('timeUnit').textContent = task.unit;
            document.getElementById('estimateInput').value = '';
            document.getElementById('resultReveal').style.display = 'none';
            document.getElementById('submitBtn').disabled = false;
            document.getElementById('trialNum').textContent = currentTask + 1;
        }

        function submitEstimate() {
            const estimate = parseFloat(document.getElementById('estimateInput').value);
            if (!estimate || estimate <= 0) {
                alert('Please enter a valid estimate');
                return;
            }

            const task = tasks[currentTask];
            const actual = task.actual;

            results.push({
                task: task.title,
                estimate: estimate,
                actual: actual,
                error: ((actual - estimate) / estimate) * 100
            });

            showResult(estimate, actual);
            updateStats();
        }

        function showResult(estimate, actual) {
            const reveal = document.getElementById('resultReveal');
            const maxVal = Math.max(estimate, actual);

            document.getElementById('estimateBar').style.width = (estimate / maxVal * 100) + '%';
            document.getElementById('estimateBar').textContent = estimate + ' hrs';

            document.getElementById('actualBar').style.width = (actual / maxVal * 100) + '%';
            document.getElementById('actualBar').textContent = actual + ' hrs';

            const diff = actual - estimate;
            const pct = ((actual / estimate - 1) * 100).toFixed(0);

            let text = '';
            if (diff > 0) {
                text = `You underestimated by ${diff.toFixed(1)} hours (${pct}% too optimistic). ` +
                       `This is the Planning Fallacy in action!`;
            } else if (diff < 0) {
                text = `Impressive! You overestimated by ${Math.abs(diff).toFixed(1)} hours. ` +
                       `Only about 20% of estimates are conservative like this.`;
            } else {
                text = `Exactly right! This is extremely rare‚Äîmost people underestimate.`;
            }

            document.getElementById('resultText').textContent = text;
            reveal.style.display = 'block';
            document.getElementById('submitBtn').disabled = true;

            // Next task after delay
            setTimeout(() => {
                currentTask++;
                if (currentTask < tasks.length) {
                    showTask();
                } else {
                    showFinalResults();
                }
            }, 4000);
        }

        function updateStats() {
            const underestimates = results.filter(r => r.error > 0);
            const overestimates = results.filter(r => r.error < 0);

            document.getElementById('tasksCompleted').textContent = results.length;
            document.getElementById('timesUnder').textContent = underestimates.length;
            document.getElementById('timesOver').textContent = overestimates.length;

            if (underestimates.length > 0) {
                const avgError = underestimates.reduce((sum, r) => sum + r.error, 0) / underestimates.length;
                document.getElementById('avgError').textContent = avgError.toFixed(0) + '%';
            }
        }

        function showFinalResults() {
            const underestimates = results.filter(r => r.error > 0);
            const avgError = results.reduce((sum, r) => sum + r.error, 0) / results.length;

            document.getElementById('taskTitle').textContent = 'üéâ Experiment Complete!';
            document.getElementById('taskDesc').textContent =
                `You underestimated ${underestimates.length} out of ${results.length} tasks. ` +
                `Average error: ${avgError.toFixed(0)}% ` +
                (avgError > 0 ? '(too optimistic)' : '(conservative)') + '. ' +
                `The typical person underestimates by 25-50%. How did you compare?`;
            document.getElementById('submitBtn').style.display = 'none';
            document.getElementById('estimateInput').parentElement.style.display = 'none';
        }

        // Event listeners
        document.getElementById('submitBtn').addEventListener('click', submitEstimate);
        document.getElementById('estimateInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') submitEstimate();
        });

        // Initialize
        showTask();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
