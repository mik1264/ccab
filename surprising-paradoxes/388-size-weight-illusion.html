<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Size-Weight Illusion - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
            line-height: 1.7;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--moss);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .back-link:hover {
            background: var(--moss);
            color: white;
            transform: translateX(-5px);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            color: var(--moss);
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: var(--terracotta);
            font-size: 1.2rem;
            margin-bottom: 40px;
            font-weight: 500;
        }

        .intro-card {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .intro-card h2 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        .experiment-phase {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .experiment-phase.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn {
            display: inline-block;
            padding: 15px 35px;
            background: var(--moss);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            font-family: 'Nunito', sans-serif;
        }

        .btn:hover {
            background: var(--dark-moss);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(96, 108, 56, 0.3);
        }

        .btn-secondary {
            background: var(--terracotta);
        }

        .btn-secondary:hover {
            background: #a55a1f;
        }

        .lifting-area {
            background: linear-gradient(180deg, #87CEEB 0%, #E0F4FF 100%);
            border-radius: 20px;
            height: 400px;
            position: relative;
            margin: 30px 0;
            overflow: hidden;
        }

        .table-surface {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 80px;
            background: linear-gradient(180deg, #8B4513 0%, #654321 100%);
        }

        .table-top {
            position: absolute;
            bottom: 80px;
            width: 100%;
            height: 15px;
            background: linear-gradient(180deg, #A0522D 0%, #8B4513 100%);
        }

        .box {
            position: absolute;
            bottom: 95px;
            cursor: grab;
            transition: transform 0.1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            border-radius: 5px;
            user-select: none;
        }

        .box:active {
            cursor: grabbing;
        }

        .box.lifting {
            animation: lift 0.8s ease-out forwards;
        }

        @keyframes lift {
            0% { transform: translateY(0); }
            50% { transform: translateY(-150px); }
            100% { transform: translateY(-150px); }
        }

        .box.small {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            left: calc(50% - 30px);
            font-size: 0.9rem;
        }

        .box.medium {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #2196F3 0%, #1565C0 100%);
            left: calc(50% - 50px);
            font-size: 1.1rem;
        }

        .box.large {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #9C27B0 0%, #6A1B9A 100%);
            left: calc(50% - 75px);
            font-size: 1.3rem;
        }

        .trial-info {
            text-align: center;
            margin-bottom: 20px;
        }

        .trial-counter {
            font-size: 1.1rem;
            color: var(--terracotta);
            font-weight: 600;
        }

        .instruction-text {
            text-align: center;
            font-size: 1.2rem;
            margin: 20px 0;
            color: var(--dark-moss);
        }

        .weight-slider {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }

        .slider-container {
            max-width: 400px;
            margin: 20px auto;
        }

        .slider-container input[type="range"] {
            width: 100%;
            height: 12px;
            -webkit-appearance: none;
            background: linear-gradient(to right, var(--sage), var(--terracotta));
            border-radius: 6px;
            outline: none;
        }

        .slider-container input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 30px;
            height: 30px;
            background: white;
            border: 3px solid var(--moss);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--terracotta);
        }

        .weight-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--moss);
            margin: 15px 0;
        }

        .results-card {
            background: linear-gradient(135deg, var(--moss) 0%, var(--dark-moss) 100%);
            color: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
        }

        .results-card h2 {
            font-family: 'Lora', serif;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .reveal-box {
            background: rgba(255,255,255,0.15);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .reveal-text {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .comparison-item {
            background: rgba(255,255,255,0.1);
            padding: 20px 15px;
            border-radius: 12px;
            text-align: center;
        }

        .comparison-item .size-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .comparison-item .your-rating {
            font-size: 1.8rem;
            font-weight: 700;
        }

        .comparison-item .actual {
            font-size: 0.85rem;
            opacity: 0.7;
            margin-top: 5px;
        }

        .science-section {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }

        .science-section h3 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        blockquote {
            border-left: 4px solid var(--earth);
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: var(--terracotta);
        }

        .illusion-diagram {
            background: #f8f6f1;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }

        .diagram-boxes {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 40px;
            margin: 20px 0;
        }

        .diagram-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .diagram-box .box-visual {
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        .diagram-box .box-label {
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--dark-moss);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .chart-container {
            background: rgba(255,255,255,0.5);
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
        }

        canvas {
            max-width: 100%;
        }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .comparison-grid { grid-template-columns: 1fr; }
            .lifting-area { height: 300px; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">
        <span>←</span> Back to Paradoxes
    </a>

    <div class="container">
        <h1>The Size-Weight Illusion</h1>
        <p class="subtitle">Smaller Feels Heavier</p>

        <!-- Phase 1: Introduction -->
        <div id="phase1" class="experiment-phase active">
            <div class="intro-card">
                <h2>Your Expectations Reshape Reality</h2>
                <p>Pick up a small box and a large box that weigh <strong>exactly the same</strong>. Which feels heavier?</p>
                <p>The small one. <strong>Every time.</strong></p>
                <p>In 1891, French physiologist <strong>Augustin Charpentier</strong> documented this illusion: smaller objects feel up to <strong>50% heavier</strong> than larger objects of identical mass.</p>
                <p>And here's the strange part: even when you <em>know</em> they weigh the same, the illusion persists.</p>
            </div>

            <div class="illusion-diagram">
                <p style="font-weight: 600; color: var(--moss); margin-bottom: 15px;">The Classic Demonstration</p>
                <div class="diagram-boxes">
                    <div class="diagram-box">
                        <div class="box-visual" style="width: 50px; height: 50px; background: #4CAF50;">1 kg</div>
                        <div class="box-label">Feels <strong>HEAVY</strong></div>
                    </div>
                    <div class="diagram-box">
                        <div class="box-visual" style="width: 100px; height: 100px; background: #2196F3;">1 kg</div>
                        <div class="box-label">Feels <strong>MEDIUM</strong></div>
                    </div>
                    <div class="diagram-box">
                        <div class="box-visual" style="width: 150px; height: 150px; background: #9C27B0;">1 kg</div>
                        <div class="box-label">Feels <strong>LIGHT</strong></div>
                    </div>
                </div>
                <p style="font-size: 0.9rem; color: var(--terracotta); margin-top: 15px;">All three weigh exactly the same!</p>
            </div>

            <div class="science-section">
                <h3>Why Does This Happen?</h3>
                <p>When you see a large box, your brain <strong>expects</strong> it to be heavy. It prepares your muscles to exert more force. When the box turns out to be lighter than expected, your brain interprets this as "surprisingly light."</p>
                <p>Conversely, a small box is expected to be light. When it's heavier than expected, your brain interprets this as "surprisingly heavy."</p>
                <p>The remarkable thing: your muscles quickly adapt to the true weight, but <strong>your perception doesn't</strong>. The illusion persists even when you lift with perfectly calibrated force.</p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="startExperiment()">Experience the Illusion</button>
            </div>
        </div>

        <!-- Phase 2: Lifting Trials -->
        <div id="phase2" class="experiment-phase">
            <div class="trial-info">
                <div class="trial-counter">Box <span id="trialNum">1</span> of 6</div>
            </div>

            <p class="instruction-text">Click and hold the box to "lift" it, then rate how heavy it feels.</p>

            <div class="lifting-area" id="liftingArea">
                <div class="table-top"></div>
                <div class="table-surface"></div>
                <div class="box" id="currentBox"></div>
            </div>

            <div class="weight-slider" id="sliderArea" style="display: none;">
                <p style="font-weight: 600; color: var(--moss); margin-bottom: 10px;">How heavy did it feel?</p>
                <div class="slider-container">
                    <input type="range" id="weightSlider" min="1" max="10" value="5">
                    <div class="slider-labels">
                        <span>Very Light</span>
                        <span>Very Heavy</span>
                    </div>
                </div>
                <div class="weight-display"><span id="weightValue">5</span> / 10</div>
                <button class="btn" onclick="submitRating()">Submit Rating</button>
            </div>
        </div>

        <!-- Phase 3: Results -->
        <div id="phase3" class="experiment-phase">
            <div class="results-card">
                <h2>The Reveal</h2>
                <div class="reveal-box">
                    <div class="reveal-text">All boxes weighed EXACTLY the same!</div>
                    <p>But you rated them differently...</p>
                </div>

                <div class="comparison-grid">
                    <div class="comparison-item">
                        <div class="size-label">Small Box</div>
                        <div class="your-rating" id="smallRating">?</div>
                        <div class="actual">Your rating</div>
                    </div>
                    <div class="comparison-item">
                        <div class="size-label">Medium Box</div>
                        <div class="your-rating" id="mediumRating">?</div>
                        <div class="actual">Your rating</div>
                    </div>
                    <div class="comparison-item">
                        <div class="size-label">Large Box</div>
                        <div class="your-rating" id="largeRating">?</div>
                        <div class="actual">Your rating</div>
                    </div>
                </div>
            </div>

            <div class="science-section">
                <h3>Your Results Chart</h3>
                <div class="chart-container">
                    <canvas id="resultsChart" width="500" height="250"></canvas>
                </div>
                <p id="illusionStrength" style="text-align: center; font-weight: 600; color: var(--terracotta);"></p>
            </div>

            <div class="science-section">
                <h3>The "Anti-Bayesian" Brain</h3>
                <p>This illusion reveals something surprising about how we perceive weight:</p>
                <p>Normally, our brains combine <strong>prior expectations</strong> with <strong>sensory evidence</strong> to form perceptions—a process called Bayesian integration. But in the size-weight illusion, the brain does the <strong>opposite</strong>.</p>
                <p>Instead of averaging expectation and reality, it <strong>emphasizes the discrepancy</strong>. The unexpected information gets amplified, not smoothed out.</p>
                <blockquote>
                    "The rescaling has been described as 'anti-Bayesian'—the central nervous system integrates prior expectations with current proprioceptive information in a way that emphasizes the unexpected information rather than taking an average."
                </blockquote>
            </div>

            <div class="science-section">
                <h3>Why Doesn't Learning Fix It?</h3>
                <p>Here's what's truly strange: people <strong>quickly learn</strong> to use the correct lifting force. After a few lifts, your muscles apply exactly the right amount of force for each box.</p>
                <p>But the <strong>illusion persists</strong>. Even when you're lifting perfectly, the small box still <em>feels</em> heavier.</p>
                <p>This tells us something profound: <strong>perception and action are served by different systems</strong>. Your motor system learns the truth, but your perceptual system keeps lying to you.</p>
            </div>

            <div class="science-section">
                <h3>Real-World Implications</h3>
                <ul style="margin: 15px 0; padding-left: 25px;">
                    <li><strong>Product design</strong>: Small, heavy products feel "substantial" and high-quality</li>
                    <li><strong>Packaging</strong>: Large, light packages feel "cheap" or "empty"</li>
                    <li><strong>Exercise equipment</strong>: Compact weights are often preferred because they "feel" like more of a workout</li>
                    <li><strong>Shipping</strong>: People consistently underestimate how heavy large boxes will be</li>
                </ul>
            </div>

            <div class="science-section">
                <h3>Historical Note</h3>
                <p>Augustin Charpentier's 1891 paper became foundational in psychophysics. He explained the illusion in terms of "disappointed expectations"—especially regarding the speed of the lift.</p>
                <p>When you expect a box to be heavy, you prepare to lift slowly. If it rises faster than expected, your brain interprets this as "light." The opposite happens with small boxes.</p>
            </div>

            <div class="btn-group">
                <button class="btn" onclick="resetExperiment()">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        // Trial configuration
        const trials = [
            { size: 'small', label: 'S' },
            { size: 'large', label: 'L' },
            { size: 'medium', label: 'M' },
            { size: 'small', label: 'S' },
            { size: 'large', label: 'L' },
            { size: 'medium', label: 'M' }
        ];

        let currentTrial = 0;
        let ratings = { small: [], medium: [], large: [] };
        let isLifting = false;

        function startExperiment() {
            currentTrial = 0;
            ratings = { small: [], medium: [], large: [] };
            showPhase(2);
            setupTrial();
        }

        function setupTrial() {
            document.getElementById('trialNum').textContent = currentTrial + 1;
            document.getElementById('sliderArea').style.display = 'none';

            const box = document.getElementById('currentBox');
            const trial = trials[currentTrial];

            // Reset box
            box.className = 'box ' + trial.size;
            box.textContent = trial.label;
            box.classList.remove('lifting');

            // Set up interaction
            box.onmousedown = startLift;
            box.ontouchstart = startLift;
        }

        function startLift(e) {
            e.preventDefault();
            const box = document.getElementById('currentBox');

            if (!isLifting) {
                isLifting = true;
                box.classList.add('lifting');

                // After lift animation, show slider
                setTimeout(() => {
                    document.getElementById('sliderArea').style.display = 'block';
                    document.getElementById('weightSlider').value = 5;
                    document.getElementById('weightValue').textContent = 5;
                }, 800);
            }
        }

        document.getElementById('weightSlider').addEventListener('input', function() {
            document.getElementById('weightValue').textContent = this.value;
        });

        function submitRating() {
            const rating = parseInt(document.getElementById('weightSlider').value);
            const trial = trials[currentTrial];

            ratings[trial.size].push(rating);

            currentTrial++;
            isLifting = false;

            if (currentTrial < trials.length) {
                setupTrial();
            } else {
                showResults();
            }
        }

        function showResults() {
            // Calculate averages
            const smallAvg = ratings.small.reduce((a, b) => a + b, 0) / ratings.small.length;
            const mediumAvg = ratings.medium.reduce((a, b) => a + b, 0) / ratings.medium.length;
            const largeAvg = ratings.large.reduce((a, b) => a + b, 0) / ratings.large.length;

            document.getElementById('smallRating').textContent = smallAvg.toFixed(1);
            document.getElementById('mediumRating').textContent = mediumAvg.toFixed(1);
            document.getElementById('largeRating').textContent = largeAvg.toFixed(1);

            // Illusion strength
            const illusionDiff = smallAvg - largeAvg;
            let strengthText = '';
            if (illusionDiff > 2) {
                strengthText = `Strong illusion! You rated the small box ${illusionDiff.toFixed(1)} points heavier than the large box—classic size-weight effect.`;
            } else if (illusionDiff > 0.5) {
                strengthText = `You experienced the illusion! The small box felt ${illusionDiff.toFixed(1)} points heavier despite identical weight.`;
            } else if (illusionDiff > -0.5) {
                strengthText = `Interesting—your ratings were similar. The haptic simulation may not fully capture the real-world illusion.`;
            } else {
                strengthText = `Unusual result—you rated the large box heavier. The virtual format limits the full illusion experience.`;
            }
            document.getElementById('illusionStrength').textContent = strengthText;

            // Draw chart
            drawResultsChart(smallAvg, mediumAvg, largeAvg);

            showPhase(3);
        }

        function drawResultsChart(small, medium, large) {
            const canvas = document.getElementById('resultsChart');
            const ctx = canvas.getContext('2d');
            const w = canvas.width;
            const h = canvas.height;

            ctx.fillStyle = '#f8f6f1';
            ctx.fillRect(0, 0, w, h);

            const barWidth = 80;
            const gap = 60;
            const startX = (w - (barWidth * 3 + gap * 2)) / 2;
            const maxHeight = h - 80;

            // Draw bars
            const values = [
                { label: 'Small', value: small, color: '#4CAF50' },
                { label: 'Medium', value: medium, color: '#2196F3' },
                { label: 'Large', value: large, color: '#9C27B0' }
            ];

            values.forEach((item, i) => {
                const x = startX + i * (barWidth + gap);
                const barHeight = (item.value / 10) * maxHeight;
                const y = h - 40 - barHeight;

                // Bar
                ctx.fillStyle = item.color;
                ctx.fillRect(x, y, barWidth, barHeight);

                // Value label
                ctx.fillStyle = '#333';
                ctx.font = 'bold 16px Nunito';
                ctx.textAlign = 'center';
                ctx.fillText(item.value.toFixed(1), x + barWidth / 2, y - 10);

                // Category label
                ctx.font = '14px Nunito';
                ctx.fillText(item.label, x + barWidth / 2, h - 15);
            });

            // Y-axis
            ctx.strokeStyle = '#ccc';
            ctx.beginPath();
            ctx.moveTo(startX - 20, h - 40);
            ctx.lineTo(startX - 20, 20);
            ctx.stroke();

            // Y-axis labels
            ctx.font = '11px Nunito';
            ctx.textAlign = 'right';
            ctx.fillStyle = '#666';
            for (let i = 0; i <= 10; i += 2) {
                const y = h - 40 - (i / 10) * maxHeight;
                ctx.fillText(i, startX - 25, y + 4);
            }

            // Expected line (if no illusion)
            ctx.strokeStyle = 'var(--terracotta)';
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            const avgY = h - 40 - (5 / 10) * maxHeight;
            ctx.moveTo(startX - 10, avgY);
            ctx.lineTo(startX + barWidth * 3 + gap * 2 + 10, avgY);
            ctx.stroke();
            ctx.setLineDash([]);

            ctx.font = '10px Nunito';
            ctx.textAlign = 'left';
            ctx.fillStyle = 'var(--terracotta)';
            ctx.fillText('Expected if no illusion', startX + barWidth * 3 + gap * 2 + 15, avgY + 4);
        }

        function showPhase(num) {
            document.querySelectorAll('.experiment-phase').forEach(p => p.classList.remove('active'));
            document.getElementById('phase' + num).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetExperiment() {
            currentTrial = 0;
            ratings = { small: [], medium: [], large: [] };
            isLifting = false;
            showPhase(1);
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
