<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Tocqueville Effect - Surprising Paradoxes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #2d1b4e 0%, #1a0a2e 50%, #0d0519 100%);
            color: #e8e8e8;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2em;
            margin-bottom: 5px;
            color: #f39c12;
        }

        .subtitle {
            text-align: center;
            font-size: 1.1em;
            color: #aaa;
            margin-bottom: 20px;
        }

        .intro-box {
            background: rgba(243, 156, 18, 0.1);
            border: 1px solid #f39c12;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .key-insight {
            font-size: 1.3em;
            color: #f39c12;
            text-align: center;
            margin-bottom: 10px;
        }

        .quote-box {
            background: rgba(0, 0, 0, 0.3);
            border-left: 4px solid #f39c12;
            padding: 15px 20px;
            margin: 15px 0;
            font-style: italic;
        }

        .quote-author {
            text-align: right;
            color: #f39c12;
            font-style: normal;
            margin-top: 10px;
        }

        .simulation-section {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .simulation-section h2 {
            color: #f39c12;
            text-align: center;
            margin-bottom: 15px;
        }

        .canvas-container {
            position: relative;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        canvas {
            display: block;
            margin: 0 auto;
            border-radius: 5px;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .legend-color {
            width: 20px;
            height: 4px;
            border-radius: 2px;
        }

        .controls-row {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(135deg, #f39c12 0%, #d68910 100%);
            color: #1a0a2e;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.95em;
            font-weight: bold;
            transition: all 0.3s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(243, 156, 18, 0.4);
        }

        button:disabled {
            background: #555;
            color: #888;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
        }

        .stat-value.positive { color: #27ae60; }
        .stat-value.negative { color: #e74c3c; }
        .stat-value.warning { color: #f39c12; }

        .stat-label {
            font-size: 0.8em;
            color: #888;
            margin-top: 5px;
        }

        .gap-indicator {
            background: linear-gradient(90deg, rgba(39, 174, 96, 0.2) 0%, rgba(231, 76, 60, 0.2) 100%);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            margin-top: 15px;
        }

        .gap-bar {
            height: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin: 10px 0;
        }

        .gap-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60 0%, #f39c12 50%, #e74c3c 100%);
            border-radius: 15px;
            transition: width 0.5s;
        }

        .gap-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8em;
            color: #888;
        }

        .theory-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .theory-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .theory-card h3 {
            margin-bottom: 10px;
        }

        .theory-card.marx h3 { color: #e74c3c; }
        .theory-card.tocqueville h3 { color: #f39c12; }

        .theory-diagram {
            height: 80px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 3px;
            margin: 15px 0;
        }

        .bar {
            width: 15px;
            background: #666;
            border-radius: 3px 3px 0 0;
            transition: height 0.3s;
        }

        .marx .bar { background: linear-gradient(to top, #c0392b, #e74c3c); }
        .tocqueville .bar { background: linear-gradient(to top, #d68910, #f39c12); }

        .arrow-result {
            font-size: 1.5em;
            margin: 10px 0;
        }

        .result-text {
            font-size: 0.9em;
            color: #888;
        }

        .examples-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .examples-section h2 {
            color: #f39c12;
            text-align: center;
            margin-bottom: 15px;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #f39c12;
        }

        .timeline-event {
            position: relative;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .timeline-event::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 20px;
            width: 10px;
            height: 10px;
            background: #f39c12;
            border-radius: 50%;
        }

        .timeline-year {
            color: #f39c12;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .timeline-title {
            font-size: 1.1em;
            margin-bottom: 8px;
        }

        .timeline-desc {
            font-size: 0.9em;
            color: #bbb;
            line-height: 1.5;
        }

        .progress-stat {
            display: inline-block;
            background: rgba(39, 174, 96, 0.2);
            color: #27ae60;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.85em;
        }

        .unrest-stat {
            display: inline-block;
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.85em;
        }

        .mechanism-box {
            background: rgba(243, 156, 18, 0.1);
            border: 1px solid #f39c12;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .mechanism-box h3 {
            color: #f39c12;
            text-align: center;
            margin-bottom: 15px;
        }

        .mechanism-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .mechanism-step {
            flex: 1;
            min-width: 150px;
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .step-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .step-arrow {
            font-size: 1.5em;
            color: #f39c12;
        }

        .back-link {
            display: inline-block;
            color: #f39c12;
            text-decoration: none;
            margin-bottom: 20px;
            font-size: 0.95em;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .theory-comparison {
                grid-template-columns: 1fr;
            }

            .stats-row {
                grid-template-columns: 1fr 1fr;
            }

            .mechanism-steps {
                flex-direction: column;
            }

            .step-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

        <h1>The Tocqueville Effect</h1>
        <p class="subtitle">Revolution of Rising Expectations</p>

        <div class="intro-box">
            <div class="key-insight">REVOLUTIONS HAPPEN WHEN THINGS ARE GETTING BETTER, NOT WORSE</div>
            <p><strong>Alexis de Tocqueville (1840)</strong> observed a counterintuitive pattern: the French Revolution didn't erupt during the darkest years of oppression, but after decades of reform and improvement. As conditions get better, expectations rise FASTER‚Äîcreating a widening "expectation gap" that fuels frustration and rebellion.</p>
        </div>

        <div class="quote-box">
            "The hatred that men bear to privilege increases in proportion as privileges become fewer and less considerable, so that democratic passions would seem to burn most fiercely just when they have least fuel."
            <div class="quote-author">‚Äî Alexis de Tocqueville, Democracy in America (1840)</div>
        </div>

        <div class="theory-comparison">
            <div class="theory-card marx">
                <h3>Marx's Theory</h3>
                <p style="font-size: 0.9em; color: #888;">Progressive Immiseration</p>
                <div class="theory-diagram">
                    <div class="bar" style="height: 70px;"></div>
                    <div class="bar" style="height: 55px;"></div>
                    <div class="bar" style="height: 40px;"></div>
                    <div class="bar" style="height: 25px;"></div>
                    <div class="bar" style="height: 15px;"></div>
                </div>
                <div class="arrow-result">üìâ ‚Üí üí•</div>
                <p class="result-text">Conditions worsen ‚Üí Revolution</p>
            </div>
            <div class="theory-card tocqueville">
                <h3>Tocqueville's Observation</h3>
                <p style="font-size: 0.9em; color: #888;">Rising Expectations</p>
                <div class="theory-diagram">
                    <div class="bar" style="height: 20px;"></div>
                    <div class="bar" style="height: 35px;"></div>
                    <div class="bar" style="height: 50px;"></div>
                    <div class="bar" style="height: 60px;"></div>
                    <div class="bar" style="height: 70px;"></div>
                </div>
                <div class="arrow-result">üìà ‚Üí üí•</div>
                <p class="result-text">Conditions IMPROVE ‚Üí Revolution</p>
            </div>
        </div>

        <div class="mechanism-box">
            <h3>The Mechanism: How Progress Breeds Discontent</h3>
            <div class="mechanism-steps">
                <div class="mechanism-step">
                    <div class="step-icon">üìà</div>
                    <p>Conditions Improve</p>
                </div>
                <div class="step-arrow">‚Üí</div>
                <div class="mechanism-step">
                    <div class="step-icon">üëÅÔ∏è</div>
                    <p>Awareness of Potential</p>
                </div>
                <div class="step-arrow">‚Üí</div>
                <div class="mechanism-step">
                    <div class="step-icon">üéØ</div>
                    <p>Expectations Rise FASTER</p>
                </div>
                <div class="step-arrow">‚Üí</div>
                <div class="mechanism-step">
                    <div class="step-icon">üò§</div>
                    <p>Gap Creates Frustration</p>
                </div>
                <div class="step-arrow">‚Üí</div>
                <div class="mechanism-step">
                    <div class="step-icon">üí•</div>
                    <p>Unrest / Revolution</p>
                </div>
            </div>
        </div>

        <div class="simulation-section">
            <h2>The Expectation Gap Simulator</h2>
            <p style="text-align: center; color: #888; margin-bottom: 15px;">Watch how improvements in living standards create a growing gap with expectations</p>

            <div class="canvas-container">
                <canvas id="gapCanvas" width="700" height="350"></canvas>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #27ae60;"></div>
                        <span>Actual Conditions</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #e74c3c;"></div>
                        <span>Expectations</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: rgba(243, 156, 18, 0.3);"></div>
                        <span>Frustration Gap</span>
                    </div>
                </div>
            </div>

            <div class="controls-row">
                <button id="startBtn">Start Simulation</button>
                <button id="resetBtn">Reset</button>
            </div>

            <div class="stats-row">
                <div class="stat-box">
                    <div class="stat-value positive" id="conditions">20</div>
                    <div class="stat-label">Living Standard</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value negative" id="expectations">25</div>
                    <div class="stat-label">Expectations</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value warning" id="gap">5</div>
                    <div class="stat-label">Frustration Gap</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="year">1760</div>
                    <div class="stat-label">Year</div>
                </div>
            </div>

            <div class="gap-indicator">
                <strong>Revolution Risk</strong>
                <div class="gap-bar">
                    <div class="gap-fill" id="riskBar" style="width: 10%;"></div>
                </div>
                <div class="gap-labels">
                    <span>Stable</span>
                    <span>Discontent</span>
                    <span>Unrest</span>
                    <span>Revolution!</span>
                </div>
            </div>
        </div>

        <div class="examples-section">
            <h2>Historical Examples</h2>
            <div class="timeline">
                <div class="timeline-event">
                    <div class="timeline-year">1789 - French Revolution</div>
                    <div class="timeline-title">The Original Case Study</div>
                    <div class="timeline-desc">
                        Under Louis XVI, France saw <span class="progress-stat">decades of reform</span>: relaxed censorship, reduced feudal obligations, economic growth. Yet this sparked the revolution, not the worse years before. As privileges shrank, remaining inequalities became <span class="unrest-stat">unbearable</span>.
                    </div>
                </div>
                <div class="timeline-event">
                    <div class="timeline-year">2010-11 - Arab Spring (Tunisia)</div>
                    <div class="timeline-title">Modern Confirmation</div>
                    <div class="timeline-desc">
                        Tunisia's economy grew <span class="progress-stat">4.5% annually</span> from 2000-2010. Poverty fell, education expanded. Yet youth unemployment hit 30.7%, corruption persisted. Rising expectations <span class="unrest-stat">outpaced reality</span>‚Äîrevolution followed.
                    </div>
                </div>
                <div class="timeline-event">
                    <div class="timeline-year">2019 - Chile Protests</div>
                    <div class="timeline-title">Latin America's Tocqueville Moment</div>
                    <div class="timeline-desc">
                        20 years of progress: <span class="progress-stat">poverty halved</span>, wages up, education expanded. Chile became Latin America's "success story." Then a 4-cent metro fare increase sparked <span class="unrest-stat">massive protests</span>. As the World Bank noted: "an example of the Tocqueville paradox in action."
                    </div>
                </div>
                <div class="timeline-event">
                    <div class="timeline-year">1960s - U.S. Civil Rights Movement</div>
                    <div class="timeline-title">Progress Fuels Demands</div>
                    <div class="timeline-desc">
                        After <span class="progress-stat">Brown v. Board (1954)</span> and early legislative victories, the movement intensified rather than subsided. Each gain revealed how much more was possible, <span class="unrest-stat">accelerating demands</span> for full equality.
                    </div>
                </div>
            </div>
        </div>

        <div class="intro-box" style="border-color: #27ae60; background: rgba(39, 174, 96, 0.1);">
            <div class="key-insight" style="color: #27ae60;">THE APPETITE GROWS BY WHAT IT FEEDS ON</div>
            <p>
                <strong>Implications for reformers:</strong> Progress creates its own opposition. As you improve conditions, expectations will rise faster. This isn't a reason to stop reforming‚Äîbut to understand that reforms must be followed by more reforms. The worst response is to partially improve conditions and then stop. That maximizes the frustration gap.
            </p>
            <p style="margin-top: 10px;">
                <strong>The paradox:</strong> Oppressive stagnation may be stable. Improvement destabilizes. Total equality would be stable again. It's the middle ground‚Äîpartial progress‚Äîthat's most volatile.
            </p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gapCanvas');
        const ctx = canvas.getContext('2d');

        let conditions = 20;
        let expectations = 25;
        let year = 1760;
        let running = false;
        let animationId = null;

        const history = {
            conditions: [20],
            expectations: [25],
            years: [1760]
        };

        function drawGraph() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Background grid
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 10; i++) {
                const y = 20 + (i * 30);
                ctx.beginPath();
                ctx.moveTo(50, y);
                ctx.lineTo(680, y);
                ctx.stroke();
            }

            // Y-axis labels
            ctx.fillStyle = '#888';
            ctx.font = '11px Georgia';
            ctx.textAlign = 'right';
            for (let i = 0; i <= 10; i++) {
                const value = 100 - (i * 10);
                const y = 20 + (i * 30);
                ctx.fillText(value, 45, y + 4);
            }

            // X-axis
            ctx.textAlign = 'center';
            const startYear = history.years[0];
            const endYear = history.years[history.years.length - 1];
            const yearRange = Math.max(endYear - startYear, 30);

            for (let i = 0; i <= 3; i++) {
                const yearLabel = Math.round(startYear + (yearRange * i / 3));
                const x = 50 + (i * 210);
                ctx.fillText(yearLabel, x, 335);
            }

            if (history.conditions.length < 2) return;

            // Calculate x positions
            const xScale = 630 / (history.conditions.length - 1 || 1);

            // Fill gap area
            ctx.beginPath();
            ctx.moveTo(50, 320 - (history.conditions[0] * 3));
            for (let i = 0; i < history.conditions.length; i++) {
                const x = 50 + (i * xScale);
                ctx.lineTo(x, 320 - (history.conditions[i] * 3));
            }
            for (let i = history.expectations.length - 1; i >= 0; i--) {
                const x = 50 + (i * xScale);
                ctx.lineTo(x, 320 - (history.expectations[i] * 3));
            }
            ctx.closePath();
            ctx.fillStyle = 'rgba(243, 156, 18, 0.2)';
            ctx.fill();

            // Draw conditions line
            ctx.beginPath();
            ctx.strokeStyle = '#27ae60';
            ctx.lineWidth = 3;
            for (let i = 0; i < history.conditions.length; i++) {
                const x = 50 + (i * xScale);
                const y = 320 - (history.conditions[i] * 3);
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Draw expectations line
            ctx.beginPath();
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 3;
            for (let i = 0; i < history.expectations.length; i++) {
                const x = 50 + (i * xScale);
                const y = 320 - (history.expectations[i] * 3);
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            // Labels
            ctx.font = 'bold 12px Georgia';
            const lastX = 50 + ((history.conditions.length - 1) * xScale);
            ctx.fillStyle = '#27ae60';
            ctx.textAlign = 'left';
            ctx.fillText('Reality', lastX + 5, 320 - (history.conditions[history.conditions.length - 1] * 3));
            ctx.fillStyle = '#e74c3c';
            ctx.fillText('Expectations', lastX + 5, 320 - (history.expectations[history.expectations.length - 1] * 3));
        }

        function updateStats() {
            document.getElementById('conditions').textContent = Math.round(conditions);
            document.getElementById('expectations').textContent = Math.round(expectations);

            const gap = expectations - conditions;
            document.getElementById('gap').textContent = Math.round(gap);

            document.getElementById('year').textContent = year;

            // Risk calculation
            const risk = Math.min(100, Math.max(0, gap * 2));
            document.getElementById('riskBar').style.width = risk + '%';

            // Color coding
            const gapEl = document.getElementById('gap');
            if (gap < 15) {
                gapEl.className = 'stat-value';
                gapEl.style.color = '#888';
            } else if (gap < 30) {
                gapEl.className = 'stat-value warning';
                gapEl.style.color = '#f39c12';
            } else {
                gapEl.className = 'stat-value negative';
                gapEl.style.color = '#e74c3c';
            }
        }

        function simulate() {
            if (!running) return;

            // Conditions improve steadily
            conditions += 0.8 + (Math.random() * 0.4);

            // Expectations rise faster than conditions (the key insight!)
            const awarenessBoost = (conditions - 20) * 0.05; // More progress = more awareness of potential
            expectations += 1.2 + (Math.random() * 0.5) + awarenessBoost;

            // Cap at 100
            conditions = Math.min(conditions, 95);
            expectations = Math.min(expectations, 100);

            year++;

            history.conditions.push(conditions);
            history.expectations.push(expectations);
            history.years.push(year);

            // Limit history length
            if (history.conditions.length > 100) {
                history.conditions.shift();
                history.expectations.shift();
                history.years.shift();
            }

            drawGraph();
            updateStats();

            // Check for revolution
            if (expectations - conditions > 40) {
                running = false;
                document.getElementById('startBtn').textContent = 'Revolution!';
                document.getElementById('startBtn').disabled = true;
                ctx.fillStyle = 'rgba(231, 76, 60, 0.8)';
                ctx.font = 'bold 24px Georgia';
                ctx.textAlign = 'center';
                ctx.fillText('REVOLUTION!', canvas.width / 2, canvas.height / 2);
                ctx.font = '14px Georgia';
                ctx.fillText('The expectation gap became unbearable', canvas.width / 2, canvas.height / 2 + 25);
                return;
            }

            animationId = setTimeout(simulate, 150);
        }

        document.getElementById('startBtn').addEventListener('click', () => {
            if (running) {
                running = false;
                document.getElementById('startBtn').textContent = 'Resume';
            } else {
                running = true;
                document.getElementById('startBtn').textContent = 'Pause';
                simulate();
            }
        });

        document.getElementById('resetBtn').addEventListener('click', () => {
            running = false;
            clearTimeout(animationId);

            conditions = 20;
            expectations = 25;
            year = 1760;

            history.conditions = [20];
            history.expectations = [25];
            history.years = [1760];

            document.getElementById('startBtn').textContent = 'Start Simulation';
            document.getElementById('startBtn').disabled = false;

            drawGraph();
            updateStats();
        });

        // Initial draw
        drawGraph();
        updateStats();
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
