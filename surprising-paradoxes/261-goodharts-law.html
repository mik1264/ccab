<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goodhart's Law - When Metrics Become Targets</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f1a 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        .back-link { color: #ff6b6b; text-decoration: none; margin-bottom: 20px; display: inline-block; }
        h1 {
            font-size: 2.4rem;
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        .subtitle { font-size: 1.1rem; color: #ffa0a0; max-width: 800px; margin: 0 auto; line-height: 1.6; }
        .simulation-container {
            background: rgba(40, 40, 60, 0.7);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }
        .simulation-container h2 { color: #ff6b6b; margin-bottom: 20px; text-align: center; }
        .factory-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
        }
        .metric-panel {
            background: rgba(20, 20, 40, 0.8);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }
        .metric-panel h3 { color: #feca57; margin-bottom: 15px; }
        .metric-value { font-size: 3rem; font-weight: bold; margin: 15px 0; }
        .metric-value.good { color: #2ecc71; }
        .metric-value.bad { color: #ff6b6b; }
        .metric-value.neutral { color: #feca57; }
        .metric-label { color: #a0a0c0; font-size: 0.9rem; }
        .target-indicator {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-top: 10px;
        }
        .target-indicator.active { background: rgba(255, 107, 107, 0.3); color: #ff6b6b; border: 1px solid #ff6b6b; }
        .target-indicator.inactive { background: rgba(100, 100, 120, 0.3); color: #a0a0c0; }
        .controls { display: flex; gap: 15px; justify-content: center; margin: 25px 0; flex-wrap: wrap; }
        .control-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.3s;
        }
        .control-btn.primary { background: linear-gradient(135deg, #ff6b6b, #ee5a5a); color: white; }
        .control-btn.secondary { background: rgba(255, 107, 107, 0.2); color: #ff6b6b; border: 1px solid rgba(255, 107, 107, 0.5); }
        .control-btn:hover { transform: scale(1.05); }
        .control-btn.active { background: linear-gradient(135deg, #2ecc71, #27ae60); }
        .timeline-display {
            background: rgba(20, 20, 40, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        canvas { width: 100%; height: 200px; }
        .scenario-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 30px 0; }
        .scenario-card {
            background: rgba(40, 40, 60, 0.7);
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid #ff6b6b;
        }
        .scenario-card h3 { color: #feca57; margin-bottom: 10px; }
        .scenario-card p { color: #b0b0c0; font-size: 0.9rem; line-height: 1.6; }
        .scenario-card .before-after { display: flex; gap: 15px; margin-top: 15px; }
        .scenario-card .ba-item { flex: 1; background: rgba(20, 20, 40, 0.6); padding: 10px; border-radius: 8px; text-align: center; }
        .scenario-card .ba-label { font-size: 0.8rem; color: #a0a0c0; }
        .scenario-card .ba-value { font-size: 1.1rem; font-weight: bold; margin-top: 5px; }
        .scenario-card .ba-value.green { color: #2ecc71; }
        .scenario-card .ba-value.red { color: #ff6b6b; }
        .insight-box {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(254, 202, 87, 0.1));
            border-left: 4px solid #ff6b6b;
            padding: 20px;
            border-radius: 0 10px 10px 0;
            margin: 25px 0;
        }
        .insight-box h3 { color: #feca57; margin-bottom: 10px; }
        .explanation { background: rgba(40, 40, 60, 0.5); border-radius: 15px; padding: 25px; margin-top: 30px; }
        .explanation h2 { color: #ff6b6b; margin-bottom: 15px; }
        .explanation p { color: #b0b0c0; line-height: 1.8; margin-bottom: 15px; }
        .nail-visual { display: flex; gap: 5px; justify-content: center; margin: 15px 0; flex-wrap: wrap; }
        .nail { font-size: 1.5rem; }
        @media (max-width: 700px) { .factory-display { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-link">‚Üê Back to Surprising Paradoxes</a>
            <h1>Goodhart's Law</h1>
            <p class="subtitle">"When a measure becomes a target, it ceases to be a good measure." ‚Äî Charles Goodhart, 1975. The moment you optimize for a metric, you destroy its usefulness.</p>
        </header>

        <div class="simulation-container">
            <h2>üè≠ The Soviet Nail Factory</h2>
            <p style="color: #b0b0c0; text-align: center; margin-bottom: 20px;">Moscow sets production targets. Watch what happens when the metric becomes the goal.</p>
            
            <div class="factory-display">
                <div class="metric-panel">
                    <h3>Production Target</h3>
                    <div class="metric-value" id="targetMetric">Tons</div>
                    <div class="metric-label" id="targetLabel">Measured by weight</div>
                    <div class="target-indicator active" id="targetBadge">CURRENT TARGET</div>
                </div>
                <div class="metric-panel">
                    <h3>Actual Output</h3>
                    <div class="nail-visual" id="nailVisual">üî©üî©üî©üî©üî©</div>
                    <div class="metric-label" id="outputLabel">5 normal nails</div>
                </div>
            </div>

            <div class="factory-display">
                <div class="metric-panel">
                    <h3>Target Met?</h3>
                    <div class="metric-value good" id="targetMet">‚úì YES</div>
                    <div class="metric-label">Factory bonus awarded</div>
                </div>
                <div class="metric-panel">
                    <h3>Actual Usefulness</h3>
                    <div class="metric-value" id="usefulness">100%</div>
                    <div class="metric-label">Can these nails be used?</div>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn primary" id="setTons">Target: TONS (weight)</button>
                <button class="control-btn secondary" id="setCount">Target: COUNT (quantity)</button>
                <button class="control-btn secondary" id="reset">‚Üª Reset</button>
            </div>

            <div class="timeline-display">
                <p style="color: #a0a0c0; margin-bottom: 10px;">Usefulness over time as factory "optimizes":</p>
                <canvas id="usefulnessChart"></canvas>
            </div>
        </div>

        <div class="scenario-cards">
            <div class="scenario-card">
                <h3>üìä Wells Fargo Accounts</h3>
                <p>Employees were incentivized to open new accounts. They opened 3.5 million fake accounts without customer consent.</p>
                <div class="before-after">
                    <div class="ba-item"><div class="ba-label">Metric</div><div class="ba-value green">‚Üë Accounts</div></div>
                    <div class="ba-item"><div class="ba-label">Reality</div><div class="ba-value red">Fraud</div></div>
                </div>
            </div>
            <div class="scenario-card">
                <h3>üìö Teaching to the Test</h3>
                <p>Schools judged by test scores. Teachers narrow curriculum to tested material only. Critical thinking and creativity suffer.</p>
                <div class="before-after">
                    <div class="ba-item"><div class="ba-label">Metric</div><div class="ba-value green">‚Üë Scores</div></div>
                    <div class="ba-item"><div class="ba-label">Reality</div><div class="ba-value red">‚Üì Learning</div></div>
                </div>
            </div>
            <div class="scenario-card">
                <h3>üè• Hospital Wait Times</h3>
                <p>UK hospitals measured on A&E wait times. Solution? Patients held in ambulances outside (not "in A&E" yet).</p>
                <div class="before-after">
                    <div class="ba-item"><div class="ba-label">Metric</div><div class="ba-value green">‚Üì Wait time</div></div>
                    <div class="ba-item"><div class="ba-label">Reality</div><div class="ba-value red">Same wait</div></div>
                </div>
            </div>
            <div class="scenario-card">
                <h3>üëç Social Media Engagement</h3>
                <p>Platforms optimize for "engagement." Result: outrage, misinformation, and addiction maximize clicks.</p>
                <div class="before-after">
                    <div class="ba-item"><div class="ba-label">Metric</div><div class="ba-value green">‚Üë Clicks</div></div>
                    <div class="ba-item"><div class="ba-label">Reality</div><div class="ba-value red">‚Üì Wellbeing</div></div>
                </div>
            </div>
        </div>

        <div class="insight-box">
            <h3>üéØ The Core Problem</h3>
            <p>Metrics are <strong>proxies</strong> for what we actually care about. When we target the proxy, people optimize for it‚Äîoften in ways that undermine the underlying goal. The metric stays good while reality degrades. This is why <strong>Campbell's Law</strong> warns: "The more any quantitative social indicator is used for social decision-making, the more subject it will be to corruption pressures."</p>
        </div>

        <div class="explanation">
            <h2>Solutions?</h2>
            <p><strong>Multiple metrics:</strong> Harder to game several at once. But beware‚Äîpeople optimize for the weighted combination.</p>
            <p><strong>Qualitative judgment:</strong> Include human assessment alongside numbers. But this doesn't scale.</p>
            <p><strong>Rotate metrics:</strong> Change targets before gaming becomes entrenched. But this creates confusion.</p>
            <p><strong>Measure outcomes, not outputs:</strong> Focus on actual goals (patient health) not proxies (procedures performed). But outcomes are harder to measure.</p>
            <p style="font-style: italic; color: #9090a0; margin-top: 20px;">Charles Goodhart formulated this in 1975 regarding monetary policy. The insight applies everywhere: policing statistics, academic citations, app store rankings, SEO, KPIs...</p>
        </div>
    </div>

    <script>
        var canvas = document.getElementById('usefulnessChart');
        var ctx = canvas.getContext('2d');
        
        var currentTarget = 'tons';
        var usefulness = 100;
        var history = [100];
        var nailSize = 'normal';
        var optimizationStep = 0;

        function initCanvas() {
            var dpr = window.devicePixelRatio || 1;
            var rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
        }

        function drawChart() {
            var width = canvas.width / (window.devicePixelRatio || 1);
            var height = canvas.height / (window.devicePixelRatio || 1);
            
            ctx.clearRect(0, 0, width, height);
            
            ctx.strokeStyle = 'rgba(255, 107, 107, 0.3)';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(0, height * 0.5);
            ctx.lineTo(width, height * 0.5);
            ctx.stroke();
            ctx.setLineDash([]);
            
            ctx.fillStyle = '#a0a0c0';
            ctx.font = '10px Georgia';
            ctx.fillText('100%', 5, 15);
            ctx.fillText('50%', 5, height * 0.5 + 4);
            ctx.fillText('0%', 5, height - 5);
            
            if (history.length > 1) {
                ctx.strokeStyle = currentTarget === 'tons' ? '#ff6b6b' : '#feca57';
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                for (var i = 0; i < history.length; i++) {
                    var x = 40 + (i / (history.length - 1 || 1)) * (width - 60);
                    var y = height - (history[i] / 100) * (height - 20) - 10;
                    
                    if (i === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();
                
                var lastX = 40 + ((history.length - 1) / (history.length - 1 || 1)) * (width - 60);
                var lastY = height - (history[history.length - 1] / 100) * (height - 20) - 10;
                ctx.fillStyle = currentTarget === 'tons' ? '#ff6b6b' : '#feca57';
                ctx.beginPath();
                ctx.arc(lastX, lastY, 6, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function updateDisplay() {
            var nailVisual = document.getElementById('nailVisual');
            var outputLabel = document.getElementById('outputLabel');
            var targetMet = document.getElementById('targetMet');
            var usefulnessEl = document.getElementById('usefulness');
            
            if (currentTarget === 'tons') {
                if (optimizationStep === 0) {
                    nailVisual.innerHTML = 'üî©üî©üî©üî©üî©';
                    outputLabel.textContent = '5 normal nails';
                    usefulness = 100;
                } else if (optimizationStep === 1) {
                    nailVisual.innerHTML = 'üî©üî©üî©<span style="font-size:2rem">üî©</span><span style="font-size:2rem">üî©</span>';
                    outputLabel.textContent = '3 normal + 2 oversized = more tons!';
                    usefulness = 60;
                } else if (optimizationStep === 2) {
                    nailVisual.innerHTML = '<span style="font-size:2.5rem">üî©</span><span style="font-size:2.5rem">üî©</span><span style="font-size:3rem">üî©</span>';
                    outputLabel.textContent = '3 giant useless nails = maximum tons!';
                    usefulness = 10;
                } else {
                    nailVisual.innerHTML = '<span style="font-size:4rem">üî©</span>';
                    outputLabel.textContent = 'ONE nail weighing 1 ton';
                    usefulness = 0;
                }
            } else {
                if (optimizationStep === 0) {
                    nailVisual.innerHTML = 'üî©üî©üî©üî©üî©';
                    outputLabel.textContent = '5 normal nails';
                    usefulness = 100;
                } else if (optimizationStep === 1) {
                    nailVisual.innerHTML = 'üî©üî©üî©üî©üî©üî©üî©üî©';
                    outputLabel.textContent = '8 slightly smaller nails';
                    usefulness = 80;
                } else if (optimizationStep === 2) {
                    nailVisual.innerHTML = Array(20).fill('<span style="font-size:0.8rem">üî©</span>').join('');
                    outputLabel.textContent = '20 tiny nails = more count!';
                    usefulness = 30;
                } else {
                    nailVisual.innerHTML = Array(50).fill('<span style="font-size:0.5rem">¬∑</span>').join('');
                    outputLabel.textContent = '1000 microscopic "nails" (useless dust)';
                    usefulness = 0;
                }
            }
            
            targetMet.textContent = '‚úì YES';
            targetMet.className = 'metric-value good';
            
            usefulnessEl.textContent = usefulness + '%';
            usefulnessEl.className = 'metric-value ' + (usefulness > 70 ? 'good' : usefulness > 30 ? 'neutral' : 'bad');
            
            history.push(usefulness);
            drawChart();
        }

        function setTarget(target) {
            currentTarget = target;
            optimizationStep = 0;
            history = [100];
            
            document.getElementById('targetMetric').textContent = target === 'tons' ? 'TONS' : 'COUNT';
            document.getElementById('targetLabel').textContent = target === 'tons' ? 'Measured by weight' : 'Measured by quantity';
            
            document.getElementById('setTons').className = 'control-btn ' + (target === 'tons' ? 'primary' : 'secondary');
            document.getElementById('setCount').className = 'control-btn ' + (target === 'count' ? 'primary' : 'secondary');
            
            updateDisplay();
            
            var interval = setInterval(function() {
                optimizationStep++;
                if (optimizationStep > 3) {
                    clearInterval(interval);
                    return;
                }
                updateDisplay();
            }, 1500);
        }

        document.getElementById('setTons').addEventListener('click', function() { setTarget('tons'); });
        document.getElementById('setCount').addEventListener('click', function() { setTarget('count'); });
        document.getElementById('reset').addEventListener('click', function() {
            optimizationStep = 0;
            history = [100];
            updateDisplay();
        });

        window.addEventListener('load', function() {
            initCanvas();
            updateDisplay();
        });
        window.addEventListener('resize', function() {
            initCanvas();
            drawChart();
        });
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
