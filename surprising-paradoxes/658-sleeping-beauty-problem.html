<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Sleeping Beauty Problem - 1/2 or 1/3? | Surprising Paradoxes #658</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #f472b6;
            text-decoration: none;
            font-size: 0.9rem;
            z-index: 100;
            padding: 8px 16px;
            background: rgba(0,0,0,0.4);
            border-radius: 20px;
            transition: all 0.3s;
        }
        .back-link:hover { background: rgba(244,114,182,0.2); }

        header {
            text-align: center;
            padding: 60px 20px 30px;
        }
        h1 {
            font-size: 2.8rem;
            background: linear-gradient(135deg, #f472b6, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #94a3b8;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 20px 40px;
        }

        .hook {
            background: linear-gradient(135deg, rgba(167,139,250,0.2), rgba(244,114,182,0.2));
            border: 2px solid rgba(167,139,250,0.4);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            margin-bottom: 30px;
        }
        .hook h2 {
            font-size: 1.5rem;
            color: #a78bfa;
            margin-bottom: 10px;
        }
        .hook p {
            color: #c4b5fd;
            font-size: 1rem;
        }

        .setup-section {
            background: rgba(15,23,42,0.8);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(167,139,250,0.2);
            margin-bottom: 30px;
        }
        .setup-section h3 {
            color: #f472b6;
            margin-bottom: 15px;
            text-align: center;
        }
        .setup-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        .step {
            background: rgba(30,41,59,0.5);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }
        .step-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .step-title {
            color: #a78bfa;
            font-weight: 600;
            margin-bottom: 8px;
        }
        .step-desc {
            font-size: 0.9rem;
            color: #94a3b8;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }

        .simulation-area {
            background: rgba(15,23,42,0.8);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(167,139,250,0.2);
        }

        .scenario-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .beauty {
            width: 120px;
            text-align: center;
        }
        .beauty-icon {
            font-size: 4rem;
            animation: sleep 2s ease-in-out infinite;
        }
        .beauty.awake .beauty-icon {
            animation: none;
        }
        @keyframes sleep {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .beauty-label {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #94a3b8;
        }

        .coin-flip {
            text-align: center;
        }
        .coin {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            color: #1a1a2e;
            margin: 0 auto 10px;
            box-shadow: 0 5px 20px rgba(251,191,36,0.3);
            transition: all 0.3s;
        }
        .coin.flipping {
            animation: flipCoin 0.5s ease;
        }
        @keyframes flipCoin {
            0%, 100% { transform: rotateY(0); }
            50% { transform: rotateY(180deg); }
        }
        .coin-label {
            font-size: 0.9rem;
            color: #fbbf24;
        }

        .timeline {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: rgba(30,41,59,0.5);
            border-radius: 12px;
            margin-bottom: 20px;
        }
        .day-box {
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s;
        }
        .day-box.active {
            background: rgba(167,139,250,0.3);
            border: 2px solid #a78bfa;
        }
        .day-box.inactive {
            opacity: 0.4;
        }
        .day-name {
            font-weight: 600;
            color: #a78bfa;
            font-size: 1.1rem;
        }
        .day-event {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 5px;
        }

        .question-box {
            background: linear-gradient(135deg, rgba(244,114,182,0.2), rgba(167,139,250,0.2));
            border: 2px solid rgba(244,114,182,0.4);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .question-box h4 {
            color: #f472b6;
            margin-bottom: 10px;
        }
        .question-box p {
            color: #f9a8d4;
            font-size: 1.1rem;
        }

        .controls-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .panel {
            background: rgba(15,23,42,0.8);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(167,139,250,0.2);
        }
        .panel h3 {
            color: #a78bfa;
            font-size: 1rem;
            margin-bottom: 15px;
        }

        .position-cards {
            display: grid;
            gap: 15px;
        }
        .position {
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .position.halfer {
            background: rgba(59,130,246,0.15);
        }
        .position.thirder {
            background: rgba(34,197,94,0.15);
        }
        .position.selected {
            transform: scale(1.02);
        }
        .position.halfer.selected {
            border-color: #3b82f6;
        }
        .position.thirder.selected {
            border-color: #22c55e;
        }
        .position h4 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        .position.halfer h4 { color: #3b82f6; }
        .position.thirder h4 { color: #22c55e; }
        .position p {
            font-size: 0.85rem;
            color: #94a3b8;
        }
        .prob-badge {
            font-size: 1.3rem;
            font-weight: bold;
        }

        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .btn {
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-run {
            background: linear-gradient(135deg, #a78bfa, #8b5cf6);
            color: white;
        }
        .btn-simulate {
            background: linear-gradient(135deg, #f472b6, #ec4899);
            color: white;
        }
        .btn:hover { transform: translateY(-2px); }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        .stat-box {
            background: rgba(30,41,59,0.5);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-box .value {
            font-size: 1.4rem;
            font-weight: bold;
        }
        .stat-box.blue .value { color: #3b82f6; }
        .stat-box.green .value { color: #22c55e; }
        .stat-box.yellow .value { color: #fbbf24; }
        .stat-box.purple .value { color: #a78bfa; }
        .stat-box .label {
            font-size: 0.75rem;
            color: #64748b;
        }

        .frequency-display {
            background: rgba(30,41,59,0.5);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }
        .freq-bar {
            height: 30px;
            background: rgba(0,0,0,0.3);
            border-radius: 6px;
            overflow: hidden;
            display: flex;
            margin-bottom: 10px;
        }
        .freq-heads {
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            transition: width 0.5s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .freq-tails {
            background: linear-gradient(90deg, #22c55e, #4ade80);
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .freq-label {
            text-align: center;
            font-size: 0.85rem;
            color: #94a3b8;
        }

        .explanation {
            margin-top: 30px;
        }
        .explanation-card {
            background: rgba(15,23,42,0.8);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(167,139,250,0.2);
            margin-bottom: 20px;
        }
        .explanation-card h3 {
            color: #a78bfa;
            margin-bottom: 15px;
        }
        .explanation-card p {
            color: #94a3b8;
            line-height: 1.8;
            margin-bottom: 12px;
        }

        .argument-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }
        .argument-box {
            padding: 20px;
            border-radius: 12px;
        }
        .argument-box.halfer {
            background: rgba(59,130,246,0.1);
            border: 1px solid rgba(59,130,246,0.3);
        }
        .argument-box.thirder {
            background: rgba(34,197,94,0.1);
            border: 1px solid rgba(34,197,94,0.3);
        }
        .argument-box h4 {
            margin-bottom: 10px;
        }
        .argument-box.halfer h4 { color: #3b82f6; }
        .argument-box.thirder h4 { color: #22c55e; }
        .argument-box p { font-size: 0.9rem; }

        @media (max-width: 900px) {
            .main-grid { grid-template-columns: 1fr; }
            .argument-grid { grid-template-columns: 1fr; }
            h1 { font-size: 2rem; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <header>
        <h1>The Sleeping Beauty Problem</h1>
        <p class="subtitle">A probability puzzle that divides experts: Is the answer 1/2 or 1/3?</p>
    </header>

    <div class="container">
        <div class="hook">
            <h2>PHILOSOPHERS STILL CAN'T AGREE!</h2>
            <p>You're put to sleep. A fair coin is flipped. If Heads: wake once (Monday). If Tails: wake twice (Monday & Tuesday), with memory erased between. When awakened: What's the probability the coin landed Heads?</p>
        </div>

        <div class="setup-section">
            <h3>The Experiment</h3>
            <div class="setup-steps">
                <div class="step">
                    <div class="step-icon">üåô</div>
                    <div class="step-title">Sunday Night</div>
                    <div class="step-desc">Sleeping Beauty goes to sleep. A fair coin is flipped.</div>
                </div>
                <div class="step">
                    <div class="step-icon">ü™ô</div>
                    <div class="step-title">Coin Flip</div>
                    <div class="step-desc">Heads: Wake only Monday. Tails: Wake Monday AND Tuesday.</div>
                </div>
                <div class="step">
                    <div class="step-icon">üíä</div>
                    <div class="step-title">Memory Wipe</div>
                    <div class="step-desc">After Monday, memory drug makes her forget being awakened.</div>
                </div>
                <div class="step">
                    <div class="step-icon">‚ùì</div>
                    <div class="step-title">The Question</div>
                    <div class="step-desc">Each awakening: "What's your credence the coin landed Heads?"</div>
                </div>
            </div>
        </div>

        <div class="main-grid">
            <div class="simulation-area">
                <div class="scenario-visual">
                    <div class="beauty" id="beautyVisual">
                        <div class="beauty-icon">üë∏</div>
                        <div class="beauty-label" id="beautyStatus">Sleeping...</div>
                    </div>
                    <div class="coin-flip">
                        <div class="coin" id="coinVisual">?</div>
                        <div class="coin-label" id="coinLabel">Flip the coin</div>
                    </div>
                </div>

                <div class="timeline" id="timeline">
                    <div class="day-box" id="sunday">
                        <div class="day-name">Sunday</div>
                        <div class="day-event">Setup</div>
                    </div>
                    <div class="day-box" id="monday">
                        <div class="day-name">Monday</div>
                        <div class="day-event" id="mondayEvent">?</div>
                    </div>
                    <div class="day-box" id="tuesday">
                        <div class="day-name">Tuesday</div>
                        <div class="day-event" id="tuesdayEvent">?</div>
                    </div>
                </div>

                <div class="question-box">
                    <h4>Sleeping Beauty is Asked:</h4>
                    <p>"What is your degree of belief that the coin landed HEADS?"</p>
                </div>
            </div>

            <div class="controls-panel">
                <div class="panel">
                    <h3>Your Position</h3>
                    <div class="position-cards">
                        <div class="position halfer" id="halferPos" onclick="selectPosition('halfer')">
                            <h4><span class="prob-badge">1/2</span> Halfer</h4>
                            <p>The coin is fair. She knew she'd wake up. No new information ‚Üí still 50%!</p>
                        </div>
                        <div class="position thirder" id="thirderPos" onclick="selectPosition('thirder')">
                            <h4><span class="prob-badge">1/3</span> Thirder</h4>
                            <p>There are 3 possible awakening situations. Only 1 has Heads ‚Üí 33%!</p>
                        </div>
                    </div>
                </div>

                <div class="panel">
                    <h3>Run Experiment</h3>
                    <div class="btn-group">
                        <button class="btn btn-run" id="runOnceBtn">Run Once</button>
                        <button class="btn btn-simulate" id="run1000Btn">Run 1000x</button>
                    </div>
                </div>

                <div class="panel">
                    <h3>Statistics</h3>
                    <div class="stats-grid">
                        <div class="stat-box blue">
                            <div class="value" id="headsCount">0</div>
                            <div class="label">Heads Flips</div>
                        </div>
                        <div class="stat-box green">
                            <div class="value" id="tailsCount">0</div>
                            <div class="label">Tails Flips</div>
                        </div>
                        <div class="stat-box yellow">
                            <div class="value" id="totalAwakenings">0</div>
                            <div class="label">Total Awakenings</div>
                        </div>
                        <div class="stat-box purple">
                            <div class="value" id="headsAwakenings">0</div>
                            <div class="label">Heads Awakenings</div>
                        </div>
                    </div>

                    <div class="frequency-display">
                        <div class="freq-label">Fraction of awakenings that are Heads:</div>
                        <div class="freq-bar">
                            <div class="freq-heads" id="freqHeads" style="width: 50%">--</div>
                            <div class="freq-tails" id="freqTails">--</div>
                        </div>
                        <div class="freq-label">Thirders predict: ~33% | Halfers argue this is the wrong question</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="explanation">
            <div class="explanation-card">
                <h3>The Two Arguments</h3>
                <div class="argument-grid">
                    <div class="argument-box halfer">
                        <h4>Halfer (P = 1/2)</h4>
                        <p><strong>Premise:</strong> Sleeping Beauty knew she would be awakened. Being awake provides no new information about the coin.</p>
                        <p><strong>Argument:</strong> Before the experiment, she knew the coin was fair (50/50). When she wakes, she still knows the coin was fair. Nothing has changed ‚Üí P(Heads) = 1/2.</p>
                        <p><strong>Advocate:</strong> David Lewis</p>
                    </div>
                    <div class="argument-box thirder">
                        <h4>Thirder (P = 1/3)</h4>
                        <p><strong>Premise:</strong> There are three equally likely "centered" situations: (Heads, Monday), (Tails, Monday), (Tails, Tuesday).</p>
                        <p><strong>Argument:</strong> Only one of these three involves Heads. By self-locating uncertainty, P(Heads) = 1/3. Long-run frequency confirms this!</p>
                        <p><strong>Advocate:</strong> Adam Elga (majority view)</p>
                    </div>
                </div>
            </div>

            <div class="explanation-card">
                <h3>Why It Matters</h3>
                <p><strong>Anthropic Reasoning:</strong> This puzzle is central to debates about the Doomsday Argument, the Simulation Argument, and fine-tuning in cosmology.</p>
                <p><strong>Self-Locating Belief:</strong> How should rational agents reason about "where" they are in possibility space? Standard probability theory doesn't directly answer this.</p>
                <p><strong>AI Safety:</strong> If we build AI systems that need to reason about their own copies or simulations, they'll face versions of this problem.</p>
            </div>

            <div class="explanation-card">
                <h3>The Key Insight</h3>
                <p>The paradox reveals that there might be <em>two different legitimate questions</em>:</p>
                <p><strong>Question A:</strong> "What is the probability of the coin flip outcome?" ‚Üí 1/2 (the coin is fair)</p>
                <p><strong>Question B:</strong> "Given that I find myself awake, what's the probability this awakening is a Heads-awakening?" ‚Üí 1/3 (frequentist)</p>
                <p>Halfers answer Question A. Thirders answer Question B. Perhaps the paradox is simply about which question Sleeping Beauty is asking!</p>
            </div>
        </div>
    </div>

    <script>
        let stats = {
            headsFlips: 0,
            tailsFlips: 0,
            totalAwakenings: 0,
            headsAwakenings: 0
        };

        let selectedPosition = null;

        function selectPosition(pos) {
            selectedPosition = pos;
            document.getElementById('halferPos').classList.toggle('selected', pos === 'halfer');
            document.getElementById('thirderPos').classList.toggle('selected', pos === 'thirder');
        }

        function runExperiment(updateVisual = true) {
            const isHeads = Math.random() < 0.5;

            if (updateVisual) {
                const coin = document.getElementById('coinVisual');
                const coinLabel = document.getElementById('coinLabel');
                const beauty = document.getElementById('beautyVisual');
                const beautyStatus = document.getElementById('beautyStatus');

                coin.classList.add('flipping');
                setTimeout(() => {
                    coin.classList.remove('flipping');
                    coin.textContent = isHeads ? 'H' : 'T';
                    coinLabel.textContent = isHeads ? 'HEADS!' : 'TAILS!';
                }, 500);

                // Update timeline
                document.getElementById('sunday').classList.add('inactive');
                document.getElementById('monday').classList.add('active');
                document.getElementById('mondayEvent').textContent = 'Awakened!';

                if (isHeads) {
                    document.getElementById('tuesday').classList.add('inactive');
                    document.getElementById('tuesdayEvent').textContent = 'Sleeps through';
                } else {
                    document.getElementById('tuesday').classList.add('active');
                    document.getElementById('tuesdayEvent').textContent = 'Awakened!';
                }

                beauty.classList.add('awake');
                beautyStatus.textContent = 'Awakened!';
            }

            // Update stats
            if (isHeads) {
                stats.headsFlips++;
                stats.totalAwakenings += 1; // 1 awakening for heads
                stats.headsAwakenings += 1;
            } else {
                stats.tailsFlips++;
                stats.totalAwakenings += 2; // 2 awakenings for tails
            }

            updateStatsDisplay();
        }

        function updateStatsDisplay() {
            document.getElementById('headsCount').textContent = stats.headsFlips;
            document.getElementById('tailsCount').textContent = stats.tailsFlips;
            document.getElementById('totalAwakenings').textContent = stats.totalAwakenings;
            document.getElementById('headsAwakenings').textContent = stats.headsAwakenings;

            // Update frequency bar
            if (stats.totalAwakenings > 0) {
                const headsPercent = (stats.headsAwakenings / stats.totalAwakenings) * 100;
                document.getElementById('freqHeads').style.width = headsPercent + '%';
                document.getElementById('freqHeads').textContent = headsPercent.toFixed(1) + '%';
                document.getElementById('freqTails').textContent = (100 - headsPercent).toFixed(1) + '%';
            }
        }

        document.getElementById('runOnceBtn').addEventListener('click', () => {
            // Reset visual state
            document.querySelectorAll('.day-box').forEach(el => {
                el.classList.remove('active', 'inactive');
            });
            document.getElementById('beautyVisual').classList.remove('awake');
            document.getElementById('beautyStatus').textContent = 'Sleeping...';

            runExperiment(true);
        });

        document.getElementById('run1000Btn').addEventListener('click', () => {
            for (let i = 0; i < 1000; i++) {
                runExperiment(false);
            }
            // Update final visual state with last result
            updateStatsDisplay();
        });

        // Initialize
        updateStatsDisplay();
    </script>
</body>
</html>
