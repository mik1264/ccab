<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Barnum/Forer Effect | Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #283618;
            --mystic-purple: #6B5B95;
            --mystic-dark: #4A3F6B;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #f4f1de 50%, #ede8d5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
            line-height: 1.7;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            text-decoration: none;
            color: var(--moss);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
            background: rgba(255,255,255,0.9);
            padding: 10px 16px;
            border-radius: 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .back-link:hover {
            transform: translateX(-3px);
            background: white;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 60px;
        }

        header {
            text-align: center;
            margin-bottom: 50px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            color: var(--moss);
            margin-bottom: 15px;
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--sage);
            font-style: italic;
        }

        /* Phase Container */
        .phase {
            display: none;
        }

        .phase.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Assessment Phase */
        .assessment-card {
            background: linear-gradient(135deg, var(--mystic-purple), var(--mystic-dark));
            border-radius: 25px;
            padding: 40px;
            color: white;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(107, 91, 149, 0.3);
            position: relative;
            overflow: hidden;
        }

        .assessment-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: shimmer 8s linear infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .assessment-card h2 {
            font-family: 'Lora', serif;
            font-size: 2rem;
            margin-bottom: 15px;
            position: relative;
        }

        .mystical-symbol {
            font-size: 4rem;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255,255,255,0.5);
        }

        .assessment-intro {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 25px;
            position: relative;
        }

        /* Quiz Questions */
        .quiz-section {
            background: rgba(255,255,255,0.9);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
        }

        .question-card {
            margin-bottom: 30px;
            padding-bottom: 25px;
            border-bottom: 1px solid rgba(107, 91, 149, 0.2);
        }

        .question-card:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .question-text {
            font-size: 1.1rem;
            color: var(--mystic-dark);
            margin-bottom: 15px;
            font-weight: 600;
        }

        .options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .option-btn {
            padding: 10px 20px;
            border: 2px solid var(--mystic-purple);
            background: white;
            color: var(--mystic-purple);
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .option-btn:hover {
            background: rgba(107, 91, 149, 0.1);
        }

        .option-btn.selected {
            background: var(--mystic-purple);
            color: white;
        }

        .analyze-btn {
            display: block;
            width: 100%;
            padding: 18px 40px;
            font-size: 1.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--mystic-purple), var(--mystic-dark));
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(107, 91, 149, 0.4);
        }

        .analyze-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(107, 91, 149, 0.5);
        }

        .analyze-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Loading Animation */
        .loading-phase {
            text-align: center;
            padding: 60px 20px;
        }

        .crystal-ball {
            font-size: 6rem;
            animation: pulse 1.5s ease-in-out infinite;
            margin-bottom: 30px;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .loading-text {
            font-size: 1.3rem;
            color: var(--mystic-purple);
            font-style: italic;
        }

        .loading-dots::after {
            content: '';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
            100% { content: ''; }
        }

        /* Results Phase */
        .profile-card {
            background: rgba(255,255,255,0.95);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
            border: 3px solid var(--mystic-purple);
        }

        .profile-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(107, 91, 149, 0.2);
        }

        .profile-header h2 {
            font-family: 'Lora', serif;
            font-size: 1.8rem;
            color: var(--mystic-dark);
            margin-bottom: 10px;
        }

        .profile-subtitle {
            color: var(--mystic-purple);
            font-style: italic;
        }

        .statement-card {
            background: linear-gradient(135deg, rgba(107, 91, 149, 0.05), rgba(107, 91, 149, 0.1));
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .statement-text {
            font-size: 1.05rem;
            color: var(--dark-moss);
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .rating-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }

        .rating-label {
            font-size: 0.9rem;
            color: #666;
        }

        .star-rating {
            display: flex;
            gap: 5px;
        }

        .star {
            font-size: 1.8rem;
            cursor: pointer;
            color: #ccc;
            transition: all 0.2s ease;
        }

        .star:hover,
        .star.active {
            color: var(--earth);
            transform: scale(1.1);
        }

        .star.hovered {
            color: var(--earth);
        }

        .submit-ratings-btn {
            display: block;
            width: 100%;
            padding: 18px;
            font-size: 1.1rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--moss), var(--dark-moss));
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .submit-ratings-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(96, 108, 56, 0.4);
        }

        .submit-ratings-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Reveal Phase */
        .reveal-card {
            background: linear-gradient(135deg, #c0392b, #922b21);
            color: white;
            border-radius: 25px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
        }

        .reveal-card h2 {
            font-family: 'Lora', serif;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .your-score {
            font-size: 4rem;
            font-weight: 700;
            margin: 20px 0;
        }

        .score-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .comparison-box {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
        }

        .comparison-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .comparison-bar {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .bar-label {
            width: 100px;
            text-align: right;
            padding-right: 15px;
            font-size: 0.9rem;
        }

        .bar-container {
            flex: 1;
            height: 25px;
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            border-radius: 12px;
            transition: width 1s ease;
        }

        .bar-fill.yours {
            background: var(--earth);
        }

        .bar-fill.forer {
            background: rgba(255,255,255,0.8);
        }

        .bar-value {
            width: 50px;
            padding-left: 15px;
            font-weight: 700;
        }

        /* Explanation Section */
        .explanation-section {
            background: rgba(255,255,255,0.9);
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
        }

        .explanation-section h2 {
            font-family: 'Lora', serif;
            font-size: 1.8rem;
            color: var(--moss);
            margin-bottom: 20px;
        }

        .explanation-section h3 {
            font-family: 'Lora', serif;
            font-size: 1.3rem;
            color: var(--mystic-dark);
            margin: 25px 0 15px;
        }

        .explanation-section p {
            margin-bottom: 15px;
            color: #444;
        }

        .key-point {
            background: linear-gradient(135deg, rgba(188, 108, 37, 0.1), rgba(221, 161, 94, 0.15));
            border-left: 4px solid var(--terracotta);
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin: 20px 0;
        }

        .key-point strong {
            color: var(--terracotta);
        }

        .history-box {
            background: linear-gradient(135deg, var(--moss), var(--dark-moss));
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
        }

        .history-box h3 {
            color: white;
            margin-bottom: 15px;
        }

        .exploiters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .exploiter-card {
            background: rgba(107, 91, 149, 0.1);
            border: 1px solid rgba(107, 91, 149, 0.3);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .exploiter-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .exploiter-card h4 {
            color: var(--mystic-dark);
            margin-bottom: 5px;
        }

        .exploiter-card p {
            font-size: 0.85rem;
            color: #666;
            margin: 0;
        }

        .retry-btn {
            display: block;
            width: 200px;
            margin: 30px auto 0;
            padding: 15px 30px;
            font-size: 1rem;
            font-weight: 600;
            background: var(--mystic-purple);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .retry-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(107, 91, 149, 0.4);
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            .options { flex-direction: column; }
            .rating-row { flex-direction: column; align-items: flex-start; }
            .comparison-bar { flex-direction: column; align-items: flex-start; }
            .bar-label { width: 100%; text-align: left; padding: 0 0 5px 0; }
            .bar-value { padding: 5px 0 0 0; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Paradoxes</a>

    <div class="container">
        <header>
            <h1>The Barnum/Forer Effect</h1>
            <p class="subtitle">Why Your Horoscope Always Seems Accurate</p>
        </header>

        <!-- Phase 1: Assessment -->
        <div class="phase active" id="phase1">
            <div class="assessment-card">
                <div class="mystical-symbol">üîÆ</div>
                <h2>Deep Personality Analysis</h2>
                <p class="assessment-intro">
                    Answer these questions honestly. Our advanced psychological profiling system
                    will generate a <strong>personalized assessment</strong> tailored specifically to you.
                </p>
            </div>

            <div class="quiz-section">
                <div class="question-card">
                    <div class="question-text">1. When making important decisions, you tend to:</div>
                    <div class="options" data-question="1">
                        <button class="option-btn" onclick="selectOption(this, 1)">Trust your gut instinct</button>
                        <button class="option-btn" onclick="selectOption(this, 1)">Analyze all options carefully</button>
                        <button class="option-btn" onclick="selectOption(this, 1)">Seek advice from others</button>
                        <button class="option-btn" onclick="selectOption(this, 1)">It depends on the situation</button>
                    </div>
                </div>

                <div class="question-card">
                    <div class="question-text">2. In social situations, you usually:</div>
                    <div class="options" data-question="2">
                        <button class="option-btn" onclick="selectOption(this, 2)">Enjoy being the center of attention</button>
                        <button class="option-btn" onclick="selectOption(this, 2)">Prefer observing from the sidelines</button>
                        <button class="option-btn" onclick="selectOption(this, 2)">Engage in deep one-on-one conversations</button>
                        <button class="option-btn" onclick="selectOption(this, 2)">Adapt based on the group</button>
                    </div>
                </div>

                <div class="question-card">
                    <div class="question-text">3. Your ideal weekend involves:</div>
                    <div class="options" data-question="3">
                        <button class="option-btn" onclick="selectOption(this, 3)">Adventure and new experiences</button>
                        <button class="option-btn" onclick="selectOption(this, 3)">Relaxation and solitude</button>
                        <button class="option-btn" onclick="selectOption(this, 3)">Spending time with loved ones</button>
                        <button class="option-btn" onclick="selectOption(this, 3)">A mix of activities</button>
                    </div>
                </div>

                <div class="question-card">
                    <div class="question-text">4. When faced with criticism, you typically:</div>
                    <div class="options" data-question="4">
                        <button class="option-btn" onclick="selectOption(this, 4)">Take it personally at first</button>
                        <button class="option-btn" onclick="selectOption(this, 4)">Consider it objectively</button>
                        <button class="option-btn" onclick="selectOption(this, 4)">Dismiss it if unfair</button>
                        <button class="option-btn" onclick="selectOption(this, 4)">Use it to improve</button>
                    </div>
                </div>

                <div class="question-card">
                    <div class="question-text">5. Pick the image that resonates with you most:</div>
                    <div class="options" data-question="5">
                        <button class="option-btn" onclick="selectOption(this, 5)">üåä Ocean waves</button>
                        <button class="option-btn" onclick="selectOption(this, 5)">üî• Crackling fire</button>
                        <button class="option-btn" onclick="selectOption(this, 5)">üå≤ Forest path</button>
                        <button class="option-btn" onclick="selectOption(this, 5)">‚≠ê Night sky</button>
                    </div>
                </div>

                <button class="analyze-btn" id="analyzeBtn" onclick="analyzePersonality()" disabled>
                    Generate My Personality Profile
                </button>
            </div>
        </div>

        <!-- Phase 2: Loading -->
        <div class="phase" id="phase2">
            <div class="loading-phase">
                <div class="crystal-ball">üîÆ</div>
                <p class="loading-text">Analyzing your unique psychological patterns<span class="loading-dots"></span></p>
            </div>
        </div>

        <!-- Phase 3: Profile Rating -->
        <div class="phase" id="phase3">
            <div class="profile-card">
                <div class="profile-header">
                    <h2>Your Personalized Personality Profile</h2>
                    <p class="profile-subtitle">Based on your unique response patterns</p>
                </div>

                <div id="statementsContainer"></div>

                <button class="submit-ratings-btn" id="submitRatingsBtn" onclick="submitRatings()" disabled>
                    Submit My Ratings
                </button>
            </div>
        </div>

        <!-- Phase 4: Reveal -->
        <div class="phase" id="phase4">
            <div class="reveal-card">
                <h2>üé≠ The Truth Revealed</h2>
                <p>Your average accuracy rating was:</p>
                <div class="your-score" id="yourScore">4.2</div>
                <p class="score-label">out of 5.0</p>

                <div class="comparison-box">
                    <div class="comparison-title">How you compare to Forer's 1948 students:</div>
                    <div class="comparison-bar">
                        <div class="bar-label">Your Rating</div>
                        <div class="bar-container">
                            <div class="bar-fill yours" id="yourBar" style="width: 0%"></div>
                        </div>
                        <div class="bar-value" id="yourBarVal">0.0</div>
                    </div>
                    <div class="comparison-bar">
                        <div class="bar-label">Forer's Class</div>
                        <div class="bar-container">
                            <div class="bar-fill forer" style="width: 86%"></div>
                        </div>
                        <div class="bar-value">4.3</div>
                    </div>
                </div>
            </div>

            <div class="explanation-section">
                <h2>You've Been Barnum'd!</h2>

                <div class="key-point">
                    <strong>Here's the secret:</strong> Every single person who takes this assessment receives
                    <em>the exact same personality profile</em>. Those "personalized" statements? They're
                    Bertram Forer's original 13 statements from 1948‚Äîcopied from a newsstand astrology book.
                </div>

                <h3>The 1948 Experiment</h3>
                <p>
                    Psychologist <strong>Bertram Forer</strong> gave his 39 psychology students a fake personality
                    test called the "Diagnostic Interest Blank." A week later, he handed each student what they
                    believed was their unique personality profile. In reality, everyone received the identical
                    13 statements you just rated.
                </p>
                <p>
                    The average rating? <strong>4.3 out of 5</strong>. Students were convinced their generic
                    descriptions were remarkably accurate‚Äîtailored specifically to them.
                </p>

                <div class="history-box">
                    <h3>Why "Barnum" Effect?</h3>
                    <p>
                        In 1956, psychologist Paul Meehl named the phenomenon after showman <strong>P.T. Barnum</strong>,
                        who allegedly said, "We've got something for everyone." Barnum statements are vague enough
                        that anyone can project their own experiences onto them.
                    </p>
                </div>

                <h3>Why It Works</h3>
                <p>The statements exploit several psychological vulnerabilities:</p>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>"At times" phrasing</strong> ‚Äî "At times you doubt yourself" applies to everyone</li>
                    <li><strong>Double-headed descriptions</strong> ‚Äî "Disciplined outside, insecure inside" covers both possibilities</li>
                    <li><strong>Base rate fallacy</strong> ‚Äî Traits common to most humans feel uniquely personal</li>
                    <li><strong>Confirmation bias</strong> ‚Äî We remember hits, forget misses</li>
                    <li><strong>Flattery</strong> ‚Äî "Unused potential" appeals to everyone's ego</li>
                </ul>

                <h3>Who Exploits This Effect?</h3>
                <div class="exploiters-grid">
                    <div class="exploiter-card">
                        <div class="exploiter-icon">‚ôà</div>
                        <h4>Horoscopes</h4>
                        <p>Vague predictions that "fit" any reader</p>
                    </div>
                    <div class="exploiter-card">
                        <div class="exploiter-icon">üîÆ</div>
                        <h4>Psychics</h4>
                        <p>Cold reading with Barnum statements</p>
                    </div>
                    <div class="exploiter-card">
                        <div class="exploiter-icon">üé¥</div>
                        <h4>Fortune Tellers</h4>
                        <p>Tarot interpretations that apply to all</p>
                    </div>
                    <div class="exploiter-card">
                        <div class="exploiter-icon">üìä</div>
                        <h4>Pop Quizzes</h4>
                        <p>BuzzFeed-style personality tests</p>
                    </div>
                    <div class="exploiter-card">
                        <div class="exploiter-icon">ü§î</div>
                        <h4>Graphology</h4>
                        <p>Handwriting "analysis"</p>
                    </div>
                    <div class="exploiter-card">
                        <div class="exploiter-icon">ü©∫</div>
                        <h4>Some Therapy</h4>
                        <p>Unvalidated assessment tools</p>
                    </div>
                </div>

                <h3>How to Protect Yourself</h3>
                <p>
                    Next time a personality reading feels uncannily accurate, ask: <em>"Would this apply to
                    most people?"</em> If yes, you're seeing the Barnum Effect in action. Demand specific,
                    falsifiable predictions rather than vague affirmations.
                </p>

                <button class="retry-btn" onclick="resetExperiment()">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        // Forer's original 13 statements (adapted from 1948 experiment)
        const forerStatements = [
            "You have a great need for other people to like and admire you.",
            "You have a tendency to be critical of yourself.",
            "You have a great deal of unused capacity which you have not turned to your advantage.",
            "While you have some personality weaknesses, you are generally able to compensate for them.",
            "Your sexual adjustment has presented some challenges for you.",
            "Disciplined and self-controlled on the outside, you tend to be worrisome and insecure inside.",
            "At times you have serious doubts as to whether you have made the right decision or done the right thing.",
            "You prefer a certain amount of change and variety and become dissatisfied when hemmed in by restrictions and limitations.",
            "You pride yourself as an independent thinker and do not accept others' statements without satisfactory proof.",
            "You have found it unwise to be too frank in revealing yourself to others.",
            "At times you are extroverted, affable, and sociable, while at other times you are introverted, wary, and reserved.",
            "Some of your aspirations tend to be pretty unrealistic.",
            "Security is one of your major goals in life."
        ];

        let answers = {};
        let ratings = {};

        function selectOption(btn, questionNum) {
            // Remove selected from siblings
            const options = btn.parentElement.querySelectorAll('.option-btn');
            options.forEach(opt => opt.classList.remove('selected'));

            // Select this one
            btn.classList.add('selected');
            answers[questionNum] = btn.textContent;

            // Check if all answered
            checkAllAnswered();
        }

        function checkAllAnswered() {
            const allAnswered = Object.keys(answers).length >= 5;
            document.getElementById('analyzeBtn').disabled = !allAnswered;
        }

        function analyzePersonality() {
            // Show loading phase
            document.getElementById('phase1').classList.remove('active');
            document.getElementById('phase2').classList.add('active');

            // Fake analysis delay
            setTimeout(() => {
                showProfile();
            }, 3000);
        }

        function showProfile() {
            document.getElementById('phase2').classList.remove('active');
            document.getElementById('phase3').classList.add('active');

            // Build statements
            const container = document.getElementById('statementsContainer');
            container.innerHTML = '';

            forerStatements.forEach((statement, index) => {
                const card = document.createElement('div');
                card.className = 'statement-card';
                card.innerHTML = `
                    <div class="statement-text">${index + 1}. ${statement}</div>
                    <div class="rating-row">
                        <div class="rating-label">How accurate is this for you?</div>
                        <div class="star-rating" data-statement="${index}">
                            ${[1,2,3,4,5].map(star => `
                                <span class="star" data-value="${star}" onclick="rateStatement(${index}, ${star})"
                                      onmouseenter="hoverStars(${index}, ${star})"
                                      onmouseleave="unhoverStars(${index})">‚òÖ</span>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function hoverStars(statementIndex, value) {
            const container = document.querySelector(`.star-rating[data-statement="${statementIndex}"]`);
            const stars = container.querySelectorAll('.star');
            stars.forEach((star, i) => {
                if (i < value) {
                    star.classList.add('hovered');
                } else {
                    star.classList.remove('hovered');
                }
            });
        }

        function unhoverStars(statementIndex) {
            const container = document.querySelector(`.star-rating[data-statement="${statementIndex}"]`);
            const stars = container.querySelectorAll('.star');
            stars.forEach((star, i) => {
                star.classList.remove('hovered');
            });
        }

        function rateStatement(statementIndex, value) {
            ratings[statementIndex] = value;

            // Update visual
            const container = document.querySelector(`.star-rating[data-statement="${statementIndex}"]`);
            const stars = container.querySelectorAll('.star');
            stars.forEach((star, i) => {
                if (i < value) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });

            // Check if all rated
            checkAllRated();
        }

        function checkAllRated() {
            const allRated = Object.keys(ratings).length >= forerStatements.length;
            document.getElementById('submitRatingsBtn').disabled = !allRated;
        }

        function submitRatings() {
            // Calculate average
            const values = Object.values(ratings);
            const average = values.reduce((a, b) => a + b, 0) / values.length;

            // Show reveal
            document.getElementById('phase3').classList.remove('active');
            document.getElementById('phase4').classList.add('active');

            // Animate score
            document.getElementById('yourScore').textContent = average.toFixed(1);
            document.getElementById('yourBarVal').textContent = average.toFixed(1);

            setTimeout(() => {
                document.getElementById('yourBar').style.width = (average / 5 * 100) + '%';
            }, 300);
        }

        function resetExperiment() {
            answers = {};
            ratings = {};

            // Reset UI
            document.querySelectorAll('.option-btn').forEach(btn => btn.classList.remove('selected'));
            document.getElementById('analyzeBtn').disabled = true;
            document.getElementById('submitRatingsBtn').disabled = true;

            // Show phase 1
            document.getElementById('phase4').classList.remove('active');
            document.getElementById('phase1').classList.add('active');

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
    <script src="../assets/js/enhance.js" defer></script>
</body>
</html>
