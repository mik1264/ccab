<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blindsight - Surprising Paradoxes</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --sage: #8A9A5B;
            --moss: #606C38;
            --earth: #DDA15E;
            --cream: #FEFAE0;
            --terracotta: #BC6C25;
            --dark-moss: #3d4423;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, #F4F1DE 50%, #EDE8D5 100%);
            min-height: 100vh;
            color: var(--dark-moss);
            line-height: 1.7;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--moss);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            transition: all 0.3s ease;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .back-link:hover {
            background: var(--moss);
            color: white;
            transform: translateX(-5px);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 20px 40px;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: 2.8rem;
            color: var(--moss);
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: var(--terracotta);
            font-size: 1.2rem;
            margin-bottom: 40px;
            font-weight: 500;
        }

        .intro-card {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        .intro-card h2 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        .experiment-phase {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .experiment-phase.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .btn {
            display: inline-block;
            padding: 15px 35px;
            background: var(--moss);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            font-family: 'Nunito', sans-serif;
        }

        .btn:hover {
            background: var(--dark-moss);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(96, 108, 56, 0.3);
        }

        .btn-secondary {
            background: var(--terracotta);
        }

        .btn-secondary:hover {
            background: #a55a1f;
        }

        .visual-field {
            width: 100%;
            max-width: 600px;
            height: 400px;
            margin: 30px auto;
            background: #1a1a2e;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        .blind-field {
            position: absolute;
            top: 0;
            left: 0;
            width: 50%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                #1a1a2e,
                #1a1a2e 10px,
                #252544 10px,
                #252544 20px
            );
            opacity: 0.8;
        }

        .blind-label {
            position: absolute;
            top: 10px;
            left: 10px;
            color: rgba(255,255,255,0.5);
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        .sighted-label {
            position: absolute;
            top: 10px;
            right: 10px;
            color: rgba(255,255,255,0.5);
            font-size: 0.8rem;
            text-transform: uppercase;
        }

        .fixation-cross {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ff6b6b;
            font-size: 2.5rem;
            font-weight: bold;
            z-index: 10;
        }

        .stimulus {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #44ff44;
            opacity: 0;
            transition: opacity 0.1s;
        }

        .stimulus.visible {
            opacity: 1;
        }

        .response-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 25px 0;
        }

        .location-btn {
            padding: 15px 30px;
            border: 2px solid var(--moss);
            background: transparent;
            color: var(--moss);
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Nunito', sans-serif;
            min-width: 120px;
        }

        .location-btn:hover {
            background: var(--moss);
            color: white;
        }

        .location-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .trial-info {
            text-align: center;
            margin-bottom: 20px;
        }

        .trial-counter {
            font-size: 1.1rem;
            color: var(--terracotta);
            font-weight: 600;
        }

        .instruction-text {
            text-align: center;
            margin: 20px 0;
            font-size: 1.1rem;
        }

        .awareness-section {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }

        .awareness-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .awareness-btn {
            padding: 12px 25px;
            border: 2px solid var(--moss);
            background: transparent;
            color: var(--moss);
            border-radius: 10px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Nunito', sans-serif;
        }

        .awareness-btn:hover {
            background: var(--moss);
            color: white;
        }

        .awareness-btn.selected {
            background: var(--moss);
            color: white;
        }

        .results-card {
            background: linear-gradient(135deg, var(--moss) 0%, var(--dark-moss) 100%);
            color: white;
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            text-align: center;
        }

        .results-card h2 {
            font-family: 'Lora', serif;
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 15px;
            margin: 25px 0;
        }

        .stat-box {
            background: rgba(255,255,255,0.15);
            padding: 20px 15px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.2rem;
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        .stat-box.highlight {
            background: rgba(221, 161, 94, 0.4);
            border: 2px solid var(--earth);
        }

        .science-section {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
        }

        .science-section h3 {
            font-family: 'Lora', serif;
            color: var(--moss);
            margin-bottom: 15px;
        }

        blockquote {
            border-left: 4px solid var(--earth);
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: var(--terracotta);
        }

        .brain-diagram {
            background: #f8f6f1;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .pathway {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .pathway-box {
            background: var(--sage);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .pathway-arrow {
            color: var(--terracotta);
            font-weight: bold;
        }

        .pathway-box.damaged {
            background: #ff6b6b;
            text-decoration: line-through;
        }

        .pathway-box.intact {
            background: var(--moss);
        }

        .case-study {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .case-study h4 {
            color: var(--dark-moss);
            margin-bottom: 10px;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .comparison-bar {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .bar-label {
            width: 150px;
            font-weight: 600;
            font-size: 0.9rem;
            text-align: right;
        }

        .bar-container {
            flex: 1;
            height: 30px;
            background: rgba(138, 154, 91, 0.2);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 1s ease;
        }

        .bar-value {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-weight: 700;
            font-size: 0.9rem;
        }

        .chance-line {
            position: absolute;
            left: 25%;
            top: 0;
            height: 100%;
            width: 2px;
            background: var(--terracotta);
        }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            .visual-field { height: 300px; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">
        <span>←</span> Back to Paradoxes
    </a>

    <div class="container">
        <h1>Blindsight</h1>
        <p class="subtitle">Seeing Without Seeing</p>

        <!-- Phase 1: Introduction -->
        <div id="phase1" class="experiment-phase active">
            <div class="intro-card">
                <h2>The Blind Who Can See</h2>
                <p>In 1974, psychologist <strong>Lawrence Weiskrantz</strong> documented something seemingly impossible: patients with damage to the primary visual cortex (V1) who were clinically <strong>blind</strong> could still accurately respond to visual stimuli they claimed <strong>not to see</strong>.</p>
                <p>When asked to "guess" where a light appeared in their blind field, they performed far above chance—yet insisted they saw nothing.</p>
                <p>He called this phenomenon <strong>blindsight</strong>.</p>
            </div>

            <div class="case-study">
                <h4>Patient DB: The First Blindsight Patient</h4>
                <p>DB had his right primary visual cortex surgically removed due to a tumor. This left him completely blind in his left visual field—he reported seeing nothing there at all.</p>
                <p>Yet when researchers showed stimuli in his blind field and asked him to "guess":</p>
                <ul style="margin: 15px 0; padding-left: 25px;">
                    <li>He could <strong>point to the location</strong> of lights</li>
                    <li>He could <strong>guess the orientation</strong> of lines</li>
                    <li>He could <strong>distinguish shapes</strong> (X vs O)</li>
                    <li>He could even detect <strong>emotional expressions</strong> on faces</li>
                </ul>
                <p>All while insisting: <em>"I don't see anything. I'm just guessing."</em></p>
            </div>

            <div class="science-section">
                <h3>Experience a Simplified Simulation</h3>
                <p>You'll see stimuli flash either in the "blind" field (left) or "sighted" field (right). Your task:</p>
                <ol style="margin: 15px 0; padding-left: 25px;">
                    <li>Keep your eyes on the central fixation cross</li>
                    <li>Report whether the flash was LEFT or RIGHT</li>
                    <li>Rate your awareness: "Saw it clearly" vs "Just guessing"</li>
                </ol>
                <p><em>Note: This simulation uses brief flashes to approximate the experience. Real blindsight patients have permanent blind areas.</em></p>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="startExperiment()">Begin Simulation</button>
            </div>
        </div>

        <!-- Phase 2: Instructions -->
        <div id="phase2" class="experiment-phase">
            <div class="intro-card" style="text-align: center;">
                <h2>Keep Your Eyes on the Cross</h2>
                <p>A green flash will appear briefly on either the LEFT or RIGHT side.</p>
                <p>The left side represents the "blind field" — flashes there will be <strong>very brief and dim</strong>.</p>
                <p>After each flash, indicate the location and how aware you were.</p>
            </div>

            <div class="visual-field">
                <div class="blind-field"></div>
                <div class="blind-label">Blind Field</div>
                <div class="sighted-label">Sighted Field</div>
                <div class="fixation-cross">+</div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="startTrials()">Start Trials</button>
            </div>
        </div>

        <!-- Phase 3: Trial -->
        <div id="phase3" class="experiment-phase">
            <div class="trial-info">
                <div class="trial-counter">Trial <span id="trialNum">1</span> of 20</div>
            </div>

            <div class="visual-field" id="stimulusArea">
                <div class="blind-field"></div>
                <div class="blind-label">Blind Field</div>
                <div class="sighted-label">Sighted Field</div>
                <div class="fixation-cross">+</div>
                <div class="stimulus" id="stimulus"></div>
            </div>

            <div id="responseArea" style="display: none;">
                <div class="instruction-text">Where did the flash appear?</div>
                <div class="response-buttons">
                    <button class="location-btn" onclick="recordLocation('left')">← LEFT</button>
                    <button class="location-btn" onclick="recordLocation('right')">RIGHT →</button>
                </div>
            </div>

            <div id="awarenessArea" style="display: none;">
                <div class="awareness-section">
                    <p style="font-weight: 600; color: var(--moss);">How aware were you of the flash?</p>
                    <div class="awareness-buttons">
                        <button class="awareness-btn" onclick="recordAwareness(4)">Saw clearly</button>
                        <button class="awareness-btn" onclick="recordAwareness(3)">Glimpsed it</button>
                        <button class="awareness-btn" onclick="recordAwareness(2)">Faint feeling</button>
                        <button class="awareness-btn" onclick="recordAwareness(1)">Just guessing</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Phase 4: Results -->
        <div id="phase4" class="experiment-phase">
            <div class="results-card">
                <h2>Your Blindsight Simulation Results</h2>
                <div class="stat-grid">
                    <div class="stat-box">
                        <div class="stat-number" id="sightedAccuracy">?</div>
                        <div class="stat-label">"Sighted" Field Accuracy</div>
                    </div>
                    <div class="stat-box highlight">
                        <div class="stat-number" id="blindAccuracy">?</div>
                        <div class="stat-label">"Blind" Field Accuracy</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="guessingAccuracy">?</div>
                        <div class="stat-label">Accuracy When "Guessing"</div>
                    </div>
                </div>
            </div>

            <div class="science-section">
                <h3>The Key Finding</h3>
                <p id="resultInsight"></p>
                <div style="margin: 25px 0;">
                    <div class="comparison-bar">
                        <div class="bar-label">Sighted Field:</div>
                        <div class="bar-container">
                            <div class="bar-fill" id="sightedBar" style="background: var(--moss); width: 0%"></div>
                            <span class="bar-value" id="sightedVal">0%</span>
                        </div>
                    </div>
                    <div class="comparison-bar">
                        <div class="bar-label">"Blind" Field:</div>
                        <div class="bar-container">
                            <div class="chance-line"></div>
                            <div class="bar-fill" id="blindBar" style="background: var(--terracotta); width: 0%"></div>
                            <span class="bar-value" id="blindVal">0%</span>
                        </div>
                    </div>
                    <div class="comparison-bar">
                        <div class="bar-label">Chance Level:</div>
                        <div class="bar-container">
                            <div class="bar-fill" style="background: #999; width: 50%"></div>
                            <span class="bar-value">50%</span>
                        </div>
                    </div>
                </div>
                <p style="text-align: center; color: var(--terracotta); font-size: 0.9rem;">Line indicates chance level (50%). Above this = above-chance performance.</p>
            </div>

            <div class="science-section">
                <h3>How Is This Possible?</h3>
                <p>The primary visual cortex (V1) is essential for <strong>conscious</strong> visual perception. But it's not the only pathway:</p>

                <div class="brain-diagram">
                    <p style="font-weight: 600; margin-bottom: 15px;">Normal Vision Pathway:</p>
                    <div class="pathway">
                        <span class="pathway-box">Eye (Retina)</span>
                        <span class="pathway-arrow">→</span>
                        <span class="pathway-box">LGN</span>
                        <span class="pathway-arrow">→</span>
                        <span class="pathway-box">V1 (Primary Visual Cortex)</span>
                        <span class="pathway-arrow">→</span>
                        <span class="pathway-box">Conscious Perception</span>
                    </div>

                    <p style="font-weight: 600; margin: 20px 0 15px;">Blindsight Pathway (V1 Damaged):</p>
                    <div class="pathway">
                        <span class="pathway-box">Eye (Retina)</span>
                        <span class="pathway-arrow">→</span>
                        <span class="pathway-box intact">Superior Colliculus</span>
                        <span class="pathway-arrow">→</span>
                        <span class="pathway-box intact">Pulvinar</span>
                        <span class="pathway-arrow">→</span>
                        <span class="pathway-box intact">Higher Visual Areas</span>
                    </div>
                    <p style="margin-top: 15px; font-size: 0.9rem;">This "shortcut" bypasses V1 entirely, allowing visual processing without conscious awareness.</p>
                </div>
            </div>

            <div class="case-study">
                <h4>Patient TN: Walking Through Obstacles While "Completely Blind"</h4>
                <p>TN suffered two strokes that destroyed V1 in both hemispheres—rendering him completely cortically blind. He could see <strong>nothing</strong> consciously.</p>
                <p>Yet when researchers asked him to walk down a hallway filled with obstacles (chairs, boxes, trash cans) without his cane:</p>
                <blockquote>
                    "He successfully navigated the full length of the hallway without hitting a single object, at one point even hugging the wall to get past a trashcan."
                </blockquote>
                <p>TN had no idea how he did it. He was "just walking."</p>
            </div>

            <div class="science-section">
                <h3>What Blindsight Reveals About Consciousness</h3>
                <p>Blindsight is one of the most important phenomena in consciousness research because it demonstrates:</p>
                <ul style="margin: 15px 0; padding-left: 25px;">
                    <li><strong>Vision and visual awareness are separable</strong> — you can process visual information without being aware of it</li>
                    <li><strong>Consciousness requires specific brain areas</strong> — V1 appears necessary for visual consciousness specifically</li>
                    <li><strong>"Seeing" is more than information processing</strong> — blindsight patients have the information but lack the subjective experience</li>
                </ul>
                <blockquote>
                    "Blindsight demonstrates that there is more to vision than meets the eye—specifically, more than meets conscious awareness."
                    <br><br>— Weiskrantz, 1997
                </blockquote>
            </div>

            <div class="science-section">
                <h3>Types of Blindsight</h3>
                <ul style="margin: 15px 0; padding-left: 25px;">
                    <li><strong>Type 1 (Pure Blindsight)</strong>: No awareness whatsoever. Patients are genuinely surprised by their above-chance performance.</li>
                    <li><strong>Type 2</strong>: Patients report vague "feelings" — something like a shadow, movement, or presence — but no actual visual experience. DB described having "feelings" that something was there.</li>
                </ul>
            </div>

            <div class="btn-group">
                <button class="btn" onclick="resetExperiment()">Try Again</button>
            </div>
        </div>
    </div>

    <script>
        let trials = [];
        let currentTrial = 0;
        let trialData = [];
        let currentLocation = null;
        let stimulusTimeout = null;

        const TOTAL_TRIALS = 20;
        const BLIND_DURATION = 50;  // Very brief for "blind" field
        const SIGHTED_DURATION = 300; // Longer for "sighted" field
        const BLIND_OPACITY = 0.4;
        const SIGHTED_OPACITY = 1.0;

        function startExperiment() {
            showPhase(2);
        }

        function startTrials() {
            // Generate trial sequence: 10 left (blind), 10 right (sighted), randomized
            trials = [];
            for (let i = 0; i < 10; i++) {
                trials.push('left');
                trials.push('right');
            }
            // Shuffle
            trials.sort(() => Math.random() - 0.5);

            currentTrial = 0;
            trialData = [];
            showPhase(3);
            setTimeout(runTrial, 1000);
        }

        function runTrial() {
            document.getElementById('trialNum').textContent = currentTrial + 1;
            document.getElementById('responseArea').style.display = 'none';
            document.getElementById('awarenessArea').style.display = 'none';

            const side = trials[currentTrial];
            currentLocation = side;

            const stimulus = document.getElementById('stimulus');
            const container = document.getElementById('stimulusArea');
            const containerRect = container.getBoundingClientRect();

            // Position stimulus
            const y = 30 + Math.random() * 40; // 30-70% from top
            let x;
            if (side === 'left') {
                x = 10 + Math.random() * 30; // 10-40% (left side)
            } else {
                x = 55 + Math.random() * 35; // 55-90% (right side)
            }

            stimulus.style.top = y + '%';
            stimulus.style.left = x + '%';

            // Set duration and opacity based on side
            const duration = side === 'left' ? BLIND_DURATION : SIGHTED_DURATION;
            const opacity = side === 'left' ? BLIND_OPACITY : SIGHTED_OPACITY;

            // Brief delay, then show stimulus
            setTimeout(() => {
                stimulus.style.opacity = opacity;
                stimulus.classList.add('visible');

                setTimeout(() => {
                    stimulus.classList.remove('visible');
                    stimulus.style.opacity = 0;

                    // Short delay, then show response options
                    setTimeout(() => {
                        document.getElementById('responseArea').style.display = 'block';
                    }, 200);
                }, duration);
            }, 500 + Math.random() * 1000); // Random delay 500-1500ms
        }

        function recordLocation(response) {
            trialData[currentTrial] = {
                actualSide: currentLocation,
                response: response,
                correct: response === currentLocation
            };

            document.getElementById('responseArea').style.display = 'none';
            document.getElementById('awarenessArea').style.display = 'block';
        }

        function recordAwareness(level) {
            trialData[currentTrial].awareness = level;

            currentTrial++;
            if (currentTrial < TOTAL_TRIALS) {
                setTimeout(runTrial, 500);
            } else {
                showResults();
            }
        }

        function showResults() {
            // Calculate stats
            const leftTrials = trialData.filter(t => t.actualSide === 'left');
            const rightTrials = trialData.filter(t => t.actualSide === 'right');

            const leftCorrect = leftTrials.filter(t => t.correct).length;
            const rightCorrect = rightTrials.filter(t => t.correct).length;

            const leftAccuracy = Math.round(leftCorrect / leftTrials.length * 100);
            const rightAccuracy = Math.round(rightCorrect / rightTrials.length * 100);

            // Accuracy when "just guessing" (awareness = 1)
            const guessingTrials = trialData.filter(t => t.awareness === 1);
            const guessingCorrect = guessingTrials.filter(t => t.correct).length;
            const guessingAccuracy = guessingTrials.length > 0 ?
                Math.round(guessingCorrect / guessingTrials.length * 100) : 'N/A';

            document.getElementById('sightedAccuracy').textContent = rightAccuracy + '%';
            document.getElementById('blindAccuracy').textContent = leftAccuracy + '%';
            document.getElementById('guessingAccuracy').textContent =
                typeof guessingAccuracy === 'number' ? guessingAccuracy + '%' : guessingAccuracy;

            // Insight text
            let insight = '';
            if (leftAccuracy > 60) {
                insight = `Your "blind field" accuracy was ${leftAccuracy}%—well above the 50% chance level! This mirrors what blindsight patients experience: accurate responses to stimuli they claim not to see. Even when the flash was very brief and dim, you extracted location information.`;
            } else if (leftAccuracy > 50) {
                insight = `Your "blind field" accuracy was ${leftAccuracy}%, slightly above chance. Real blindsight patients often score 70-90% on forced-choice tasks in their blind field. The brief, dim flashes in this simulation are much harder to "not see" than true cortical blindness.`;
            } else {
                insight = `Your "blind field" accuracy was at or below chance level. This suggests you genuinely couldn't detect the brief, dim flashes—which is actually closer to what we'd expect without blindsight! Real blindsight requires specific neural damage that preserves non-conscious pathways.`;
            }

            if (guessingTrials.length > 0 && typeof guessingAccuracy === 'number' && guessingAccuracy > 60) {
                insight += ` Notably, even when you reported "just guessing," you were ${guessingAccuracy}% accurate—demonstrating non-conscious visual processing!`;
            }

            document.getElementById('resultInsight').textContent = insight;

            // Update bars
            setTimeout(() => {
                document.getElementById('sightedBar').style.width = rightAccuracy + '%';
                document.getElementById('sightedVal').textContent = rightAccuracy + '%';
                document.getElementById('blindBar').style.width = leftAccuracy + '%';
                document.getElementById('blindVal').textContent = leftAccuracy + '%';
            }, 500);

            showPhase(4);
        }

        function showPhase(num) {
            document.querySelectorAll('.experiment-phase').forEach(p => p.classList.remove('active'));
            document.getElementById('phase' + num).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetExperiment() {
            trials = [];
            currentTrial = 0;
            trialData = [];
            showPhase(1);
        }
    </script>
</body>
</html>
