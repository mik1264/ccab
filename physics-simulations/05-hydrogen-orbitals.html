<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hydrogen Atom Orbitals Visualization</title>
    <style>
        * { margin: 0; padding: 0; }
        body { background: #000; color: #e0e0e0; font-family: sans-serif; overflow: hidden; }
        #canvas { display: block; }
        .info { position: fixed; top: 20px; left: 20px; background: rgba(26, 26, 46, 0.95); padding: 20px; border-radius: 10px; max-width: 300px; }
        h1 { font-size: 1.3em; color: #64ffda; margin-bottom: 10px; }
        p { font-size: 0.85em; color: #c0c0c0; line-height: 1.6; }
        .controls { position: fixed; top: 20px; right: 20px; background: rgba(26, 26, 46, 0.95); padding: 20px; border-radius: 10px; }
        select { width: 100%; padding: 8px; background: #2a2a3a; color: #e0e0e0; border: 1px solid #667eea; border-radius: 5px; margin: 5px 0; }
    </style>
</head>
<body>
    <div class="info">
        <h1>Hydrogen Orbitals</h1>
        <p>Electron probability density for hydrogen atom. Each orbital represents a solution to the Schrödinger equation.</p>
    </div>
    <div class="controls">
        <select id="orbitalSelect">
            <option value="1s">1s - Ground State</option>
            <option value="2s">2s - First Excited</option>
            <option value="2p">2p - Angular Momentum</option>
            <option value="3d">3d - Complex Shape</option>
        </select>
    </div>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const cx = canvas.width / 2, cy = canvas.height / 2;
        let currentOrbital = '1s', angle = 0;

        function wavefunction(r, theta, phi, orbital) {
            const a0 = 50; // Bohr radius (scaled for visualization)

            switch (orbital) {
                case '1s':
                    return 2 * Math.exp(-r / a0) / Math.sqrt(a0 ** 3);
                case '2s':
                    return Math.exp(-r / (2 * a0)) * (2 - r / a0) / (4 * Math.sqrt(2 * a0 ** 3));
                case '2p':
                    return Math.exp(-r / (2 * a0)) * r / a0 * Math.cos(theta) / (4 * Math.sqrt(6 * a0 ** 3));
                case '3d':
                    const rho = r / a0;
                    return Math.exp(-rho / 3) * rho ** 2 * (3 * Math.cos(theta) ** 2 - 1) / (81 * Math.sqrt(30 * a0 ** 3));
                default:
                    return 0;
            }
        }

        function render() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const points = 5000;
            for (let i = 0; i < points; i++) {
                // Sample points with probability proportional to |ψ|²
                const r = Math.random() * 300;
                const theta = Math.acos(2 * Math.random() - 1);
                const phi = Math.random() * Math.PI * 2;

                const psi = wavefunction(r, theta, phi, currentOrbital);
                const prob = psi ** 2;

                if (Math.random() < prob * 1e6) {
                    // 3D to 2D projection with rotation
                    const x = r * Math.sin(theta) * Math.cos(phi + angle);
                    const y = r * Math.sin(theta) * Math.sin(phi + angle);
                    const z = r * Math.cos(theta);

                    const rotY = y * Math.cos(angle * 0.5) - z * Math.sin(angle * 0.5);
                    const rotZ = y * Math.sin(angle * 0.5) + z * Math.cos(angle * 0.5);

                    const screenX = cx + x;
                    const screenY = cy + rotY;
                    const brightness = Math.max(0, (rotZ + 300) / 600);

                    ctx.fillStyle = `rgba(100, 255, 218, ${brightness * 0.3})`;
                    ctx.fillRect(screenX, screenY, 2, 2);
                }
            }

            angle += 0.01;
        }

        function animate() {
            render();
            requestAnimationFrame(animate);
        }

        document.getElementById('orbitalSelect').addEventListener('change', (e) => {
            currentOrbital = e.target.value;
        });

        animate();
    </script>
</body>
</html>
