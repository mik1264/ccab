<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hertzsprung-Russell Diagram Navigator - CCAB</title>
    <meta name="description" content="Interactive HR Diagram showing star classification by temperature and luminosity. Explore main sequence, giants, supergiants, and white dwarfs.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
            min-height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: #e8e6e1;
            overflow: hidden;
        }

        .back-link {
            position: fixed;
            top: 15px;
            left: 15px;
            padding: 10px 18px;
            background: rgba(0, 0, 0, 0.6);
            color: #fbbf24;
            text-decoration: none;
            border-radius: 8px;
            font-size: 14px;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(251, 191, 36, 0.3);
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: rgba(251, 191, 36, 0.2);
            transform: translateX(-4px);
        }

        #container {
            display: flex;
            height: 100vh;
            padding: 20px;
            gap: 20px;
        }

        #diagram-container {
            flex: 1;
            position: relative;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        #info-panel {
            width: 320px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            overflow-y: auto;
            margin-top: 50px;
        }

        h1 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: #fbbf24;
        }

        h2 {
            font-size: 1rem;
            margin: 15px 0 10px;
            color: #fbbf24;
        }

        .description {
            font-size: 0.85rem;
            line-height: 1.6;
            color: #aaa;
            margin-bottom: 15px;
        }

        #star-info {
            background: rgba(251, 191, 36, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        #star-info h3 {
            color: #fbbf24;
            margin-bottom: 10px;
        }

        #star-info p {
            font-size: 0.85rem;
            margin: 5px 0;
            color: #ddd;
        }

        .star-preview {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 10px auto;
            box-shadow: 0 0 30px currentColor;
        }

        .legend {
            display: grid;
            gap: 8px;
            margin-top: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.8rem;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .legend-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .legend-item.active {
            background: rgba(251, 191, 36, 0.2);
            border: 1px solid rgba(251, 191, 36, 0.4);
        }

        .legend-color {
            width: 14px;
            height: 14px;
            border-radius: 50%;
        }

        .controls {
            margin-top: 15px;
        }

        .control-group {
            margin-bottom: 12px;
        }

        .control-group label {
            display: block;
            font-size: 0.8rem;
            margin-bottom: 5px;
            color: #aaa;
        }

        input[type="range"] {
            width: 100%;
            accent-color: #fbbf24;
        }

        .control-value {
            font-size: 0.75rem;
            color: #fbbf24;
            float: right;
        }

        button {
            background: rgba(251, 191, 36, 0.2);
            border: 1px solid rgba(251, 191, 36, 0.4);
            color: #fbbf24;
            padding: 10px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        button:hover {
            background: rgba(251, 191, 36, 0.3);
        }

        .spectral-classes {
            display: flex;
            gap: 4px;
            margin-top: 10px;
        }

        .spectral-class {
            flex: 1;
            padding: 6px;
            text-align: center;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .spectral-class:hover {
            transform: scale(1.1);
        }

        #tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid rgba(251, 191, 36, 0.5);
            border-radius: 8px;
            padding: 12px;
            font-size: 0.8rem;
            pointer-events: none;
            z-index: 100;
            max-width: 250px;
            display: none;
        }

        #tooltip .name {
            color: #fbbf24;
            font-weight: bold;
            margin-bottom: 5px;
        }

        #tooltip .detail {
            color: #aaa;
            margin: 3px 0;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Gallery</a>

    <div id="container">
        <div id="diagram-container">
            <canvas id="canvas"></canvas>
            <div id="tooltip"></div>
        </div>

        <div id="info-panel">
            <h1>Hertzsprung-Russell Diagram</h1>
            <p class="description">
                The HR Diagram plots stars by their temperature (x-axis, decreasing right to left)
                and luminosity (y-axis, increasing upward). Stars spend most of their lives on the
                Main Sequence, where hydrogen fusion occurs in their cores.
            </p>

            <div id="star-info">
                <h3>Selected Star</h3>
                <div class="star-preview" id="star-preview"></div>
                <p>Name: <span id="star-name">Hover over a star</span></p>
                <p>Type: <span id="star-type">-</span></p>
                <p>Temperature: <span id="star-temp">-</span></p>
                <p>Luminosity: <span id="star-lum">-</span></p>
                <p>Mass: <span id="star-mass">-</span></p>
                <p>Radius: <span id="star-radius">-</span></p>
            </div>

            <h2>Spectral Classes</h2>
            <div class="spectral-classes">
                <div class="spectral-class" style="background: #9bb0ff; color: #000;">O</div>
                <div class="spectral-class" style="background: #aabfff; color: #000;">B</div>
                <div class="spectral-class" style="background: #cad7ff; color: #000;">A</div>
                <div class="spectral-class" style="background: #f8f7ff; color: #000;">F</div>
                <div class="spectral-class" style="background: #fff4ea; color: #000;">G</div>
                <div class="spectral-class" style="background: #ffd2a1; color: #000;">K</div>
                <div class="spectral-class" style="background: #ffcc6f; color: #000;">M</div>
            </div>

            <h2>Stellar Regions</h2>
            <div class="legend">
                <div class="legend-item active" data-region="main-sequence">
                    <div class="legend-color" style="background: #fff;"></div>
                    <span>Main Sequence</span>
                </div>
                <div class="legend-item" data-region="giants">
                    <div class="legend-color" style="background: #ff9933;"></div>
                    <span>Red Giants</span>
                </div>
                <div class="legend-item" data-region="supergiants">
                    <div class="legend-color" style="background: #ff5533;"></div>
                    <span>Supergiants</span>
                </div>
                <div class="legend-item" data-region="white-dwarfs">
                    <div class="legend-color" style="background: #aaccff;"></div>
                    <span>White Dwarfs</span>
                </div>
            </div>

            <div class="controls">
                <h2>Display Options</h2>
                <div class="control-group">
                    <label>Star Count <span class="control-value" id="count-val">500</span></label>
                    <input type="range" id="star-count" min="100" max="2000" value="500" step="100">
                </div>
                <div class="control-group">
                    <label>Star Size <span class="control-value" id="size-val">1.0</span></label>
                    <input type="range" id="star-size" min="0.5" max="2" value="1" step="0.1">
                </div>
                <button id="add-famous">Add Famous Stars</button>
                <button id="regenerate">Regenerate Diagram</button>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const tooltip = document.getElementById('tooltip');
        const container = document.getElementById('diagram-container');

        let stars = [];
        let famousStars = [];
        let showFamous = false;
        let hoveredStar = null;
        let starSizeMultiplier = 1;

        // HR Diagram bounds (log scale)
        const bounds = {
            tempMin: 3.4,    // log10(2500K)
            tempMax: 4.7,    // log10(50000K)
            lumMin: -5,      // log10(L/Lsun)
            lumMax: 6
        };

        // Famous stars data
        const famousStarsData = [
            { name: "Sun", temp: 5778, lum: 1, mass: 1, radius: 1, type: "G2V Main Sequence" },
            { name: "Sirius A", temp: 9940, lum: 25.4, mass: 2.06, radius: 1.71, type: "A1V Main Sequence" },
            { name: "Betelgeuse", temp: 3500, lum: 100000, mass: 11.6, radius: 887, type: "M1 Red Supergiant" },
            { name: "Rigel", temp: 12100, lum: 120000, mass: 21, radius: 78.9, type: "B8 Blue Supergiant" },
            { name: "Aldebaran", temp: 3910, lum: 518, mass: 1.16, radius: 44.2, type: "K5 Red Giant" },
            { name: "Arcturus", temp: 4286, lum: 170, mass: 1.08, radius: 25.4, type: "K1.5 Red Giant" },
            { name: "Vega", temp: 9602, lum: 40.12, mass: 2.14, radius: 2.36, type: "A0V Main Sequence" },
            { name: "Proxima Centauri", temp: 3042, lum: 0.0017, mass: 0.12, radius: 0.15, type: "M5.5 Red Dwarf" },
            { name: "Sirius B", temp: 25200, lum: 0.056, mass: 1.02, radius: 0.0084, type: "White Dwarf" },
            { name: "Polaris", temp: 6015, lum: 1260, mass: 5.4, radius: 37.5, type: "F7 Supergiant" },
            { name: "Antares", temp: 3660, lum: 75900, mass: 12, radius: 680, type: "M1 Red Supergiant" },
            { name: "Spica", temp: 22400, lum: 20512, mass: 11.4, radius: 7.47, type: "B1 Blue Giant" },
            { name: "Deneb", temp: 8525, lum: 196000, mass: 19, radius: 203, type: "A2 White Supergiant" },
            { name: "Canopus", temp: 7350, lum: 10700, mass: 8, radius: 71, type: "F0 Supergiant" },
            { name: "Procyon A", temp: 6530, lum: 6.93, mass: 1.5, radius: 2.05, type: "F5 Subgiant" }
        ];

        // Spectral class to color mapping
        function tempToColor(temp) {
            // Approximate black body color
            if (temp > 30000) return '#9bb0ff';      // O - Blue
            if (temp > 10000) return '#aabfff';      // B - Blue-white
            if (temp > 7500) return '#cad7ff';       // A - White
            if (temp > 6000) return '#f8f7ff';       // F - Yellow-white
            if (temp > 5200) return '#fff4ea';       // G - Yellow
            if (temp > 3700) return '#ffd2a1';       // K - Orange
            return '#ffcc6f';                         // M - Red
        }

        function getSpectralClass(temp) {
            if (temp > 30000) return 'O';
            if (temp > 10000) return 'B';
            if (temp > 7500) return 'A';
            if (temp > 6000) return 'F';
            if (temp > 5200) return 'G';
            if (temp > 3700) return 'K';
            return 'M';
        }

        // Convert temperature and luminosity to canvas coordinates
        function toCanvas(logTemp, logLum) {
            const padding = 60;
            const x = padding + (bounds.tempMax - logTemp) / (bounds.tempMax - bounds.tempMin) * (canvas.width - padding * 2);
            const y = padding + (bounds.lumMax - logLum) / (bounds.lumMax - bounds.lumMin) * (canvas.height - padding * 2);
            return { x, y };
        }

        // Generate random stars following HR diagram distribution
        function generateStars(count) {
            stars = [];

            // Main Sequence (diagonal band)
            for (let i = 0; i < count * 0.6; i++) {
                const logTemp = 3.5 + Math.random() * 1.1;
                const scatter = (Math.random() - 0.5) * 0.4;
                const logLum = (logTemp - 3.5) * 6 - 4 + scatter;

                const temp = Math.pow(10, logTemp);
                const lum = Math.pow(10, logLum);
                const mass = Math.pow(lum, 0.25); // Approximate mass-luminosity relation
                const radius = Math.sqrt(lum) * Math.pow(5778/temp, 2);

                stars.push({
                    logTemp, logLum, temp, lum, mass, radius,
                    type: 'Main Sequence',
                    color: tempToColor(temp)
                });
            }

            // Red Giants
            for (let i = 0; i < count * 0.2; i++) {
                const logTemp = 3.5 + Math.random() * 0.25;
                const logLum = 1 + Math.random() * 3;

                const temp = Math.pow(10, logTemp);
                const lum = Math.pow(10, logLum);
                const radius = Math.sqrt(lum) * Math.pow(5778/temp, 2);

                stars.push({
                    logTemp, logLum, temp, lum,
                    mass: 0.8 + Math.random() * 4,
                    radius,
                    type: 'Red Giant',
                    color: tempToColor(temp)
                });
            }

            // Supergiants
            for (let i = 0; i < count * 0.05; i++) {
                const logTemp = 3.5 + Math.random() * 0.8;
                const logLum = 4 + Math.random() * 2;

                const temp = Math.pow(10, logTemp);
                const lum = Math.pow(10, logLum);
                const radius = Math.sqrt(lum) * Math.pow(5778/temp, 2);

                stars.push({
                    logTemp, logLum, temp, lum,
                    mass: 8 + Math.random() * 20,
                    radius,
                    type: 'Supergiant',
                    color: tempToColor(temp)
                });
            }

            // White Dwarfs
            for (let i = 0; i < count * 0.15; i++) {
                const logTemp = 3.9 + Math.random() * 0.5;
                const logLum = -2 - Math.random() * 3;

                const temp = Math.pow(10, logTemp);
                const lum = Math.pow(10, logLum);

                stars.push({
                    logTemp, logLum, temp, lum,
                    mass: 0.5 + Math.random() * 0.8,
                    radius: 0.008 + Math.random() * 0.005,
                    type: 'White Dwarf',
                    color: tempToColor(temp)
                });
            }
        }

        // Draw axes and labels
        function drawAxes() {
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.lineWidth = 1;
            ctx.font = '12px sans-serif';
            ctx.fillStyle = '#888';

            const padding = 60;

            // Draw grid
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';

            // Temperature grid (vertical lines)
            const temps = [50000, 30000, 10000, 7000, 5000, 3000];
            temps.forEach(temp => {
                const logT = Math.log10(temp);
                const { x } = toCanvas(logT, 0);
                ctx.beginPath();
                ctx.moveTo(x, padding);
                ctx.lineTo(x, canvas.height - padding);
                ctx.stroke();

                ctx.fillText(temp >= 10000 ? `${temp/1000}k` : temp + 'K', x - 15, canvas.height - padding + 20);
            });

            // Luminosity grid (horizontal lines)
            for (let logL = -4; logL <= 6; logL += 2) {
                const { y } = toCanvas(4, logL);
                ctx.beginPath();
                ctx.moveTo(padding, y);
                ctx.lineTo(canvas.width - padding, y);
                ctx.stroke();

                const lumLabel = logL === 0 ? '1' : logL > 0 ? `10^${logL}` : `10^${logL}`;
                ctx.fillText(lumLabel + ' L☉', 10, y + 4);
            }

            // Axis labels
            ctx.fillStyle = '#fbbf24';
            ctx.font = '14px sans-serif';
            ctx.fillText('Temperature (K) →', canvas.width / 2 - 60, canvas.height - 15);

            ctx.save();
            ctx.translate(15, canvas.height / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Luminosity (L☉) →', -50, 0);
            ctx.restore();

            // Spectral class labels at top
            ctx.font = '14px sans-serif';
            ctx.fillStyle = '#aaa';
            const classes = [
                { label: 'O', temp: 40000 },
                { label: 'B', temp: 20000 },
                { label: 'A', temp: 9000 },
                { label: 'F', temp: 6750 },
                { label: 'G', temp: 5500 },
                { label: 'K', temp: 4500 },
                { label: 'M', temp: 3250 }
            ];

            classes.forEach(c => {
                const { x } = toCanvas(Math.log10(c.temp), 0);
                ctx.fillStyle = tempToColor(c.temp);
                ctx.fillText(c.label, x - 5, padding - 10);
            });
        }

        // Draw region labels
        function drawRegionLabels() {
            ctx.font = 'italic 14px sans-serif';
            ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';

            // Main sequence label
            let pos = toCanvas(4.2, 2);
            ctx.save();
            ctx.translate(pos.x, pos.y);
            ctx.rotate(-0.7);
            ctx.fillText('Main Sequence', 0, 0);
            ctx.restore();

            // Giants
            pos = toCanvas(3.6, 2.5);
            ctx.fillText('Giants', pos.x, pos.y);

            // Supergiants
            pos = toCanvas(4.0, 5);
            ctx.fillText('Supergiants', pos.x, pos.y);

            // White Dwarfs
            pos = toCanvas(4.2, -3);
            ctx.fillText('White Dwarfs', pos.x, pos.y);
        }

        // Draw stars
        function drawStars() {
            // Sort by luminosity so brighter stars are drawn on top
            const allStars = [...stars];
            if (showFamous) allStars.push(...famousStars);
            allStars.sort((a, b) => a.logLum - b.logLum);

            allStars.forEach(star => {
                const { x, y } = toCanvas(star.logTemp, star.logLum);

                // Size based on luminosity (log scale)
                let size = Math.max(1, 2 + (star.logLum + 4) * 0.4) * starSizeMultiplier;
                if (star.name) size *= 1.5; // Famous stars are larger

                // Glow effect
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, size * 3);
                gradient.addColorStop(0, star.color);
                gradient.addColorStop(0.5, star.color.replace(')', ', 0.3)').replace('rgb', 'rgba'));
                gradient.addColorStop(1, 'transparent');

                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(x, y, size * 3, 0, Math.PI * 2);
                ctx.fill();

                // Core
                ctx.fillStyle = star.color;
                ctx.beginPath();
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();

                // Label for famous stars
                if (star.name) {
                    ctx.fillStyle = '#fff';
                    ctx.font = '11px sans-serif';
                    ctx.fillText(star.name, x + size + 5, y + 4);
                }
            });
        }

        // Render diagram
        function render() {
            ctx.fillStyle = '#0a0a1a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            drawAxes();
            drawRegionLabels();
            drawStars();
        }

        // Resize canvas
        function resize() {
            const rect = container.getBoundingClientRect();
            canvas.width = rect.width;
            canvas.height = rect.height;
            render();
        }

        // Find star at position
        function findStarAt(mx, my) {
            const allStars = [...stars];
            if (showFamous) allStars.push(...famousStars);

            for (let i = allStars.length - 1; i >= 0; i--) {
                const star = allStars[i];
                const { x, y } = toCanvas(star.logTemp, star.logLum);
                const size = Math.max(1, 2 + (star.logLum + 4) * 0.4) * starSizeMultiplier * (star.name ? 1.5 : 1);

                const dx = mx - x;
                const dy = my - y;
                if (dx * dx + dy * dy < (size + 5) * (size + 5)) {
                    return star;
                }
            }
            return null;
        }

        // Update info panel
        function updateInfoPanel(star) {
            if (star) {
                document.getElementById('star-name').textContent = star.name || 'Anonymous Star';
                document.getElementById('star-type').textContent = star.type;
                document.getElementById('star-temp').textContent = Math.round(star.temp).toLocaleString() + ' K (' + getSpectralClass(star.temp) + ')';
                document.getElementById('star-lum').textContent = star.lum < 1 ? star.lum.toFixed(4) : star.lum.toFixed(1) + ' L☉';
                document.getElementById('star-mass').textContent = star.mass.toFixed(2) + ' M☉';
                document.getElementById('star-radius').textContent = star.radius < 1 ? star.radius.toFixed(4) : star.radius.toFixed(1) + ' R☉';

                const preview = document.getElementById('star-preview');
                preview.style.background = `radial-gradient(circle at 30% 30%, ${star.color}, ${star.color}aa, ${star.color}44)`;
                preview.style.boxShadow = `0 0 30px ${star.color}`;
            }
        }

        // Mouse events
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const mx = e.clientX - rect.left;
            const my = e.clientY - rect.top;

            const star = findStarAt(mx, my);

            if (star) {
                tooltip.style.display = 'block';
                tooltip.style.left = (mx + 15) + 'px';
                tooltip.style.top = (my - 10) + 'px';
                tooltip.innerHTML = `
                    <div class="name">${star.name || getSpectralClass(star.temp) + ' type star'}</div>
                    <div class="detail">Type: ${star.type}</div>
                    <div class="detail">Temp: ${Math.round(star.temp).toLocaleString()} K</div>
                    <div class="detail">Luminosity: ${star.lum < 1 ? star.lum.toFixed(4) : star.lum.toFixed(1)} L☉</div>
                `;
                canvas.style.cursor = 'pointer';

                if (star !== hoveredStar) {
                    hoveredStar = star;
                    updateInfoPanel(star);
                }
            } else {
                tooltip.style.display = 'none';
                canvas.style.cursor = 'default';
            }
        });

        canvas.addEventListener('mouseleave', () => {
            tooltip.style.display = 'none';
        });

        // Controls
        document.getElementById('star-count').addEventListener('input', (e) => {
            document.getElementById('count-val').textContent = e.target.value;
            generateStars(parseInt(e.target.value));
            render();
        });

        document.getElementById('star-size').addEventListener('input', (e) => {
            starSizeMultiplier = parseFloat(e.target.value);
            document.getElementById('size-val').textContent = starSizeMultiplier.toFixed(1);
            render();
        });

        document.getElementById('add-famous').addEventListener('click', () => {
            showFamous = !showFamous;
            document.getElementById('add-famous').textContent = showFamous ? 'Hide Famous Stars' : 'Add Famous Stars';

            if (showFamous && famousStars.length === 0) {
                famousStars = famousStarsData.map(s => ({
                    ...s,
                    logTemp: Math.log10(s.temp),
                    logLum: Math.log10(s.lum),
                    color: tempToColor(s.temp)
                }));
            }
            render();
        });

        document.getElementById('regenerate').addEventListener('click', () => {
            const count = parseInt(document.getElementById('star-count').value);
            generateStars(count);
            render();
        });

        // Legend interaction
        document.querySelectorAll('.legend-item').forEach(item => {
            item.addEventListener('click', () => {
                item.classList.toggle('active');
                // Could filter stars by type here
            });
        });

        // Spectral class click
        document.querySelectorAll('.spectral-class').forEach(cls => {
            cls.addEventListener('click', () => {
                const type = cls.textContent;
                const temps = { O: 40000, B: 20000, A: 9000, F: 6750, G: 5500, K: 4500, M: 3250 };
                const temp = temps[type];

                // Highlight stars of this type
                const allStars = [...stars];
                if (showFamous) allStars.push(...famousStars);

                const matching = allStars.filter(s => getSpectralClass(s.temp) === type);
                if (matching.length > 0) {
                    updateInfoPanel(matching[Math.floor(Math.random() * matching.length)]);
                }
            });
        });

        // Initialize
        window.addEventListener('resize', resize);
        generateStars(500);
        resize();

        // Show the Sun by default
        showFamous = true;
        famousStars = famousStarsData.map(s => ({
            ...s,
            logTemp: Math.log10(s.temp),
            logLum: Math.log10(s.lum),
            color: tempToColor(s.temp)
        }));
        document.getElementById('add-famous').textContent = 'Hide Famous Stars';

        const sun = famousStars.find(s => s.name === 'Sun');
        if (sun) updateInfoPanel(sun);
        render();
    </script>
</body>
</html>
