<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Math TSL</title>
<style>*{margin:0;padding:0}body{background:#000}#canvas{width:100vw;height:100vh}</style>
</head><body><canvas id="canvas"></canvas>
<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
<script type="importmap">{"imports":{"three":"https://unpkg.com/three@0.170.0/build/three.webgpu.js","three/tsl":"https://unpkg.com/three@0.170.0/build/three.webgpu.js","three/addons/":"https://unpkg.com/three@0.170.0/examples/jsm/"}}</script>
<script type="module">
import*as THREE from'three';import{OrbitControls}from'three/addons/controls/OrbitControls.js';import{positionLocal,uv,time,sin,cos,vec3,Fn}from'three/tsl';
const canvas=document.getElementById('canvas');async function init(){const scene=new THREE.Scene();scene.background=new THREE.Color(0x0a0a0a);
const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);camera.position.set(0,0,3);
const renderer=new THREE.WebGPURenderer({canvas,antialias:true});renderer.setSize(window.innerWidth,window.innerHeight);await renderer.init();
const controls=new OrbitControls(camera,canvas);controls.enableDamping=true;scene.add(new THREE.AmbientLight(0xffffff,0.5));
const geometry=new THREE.SphereGeometry(1,128,128);const material=new THREE.MeshStandardNodeMaterial();
material.colorNode=Fn(()=>{const uvCoord=uv();const cx=-0.5;const cy=0.0;const zoom=1.5;
const x=uvCoord.x.sub(0.5).mul(zoom).add(cx);const y=uvCoord.y.sub(0.5).mul(zoom).add(cy);
let zx=x;let zy=y;let iter=0.0;for(let i=0;i<20;i++){const tmp=zx.mul(zx).sub(zy.mul(zy)).add(x);
zy=zx.mul(zy).mul(2.0).add(y);zx=tmp;iter=iter.add(1.0);}
const col=iter.div(20.0);return vec3(col,col.mul(0.5),col.mul(1.5));})();
const mesh=new THREE.Mesh(geometry,material);scene.add(mesh);
function animate(){requestAnimationFrame(animate);mesh.rotation.y+=0.003;controls.update();renderer.render(scene,camera);}animate();
window.addEventListener('resize',()=>{camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight);});}init();
</script></body></html>
