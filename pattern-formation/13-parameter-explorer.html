<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>Interactive Parameter Explorer</title>
<style>body{margin:0;overflow:hidden;background:#000;font-family:Arial}canvas{display:block}
.controls{position:absolute;top:10px;left:10px;background:rgba(0,0,0,0.9);padding:20px;border-radius:8px;color:#fff;width:250px}
.controls h3{margin:0 0 15px 0;color:#667eea}
.slider-group{margin:10px 0}
.slider-group label{display:block;margin-bottom:5px}
.slider-group input{width:100%}
.presets{margin-top:15px}
.preset-btn{padding:8px;margin:3px;background:#667eea;border:none;border-radius:4px;color:#fff;cursor:pointer;font-size:11px}
.preset-btn:hover{background:#764ba2}</style></head>
<body><canvas id="canvas"></canvas>
<div class="controls">
<h3>Parameter Explorer</h3>
<div class="slider-group"><label>Feed (F): <span id="fval">0.055</span></label><input type="range" id="feed" min="0" max="0.1" step="0.001" value="0.055"></div>
<div class="slider-group"><label>Kill (k): <span id="kval">0.062</span></label><input type="range" id="kill" min="0" max="0.1" step="0.001" value="0.062"></div>
<div class="slider-group"><label>dA: <span id="daval">1.0</span></label><input type="range" id="da" min="0" max="2" step="0.1" value="1.0"></div>
<div class="slider-group"><label>dB: <span id="dbval">0.5</span></label><input type="range" id="db" min="0" max="2" step="0.1" value="0.5"></div>
<div class="presets">
<button class="preset-btn" onclick="setPreset(0.0545,0.062)">Spots</button>
<button class="preset-btn" onclick="setPreset(0.035,0.065)">Stripes</button>
<button class="preset-btn" onclick="setPreset(0.014,0.045)">Waves</button>
<button class="preset-btn" onclick="setPreset(0.029,0.057)">Maze</button>
<button class="preset-btn" onclick="setPreset(0.026,0.051)">Chaos</button>
</div></div>
<script>const c=document.getElementById('canvas'),gl=c.getContext('webgl2');c.width=window.innerWidth;c.height=window.innerHeight;
const w=512,h=512;
const vs=`#version 300 es
in vec2 position;out vec2 uv;void main(){uv=position*0.5+0.5;gl_Position=vec4(position,0.0,1.0);}`;
const cs=`#version 300 es
precision highp float;uniform sampler2D state;uniform vec2 resolution;uniform float feed;uniform float kill;uniform float da;uniform float db;in vec2 uv;out vec4 fragColor;
void main(){vec2 p=1.0/resolution,s=texture(state,uv).xy;vec2 l=vec2(0.0);
l+=texture(state,uv+vec2(-p.x,0.0)).xy*0.2;l+=texture(state,uv+vec2(p.x,0.0)).xy*0.2;
l+=texture(state,uv+vec2(0.0,-p.y)).xy*0.2;l+=texture(state,uv+vec2(0.0,p.y)).xy*0.2;
l+=texture(state,uv+vec2(-p.x,-p.y)).xy*0.05;l+=texture(state,uv+vec2(p.x,-p.y)).xy*0.05;
l+=texture(state,uv+vec2(-p.x,p.y)).xy*0.05;l+=texture(state,uv+vec2(p.x,p.y)).xy*0.05;l-=s;
float a=s.x,b=s.y,abb=a*b*b;
a+=(da*l.x-abb+feed*(1.0-a));b+=(db*l.y+abb-(kill+feed)*b);fragColor=vec4(a,b,0.0,1.0);}`;
const ds=`#version 300 es
precision highp float;uniform sampler2D state;in vec2 uv;out vec4 fragColor;
vec3 palette(float t){vec3 a=vec3(0.5);vec3 b=vec3(0.5);vec3 c=vec3(1.0);vec3 d=vec3(0.0,0.33,0.67);return a+b*cos(6.28318*(c*t+d));}
void main(){float b=texture(state,uv).y;fragColor=vec4(palette(b*4.0),1.0);}`;
function comp(t,s){const sh=gl.createShader(t);gl.shaderSource(sh,s);gl.compileShader(sh);return sh;}
function prog(v,f){const p=gl.createProgram();gl.attachShader(p,comp(gl.VERTEX_SHADER,v));gl.attachShader(p,comp(gl.FRAGMENT_SHADER,f));gl.linkProgram(p);return p;}
const cp=prog(vs,cs),dp=prog(vs,ds),buf=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,buf);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),gl.STATIC_DRAW);
function createT(){const t=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,t);gl.texImage2D(gl.TEXTURE_2D,0,gl.RG32F,w,h,0,gl.RG,gl.FLOAT,null);
gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR);
gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.REPEAT);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.REPEAT);return t;}
const tex=[createT(),createT()],fb=[gl.createFramebuffer(),gl.createFramebuffer()];
for(let i=0;i<2;i++){gl.bindFramebuffer(gl.FRAMEBUFFER,fb[i]);gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,tex[i],0);}
const data=new Float32Array(w*h*2);for(let i=0;i<w*h;i++){data[i*2]=1.0;data[i*2+1]=Math.random()<0.1?Math.random()*0.5:0.0;}
gl.bindTexture(gl.TEXTURE_2D,tex[0]);gl.texImage2D(gl.TEXTURE_2D,0,gl.RG32F,w,h,0,gl.RG,gl.FLOAT,data);
const feedSlider=document.getElementById('feed'),killSlider=document.getElementById('kill');
const daSlider=document.getElementById('da'),dbSlider=document.getElementById('db');
feedSlider.oninput=()=>document.getElementById('fval').textContent=feedSlider.value;
killSlider.oninput=()=>document.getElementById('kval').textContent=killSlider.value;
daSlider.oninput=()=>document.getElementById('daval').textContent=daSlider.value;
dbSlider.oninput=()=>document.getElementById('dbval').textContent=dbSlider.value;
function setPreset(f,k){feedSlider.value=f;killSlider.value=k;document.getElementById('fval').textContent=f;document.getElementById('kval').textContent=k;}
let curr=0;
function render(){gl.useProgram(cp);gl.bindFramebuffer(gl.FRAMEBUFFER,fb[1-curr]);gl.viewport(0,0,w,h);
const pos=gl.getAttribLocation(cp,'position');gl.bindBuffer(gl.ARRAY_BUFFER,buf);gl.enableVertexAttribArray(pos);
gl.vertexAttribPointer(pos,2,gl.FLOAT,false,0,0);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,tex[curr]);
gl.uniform1i(gl.getUniformLocation(cp,'state'),0);gl.uniform2f(gl.getUniformLocation(cp,'resolution'),w,h);
gl.uniform1f(gl.getUniformLocation(cp,'feed'),parseFloat(feedSlider.value));
gl.uniform1f(gl.getUniformLocation(cp,'kill'),parseFloat(killSlider.value));
gl.uniform1f(gl.getUniformLocation(cp,'da'),parseFloat(daSlider.value));
gl.uniform1f(gl.getUniformLocation(cp,'db'),parseFloat(dbSlider.value));
gl.drawArrays(gl.TRIANGLE_STRIP,0,4);curr=1-curr;gl.useProgram(dp);gl.bindFramebuffer(gl.FRAMEBUFFER,null);
gl.viewport(0,0,c.width,c.height);const dpos=gl.getAttribLocation(dp,'position');gl.bindBuffer(gl.ARRAY_BUFFER,buf);gl.enableVertexAttribArray(dpos);
gl.vertexAttribPointer(dpos,2,gl.FLOAT,false,0,0);gl.activeTexture(gl.TEXTURE0);gl.bindTexture(gl.TEXTURE_2D,tex[curr]);
gl.uniform1i(gl.getUniformLocation(dp,'state'),0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);requestAnimationFrame(render);}
render();</script></body></html>
