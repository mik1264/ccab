<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Double Slit Interference</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
        }
        .info {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #00ffff;
            background: rgba(0, 0, 0, 0.9);
            padding: 15px;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="info">
        <h2>Double Slit Experiment</h2>
        <p>Demonstrates wave interference</p>
        <p>Constructive and destructive interference</p>
        <p>Pattern shows bright and dark fringes</p>
    </div>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const wavelength = 30;
        const frequency = 0.1;
        let time = 0;

        // Slit positions
        const slitY1 = canvas.height / 2 - 40;
        const slitY2 = canvas.height / 2 + 40;
        const slitX = canvas.width * 0.3;

        function calculateWave(x, y, sourceX, sourceY, t) {
            const dx = x - sourceX;
            const dy = y - sourceY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const phase = (distance / wavelength) - t * frequency;
            return Math.sin(phase * Math.PI * 2);
        }

        function draw() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            const resolution = 4;

            // Draw interference pattern
            for (let x = slitX; x < canvas.width; x += resolution) {
                for (let y = 0; y < canvas.height; y += resolution) {
                    // Wave from slit 1
                    const wave1 = calculateWave(x, y, slitX, slitY1, time);

                    // Wave from slit 2
                    const wave2 = calculateWave(x, y, slitX, slitY2, time);

                    // Superposition
                    const amplitude = (wave1 + wave2) / 2;

                    // Color based on amplitude
                    const intensity = Math.abs(amplitude);
                    const hue = amplitude > 0 ? 180 : 0;
                    const brightness = intensity * 100;

                    ctx.fillStyle = `hsl(${hue}, 100%, ${brightness}%)`;
                    ctx.fillRect(x, y, resolution, resolution);
                }
            }

            // Draw source wave approaching the slits
            for (let x = 0; x < slitX; x += resolution) {
                for (let y = 0; y < canvas.height; y += resolution) {
                    const distance = slitX - x;
                    const phase = (distance / wavelength) - time * frequency;
                    const wave = Math.sin(phase * Math.PI * 2);

                    const intensity = Math.abs(wave);
                    const hue = wave > 0 ? 180 : 0;
                    const brightness = intensity * 100;

                    ctx.fillStyle = `hsl(${hue}, 100%, ${brightness}%)`;
                    ctx.fillRect(x, y, resolution, resolution);
                }
            }

            // Draw barrier with slits
            ctx.fillStyle = '#333';
            ctx.fillRect(slitX - 5, 0, 10, slitY1 - 20);
            ctx.fillRect(slitX - 5, slitY1 + 20, 10, slitY2 - slitY1 - 40);
            ctx.fillRect(slitX - 5, slitY2 + 20, 10, canvas.height - slitY2 - 20);

            // Highlight slits
            ctx.strokeStyle = '#00ffff';
            ctx.lineWidth = 3;
            ctx.strokeRect(slitX - 8, slitY1 - 20, 16, 40);
            ctx.strokeRect(slitX - 8, slitY2 - 20, 16, 40);

            // Draw intensity pattern on right edge
            const screenX = canvas.width - 50;
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.lineWidth = 1;
            ctx.beginPath();

            for (let y = 0; y < canvas.height; y++) {
                const wave1 = calculateWave(screenX, y, slitX, slitY1, time);
                const wave2 = calculateWave(screenX, y, slitX, slitY2, time);
                const amplitude = (wave1 + wave2) / 2;
                const intensity = (amplitude + 1) / 2; // Normalize to 0-1

                const x = screenX + intensity * 40;
                if (y === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }
            ctx.stroke();

            // Label
            ctx.fillStyle = '#fff';
            ctx.font = '12px Arial';
            ctx.fillText('Intensity', canvas.width - 45, 20);

            time += 0.5;
        }

        function animate() {
            draw();
            requestAnimationFrame(animate);
        }

        animate();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>