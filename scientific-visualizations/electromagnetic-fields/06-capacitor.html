<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capacitor Electric Field</title>
    <style>
        body { margin: 0; overflow: hidden; background: #0a0a15; font-family: Arial; }
        canvas { display: block; }
        .info { position: absolute; top: 20px; left: 20px; color: #ffcc00; background: rgba(0,0,0,0.9); padding: 15px; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="info">
        <h2>Parallel Plate Capacitor</h2>
        <p>Uniform electric field between plates</p>
        <p>E = V/d</p>
        <p>Stores electrical energy</p>
    </div>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const plateWidth = 60;
        const plateHeight = 300;
        const separation = 400;
        const centerY = canvas.height / 2;
        const leftPlateX = canvas.width / 2 - separation / 2;
        const rightPlateX = canvas.width / 2 + separation / 2;

        let time = 0;

        function drawPlate(x, positive) {
            // Plate
            const gradient = ctx.createLinearGradient(x, 0, x + plateWidth, 0);
            if (positive) {
                gradient.addColorStop(0, '#ff4444');
                gradient.addColorStop(1, '#ff8888');
            } else {
                gradient.addColorStop(0, '#4444ff');
                gradient.addColorStop(1, '#8888ff');
            }

            ctx.fillStyle = gradient;
            ctx.fillRect(x, centerY - plateHeight / 2, plateWidth, plateHeight);
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 3;
            ctx.strokeRect(x, centerY - plateHeight / 2, plateWidth, plateHeight);

            // Charge symbols
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 24px Arial';
            ctx.textAlign = 'center';

            const numCharges = 8;
            for (let i = 0; i < numCharges; i++) {
                const y = centerY - plateHeight / 2 + (plateHeight / (numCharges + 1)) * (i + 1);
                ctx.fillText(positive ? '+' : '-', x + plateWidth / 2, y + 8);
            }

            // Label
            ctx.font = 'bold 16px Arial';
            ctx.fillText(positive ? 'Positive Plate' : 'Negative Plate', x + plateWidth / 2, centerY - plateHeight / 2 - 20);
        }

        function drawFieldLines() {
            const numLines = 12;
            const startX = leftPlateX + plateWidth;
            const endX = rightPlateX;

            for (let i = 0; i < numLines; i++) {
                const y = centerY - plateHeight / 2 + (plateHeight / (numLines + 1)) * (i + 1);

                // Field line
                ctx.strokeStyle = 'rgba(255, 200, 0, 0.6)';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.moveTo(startX, y);
                ctx.lineTo(endX, y);
                ctx.stroke();

                // Arrows along the line
                const numArrows = 5;
                for (let j = 0; j < numArrows; j++) {
                    const arrowX = startX + (endX - startX) * (j / numArrows) + (time % 30);
                    const arrowY = y;

                    ctx.save();
                    ctx.translate(arrowX, arrowY);
                    ctx.beginPath();
                    ctx.moveTo(0, 0);
                    ctx.lineTo(-8, -4);
                    ctx.lineTo(-8, 4);
                    ctx.closePath();
                    ctx.fillStyle = 'rgba(255, 200, 0, 0.8)';
                    ctx.fill();
                    ctx.restore();
                }
            }
        }

        function drawElectrons() {
            // Electrons drifting toward positive plate
            const numElectrons = 15;
            for (let i = 0; i < numElectrons; i++) {
                const progress = ((time * 2 + i * 20) % separation) / separation;
                const x = leftPlateX + plateWidth + progress * (separation - plateWidth * 2);
                const y = centerY - plateHeight / 2 + Math.random() * plateHeight;

                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fillStyle = '#00ffff';
                ctx.fill();
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        }

        function drawEquipotentials() {
            const numLines = 7;
            for (let i = 1; i < numLines; i++) {
                const x = leftPlateX + plateWidth + (separation - plateWidth * 2) * (i / numLines);

                ctx.strokeStyle = 'rgba(150, 255, 150, 0.3)';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(x, centerY - plateHeight / 2 - 20);
                ctx.lineTo(x, centerY + plateHeight / 2 + 20);
                ctx.stroke();
                ctx.setLineDash([]);

                // Voltage label
                const voltage = ((numLines - i) / numLines) * 100;
                ctx.fillStyle = 'rgba(150, 255, 150, 0.6)';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`${voltage.toFixed(0)}V`, x, centerY + plateHeight / 2 + 40);
            }
        }

        function draw() {
            ctx.fillStyle = 'rgba(10, 10, 21, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            drawEquipotentials();
            drawFieldLines();
            drawElectrons();
            drawPlate(leftPlateX, true);
            drawPlate(rightPlateX, false);

            // Field strength label
            ctx.fillStyle = '#ffcc00';
            ctx.font = 'bold 16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Uniform E-field', canvas.width / 2, centerY);

            time++;
        }

        function animate() {
            draw();
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>