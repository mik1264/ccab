<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neural Correlates Explorer - Consciousness Science</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --frontal: #EF4444;
            --parietal: #8B5CF6;
            --temporal: #F59E0B;
            --occipital: #10B981;
            --hotzone: #06B6D4;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 50%, #0d1117 100%);
            color: #fff;
            min-height: 100vh;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-weight: 600;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 2rem 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 1rem;
            color: var(--hotzone);
        }

        .subtitle {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
            margin-top: 2rem;
        }

        .brain-viewer {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 2rem;
        }

        .view-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .view-tab {
            padding: 0.5rem 1rem;
            border-radius: 15px;
            border: none;
            background: rgba(255,255,255,0.1);
            color: white;
            font-family: 'Nunito', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .view-tab:hover {
            background: rgba(255,255,255,0.2);
        }

        .view-tab.active {
            background: var(--hotzone);
        }

        .brain-canvas-container {
            position: relative;
            width: 100%;
            aspect-ratio: 4/3;
        }

        #brainCanvas {
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .info-panel {
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            padding: 1.5rem;
        }

        .info-panel h3 {
            font-family: 'Lora', serif;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .region-info {
            display: none;
        }

        .region-info.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .region-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .region-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }

        .region-name {
            font-family: 'Lora', serif;
            font-size: 1.25rem;
        }

        .info-section {
            margin: 1rem 0;
        }

        .info-section-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.6;
            margin-bottom: 0.5rem;
        }

        .info-section p {
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .theory-stance {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 12px;
            background: rgba(255,255,255,0.05);
        }

        .theory-stance h5 {
            font-size: 0.85rem;
            margin-bottom: 0.5rem;
        }

        .theory-stance p {
            font-size: 0.85rem;
            opacity: 0.8;
        }

        .theory-stance.iit {
            border-left: 3px solid #6B4E9E;
        }

        .theory-stance.gnwt {
            border-left: 3px solid #2E7D6B;
        }

        .legend {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 2px solid rgba(255,255,255,0.1);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .legend-item:hover {
            background: rgba(255,255,255,0.1);
        }

        .legend-item.active {
            background: rgba(255,255,255,0.15);
        }

        .comparison-section {
            grid-column: 1 / -1;
            margin-top: 2rem;
        }

        .comparison-section h3 {
            font-family: 'Lora', serif;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .comparison-card {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 1.5rem;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .comparison-card:hover {
            border-color: var(--hotzone);
            transform: translateY(-5px);
        }

        .comparison-card h4 {
            color: var(--hotzone);
            margin-bottom: 0.75rem;
        }

        .comparison-card p {
            font-size: 0.9rem;
            line-height: 1.6;
            opacity: 0.8;
        }

        @media (max-width: 900px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Gallery</a>

    <div class="container">
        <header>
            <h1>Neural Correlates Explorer</h1>
            <p class="subtitle">Map the brain regions involved in consciousness — and see where IIT and GNWT disagree</p>
        </header>

        <div class="main-layout">
            <div class="brain-viewer">
                <div class="view-tabs">
                    <button class="view-tab active" data-view="lateral">Lateral View</button>
                    <button class="view-tab" data-view="medial">Medial View</button>
                    <button class="view-tab" data-view="top">Top View</button>
                </div>
                <div class="brain-canvas-container">
                    <canvas id="brainCanvas"></canvas>
                </div>
            </div>

            <div class="info-panel">
                <h3>Region Details</h3>

                <div class="region-info active" id="info-default">
                    <p style="opacity: 0.6; text-align: center; padding: 2rem 0;">Click on a brain region to learn about its role in consciousness</p>
                </div>

                <div class="region-info" id="info-frontal">
                    <div class="region-header">
                        <div class="region-dot" style="background: var(--frontal)"></div>
                        <span class="region-name">Prefrontal Cortex</span>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Function</div>
                        <p>Executive control, decision-making, working memory, planning. Often called the "CEO of the brain."</p>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Cogitate Finding</div>
                        <p>Category (face vs object) was decodable here, but orientation was NOT. Challenges GNWT's prediction that all conscious content is represented.</p>
                    </div>
                    <div class="theory-stance iit">
                        <h5>IIT View</h5>
                        <p>Not essential for consciousness — involved in reporting and acting on experience, not having it.</p>
                    </div>
                    <div class="theory-stance gnwt">
                        <h5>GNWT View</h5>
                        <p>Central to the global workspace. Required for conscious access and broadcast.</p>
                    </div>
                </div>

                <div class="region-info" id="info-parietal">
                    <div class="region-header">
                        <div class="region-dot" style="background: var(--parietal)"></div>
                        <span class="region-name">Parietal Cortex</span>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Function</div>
                        <p>Spatial processing, attention, sensory integration. Combines information from multiple senses.</p>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Cogitate Finding</div>
                        <p>Part of the frontoparietal network. Showed some involvement but less specific to conscious content than expected by GNWT.</p>
                    </div>
                    <div class="theory-stance iit">
                        <h5>IIT View</h5>
                        <p>Part of the posterior "hot zone" — contributes to conscious experience, especially spatial awareness.</p>
                    </div>
                    <div class="theory-stance gnwt">
                        <h5>GNWT View</h5>
                        <p>Part of the global workspace network — helps broadcast content brain-wide.</p>
                    </div>
                </div>

                <div class="region-info" id="info-temporal">
                    <div class="region-header">
                        <div class="region-dot" style="background: var(--temporal)"></div>
                        <span class="region-name">Temporal Cortex</span>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Function</div>
                        <p>Object recognition, face processing, language comprehension, memory. "What" pathway of vision.</p>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Role in Consciousness</div>
                        <p>Essential for conscious perception of objects and faces. Damage causes visual agnosia — seeing without recognizing.</p>
                    </div>
                    <div class="theory-stance iit">
                        <h5>IIT View</h5>
                        <p>Part of the posterior cortex — integrated information here contributes to visual experience.</p>
                    </div>
                    <div class="theory-stance gnwt">
                        <h5>GNWT View</h5>
                        <p>Specialized processor that competes for access to the global workspace.</p>
                    </div>
                </div>

                <div class="region-info" id="info-occipital">
                    <div class="region-header">
                        <div class="region-dot" style="background: var(--occipital)"></div>
                        <span class="region-name">Occipital Cortex</span>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Function</div>
                        <p>Primary visual processing. First cortical region to receive visual input. Processes basic features: edges, colors, motion.</p>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Cogitate Finding</div>
                        <p>Orientation information successfully decoded here — supporting IIT's posterior cortex prediction.</p>
                    </div>
                    <div class="theory-stance iit">
                        <h5>IIT View</h5>
                        <p>Core of the posterior "hot zone" — where visual consciousness primarily resides.</p>
                    </div>
                    <div class="theory-stance gnwt">
                        <h5>GNWT View</h5>
                        <p>Early sensory processing — must be broadcast to workspace for consciousness.</p>
                    </div>
                </div>

                <div class="region-info" id="info-hotzone">
                    <div class="region-header">
                        <div class="region-dot" style="background: var(--hotzone)"></div>
                        <span class="region-name">Posterior "Hot Zone"</span>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Description</div>
                        <p>IIT's proposed seat of consciousness — the temporo-parietal-occipital junction. Named by Koch and colleagues.</p>
                    </div>
                    <div class="info-section">
                        <div class="info-section-title">Why "Hot"?</div>
                        <p>This region's recurrent architecture maximizes integrated information (Φ). It's where experience happens according to IIT.</p>
                    </div>
                    <div class="theory-stance iit">
                        <h5>IIT View</h5>
                        <p>THE substrate of consciousness. Activity here IS experience — no broadcast required.</p>
                    </div>
                    <div class="theory-stance gnwt">
                        <h5>GNWT View</h5>
                        <p>Sensory processing region. Consciousness requires additional prefrontal involvement.</p>
                    </div>
                </div>

                <div class="legend">
                    <div class="legend-item" data-region="frontal">
                        <div class="region-dot" style="background: var(--frontal); width: 12px; height: 12px;"></div>
                        <span>Prefrontal</span>
                    </div>
                    <div class="legend-item" data-region="parietal">
                        <div class="region-dot" style="background: var(--parietal); width: 12px; height: 12px;"></div>
                        <span>Parietal</span>
                    </div>
                    <div class="legend-item" data-region="temporal">
                        <div class="region-dot" style="background: var(--temporal); width: 12px; height: 12px;"></div>
                        <span>Temporal</span>
                    </div>
                    <div class="legend-item" data-region="occipital">
                        <div class="region-dot" style="background: var(--occipital); width: 12px; height: 12px;"></div>
                        <span>Occipital</span>
                    </div>
                    <div class="legend-item" data-region="hotzone">
                        <div class="region-dot" style="background: var(--hotzone); width: 12px; height: 12px;"></div>
                        <span>Hot Zone</span>
                    </div>
                </div>
            </div>

            <div class="comparison-section">
                <h3>The Core Dispute: Where Does Consciousness Live?</h3>
                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h4>IIT: Posterior Cortex</h4>
                        <p>Consciousness is generated by integrated information in the posterior "hot zone." The prefrontal cortex is for cognition and report, not experience itself. You can be conscious without being able to report it.</p>
                    </div>
                    <div class="comparison-card">
                        <h4>GNWT: Frontoparietal Network</h4>
                        <p>Consciousness requires global broadcast via workspace neurons spanning frontal and parietal cortex. Without prefrontal involvement, sensory content remains unconscious — processed but not experienced.</p>
                    </div>
                    <div class="comparison-card">
                        <h4>What Cogitate Found</h4>
                        <p>The truth may be nuanced: category information reaches prefrontal, but orientation stays in posterior cortex. Perhaps some dimensions of experience require broadcast while others don't.</p>
                    </div>
                    <div class="comparison-card">
                        <h4>The Unresolved Question</h4>
                        <p>Is prefrontal activity necessary for consciousness, or does it just enable report? This remains the central empirical question dividing the field.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('brainCanvas');
        const ctx = canvas.getContext('2d');
        let currentView = 'lateral';
        let selectedRegion = null;
        let hoveredRegion = null;

        const regions = {
            lateral: {
                frontal: { x: 0.25, y: 0.4, rx: 0.15, ry: 0.2, color: '#EF4444' },
                parietal: { x: 0.5, y: 0.3, rx: 0.12, ry: 0.15, color: '#8B5CF6' },
                temporal: { x: 0.4, y: 0.65, rx: 0.15, ry: 0.12, color: '#F59E0B' },
                occipital: { x: 0.75, y: 0.45, rx: 0.12, ry: 0.18, color: '#10B981' },
                hotzone: { x: 0.65, y: 0.5, rx: 0.18, ry: 0.22, color: '#06B6D4' }
            },
            medial: {
                frontal: { x: 0.3, y: 0.35, rx: 0.18, ry: 0.22, color: '#EF4444' },
                parietal: { x: 0.55, y: 0.25, rx: 0.15, ry: 0.15, color: '#8B5CF6' },
                temporal: { x: 0.45, y: 0.7, rx: 0.2, ry: 0.12, color: '#F59E0B' },
                occipital: { x: 0.8, y: 0.4, rx: 0.1, ry: 0.2, color: '#10B981' },
                hotzone: { x: 0.68, y: 0.45, rx: 0.15, ry: 0.25, color: '#06B6D4' }
            },
            top: {
                frontal: { x: 0.5, y: 0.25, rx: 0.35, ry: 0.12, color: '#EF4444' },
                parietal: { x: 0.5, y: 0.5, rx: 0.3, ry: 0.15, color: '#8B5CF6' },
                temporal: { x: 0.2, y: 0.55, rx: 0.08, ry: 0.2, color: '#F59E0B' },
                occipital: { x: 0.5, y: 0.8, rx: 0.25, ry: 0.1, color: '#10B981' },
                hotzone: { x: 0.5, y: 0.65, rx: 0.28, ry: 0.18, color: '#06B6D4' }
            }
        };

        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth * window.devicePixelRatio;
            canvas.height = container.clientHeight * window.devicePixelRatio;
            canvas.style.width = container.clientWidth + 'px';
            canvas.style.height = container.clientHeight + 'px';
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
        }

        function draw() {
            const w = canvas.clientWidth;
            const h = canvas.clientHeight;

            ctx.clearRect(0, 0, w, h);

            // Draw brain outline
            ctx.beginPath();
            if (currentView === 'top') {
                ctx.ellipse(w/2, h/2, w*0.4, h*0.4, 0, 0, Math.PI * 2);
            } else {
                ctx.ellipse(w/2, h/2, w*0.4, h*0.35, 0, 0, Math.PI * 2);
            }
            ctx.strokeStyle = 'rgba(255,255,255,0.2)';
            ctx.lineWidth = 2;
            ctx.stroke();

            // Draw regions
            const viewRegions = regions[currentView];
            Object.keys(viewRegions).forEach(key => {
                const r = viewRegions[key];
                const isSelected = selectedRegion === key;
                const isHovered = hoveredRegion === key;

                ctx.beginPath();
                ctx.ellipse(w * r.x, h * r.y, w * r.rx, h * r.ry, 0, 0, Math.PI * 2);

                // Fill with transparency
                ctx.fillStyle = r.color + (isSelected ? '80' : isHovered ? '60' : '40');
                ctx.fill();

                // Stroke
                ctx.strokeStyle = r.color;
                ctx.lineWidth = isSelected ? 3 : isHovered ? 2 : 1;
                ctx.stroke();

                // Glow effect for selected
                if (isSelected) {
                    ctx.shadowColor = r.color;
                    ctx.shadowBlur = 20;
                    ctx.stroke();
                    ctx.shadowBlur = 0;
                }
            });

            // Labels
            ctx.font = '12px Nunito';
            ctx.textAlign = 'center';
            ctx.fillStyle = 'rgba(255,255,255,0.8)';

            Object.keys(viewRegions).forEach(key => {
                const r = viewRegions[key];
                const label = key.charAt(0).toUpperCase() + key.slice(1);
                ctx.fillText(label, w * r.x, h * r.y + 5);
            });
        }

        function getRegionAtPoint(x, y) {
            const w = canvas.clientWidth;
            const h = canvas.clientHeight;
            const viewRegions = regions[currentView];

            for (const key of Object.keys(viewRegions)) {
                const r = viewRegions[key];
                const dx = (x - w * r.x) / (w * r.rx);
                const dy = (y - h * r.y) / (h * r.ry);
                if (dx * dx + dy * dy <= 1) {
                    return key;
                }
            }
            return null;
        }

        function showRegionInfo(region) {
            document.querySelectorAll('.region-info').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.legend-item').forEach(el => el.classList.remove('active'));

            if (region) {
                document.getElementById('info-' + region).classList.add('active');
                document.querySelector(`.legend-item[data-region="${region}"]`)?.classList.add('active');
            } else {
                document.getElementById('info-default').classList.add('active');
            }
        }

        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            const region = getRegionAtPoint(x, y);
            selectedRegion = region;
            showRegionInfo(region);
            draw();
        });

        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            hoveredRegion = getRegionAtPoint(x, y);
            canvas.style.cursor = hoveredRegion ? 'pointer' : 'default';
            draw();
        });

        // View tabs
        document.querySelectorAll('.view-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.view-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                currentView = tab.dataset.view;
                draw();
            });
        });

        // Legend clicks
        document.querySelectorAll('.legend-item').forEach(item => {
            item.addEventListener('click', () => {
                const region = item.dataset.region;
                selectedRegion = region;
                showRegionInfo(region);
                draw();
            });
        });

        window.addEventListener('resize', () => {
            resizeCanvas();
            draw();
        });

        resizeCanvas();
        draw();
    </script>
</body>
</html>
