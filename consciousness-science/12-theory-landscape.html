<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theory Landscape - Consciousness Science</title>
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 50%, #0d1117 100%);
            color: #fff;
            min-height: 100vh;
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-weight: 600;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            z-index: 100;
        }

        .back-link:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 80px 2rem 2rem;
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
        }

        h1 {
            font-family: 'Lora', serif;
            font-size: clamp(2rem, 5vw, 3rem);
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #8B5CF6, #06B6D4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
        }

        .map-container {
            position: relative;
            width: 100%;
            aspect-ratio: 16/10;
            min-height: 600px;
            margin: 2rem 0;
        }

        #landscapeCanvas {
            width: 100%;
            height: 100%;
            border-radius: 20px;
            cursor: grab;
        }

        #landscapeCanvas:active {
            cursor: grabbing;
        }

        .axis-labels {
            position: absolute;
            pointer-events: none;
        }

        .axis-label {
            position: absolute;
            font-size: 0.85rem;
            font-weight: 600;
            color: rgba(255,255,255,0.6);
            background: rgba(0,0,0,0.5);
            padding: 0.25rem 0.5rem;
            border-radius: 5px;
        }

        .theory-panel {
            position: fixed;
            right: 20px;
            top: 80px;
            width: 350px;
            max-height: calc(100vh - 100px);
            overflow-y: auto;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 1.5rem;
            display: none;
            z-index: 50;
            border: 2px solid rgba(255,255,255,0.1);
        }

        .theory-panel.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .panel-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0.6;
        }

        .panel-close:hover {
            opacity: 1;
        }

        .theory-header {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .theory-name {
            font-family: 'Lora', serif;
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
        }

        .theory-proponent {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .theory-section {
            margin: 1rem 0;
        }

        .section-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.5;
            margin-bottom: 0.5rem;
        }

        .theory-section p {
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .position-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .position-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .legend-section {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .legend-section h3 {
            font-family: 'Lora', serif;
            margin-bottom: 1rem;
        }

        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }

        .instructions {
            text-align: center;
            margin-top: 1rem;
            font-size: 0.9rem;
            opacity: 0.6;
        }

        @media (max-width: 900px) {
            .theory-panel {
                position: fixed;
                left: 20px;
                right: 20px;
                top: auto;
                bottom: 20px;
                width: auto;
                max-height: 50vh;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back to Gallery</a>

    <div class="container">
        <header>
            <h1>Theory Landscape</h1>
            <p class="subtitle">Navigate the major theories of consciousness and their relationships</p>
        </header>

        <div class="map-container">
            <canvas id="landscapeCanvas"></canvas>
        </div>

        <div class="instructions">Click on a theory to learn more. Drag to pan around the landscape.</div>

        <div class="legend-section">
            <h3>Dimensions</h3>
            <div class="legend-grid">
                <div class="legend-item">
                    <span>← Biological</span>
                    <div style="flex: 1; height: 2px; background: linear-gradient(90deg, #10B981, #8B5CF6);"></div>
                    <span>Functional →</span>
                </div>
                <div class="legend-item">
                    <span>↓ Local</span>
                    <div style="flex: 1; height: 2px; background: linear-gradient(90deg, #F59E0B, #06B6D4);"></div>
                    <span>Global ↑</span>
                </div>
            </div>
        </div>
    </div>

    <div class="theory-panel" id="theoryPanel">
        <button class="panel-close" onclick="closePanel()">×</button>
        <div id="panelContent"></div>
    </div>

    <script>
        const canvas = document.getElementById('landscapeCanvas');
        const ctx = canvas.getContext('2d');

        const theories = [
            {
                id: 'iit',
                name: 'Integrated Information Theory',
                abbrev: 'IIT',
                proponent: 'Giulio Tononi (2004)',
                x: 0.25, y: 0.35,
                color: '#8B5CF6',
                size: 50,
                core: 'Consciousness = integrated information (Φ). Starts from phenomenology and derives physical requirements.',
                predictions: 'Posterior cortex primary substrate. Sustained activity. Any Φ > 0 has some experience (panpsychism).',
                cogitate: 'Challenged: No sustained gamma-band synchronization found.',
                positions: ['Panpsychist', 'Posterior-focused', 'Anti-functionalist']
            },
            {
                id: 'gnwt',
                name: 'Global Neuronal Workspace Theory',
                abbrev: 'GNWT',
                proponent: 'Dehaene & Changeux (1998)',
                x: 0.75, y: 0.7,
                color: '#10B981',
                size: 50,
                core: 'Consciousness = brain-wide information broadcast via global workspace. "Ignition" makes content conscious.',
                predictions: 'Prefrontal + parietal essential. Brief ignition bursts at onset/offset. Sharp threshold.',
                cogitate: 'Challenged: No offset ignition. Prefrontal can\'t decode orientation.',
                positions: ['Functionalist', 'Frontoparietal', 'Computationalist']
            },
            {
                id: 'hot',
                name: 'Higher-Order Theories',
                abbrev: 'HOT',
                proponent: 'David Rosenthal',
                x: 0.7, y: 0.55,
                color: '#EC4899',
                size: 40,
                core: 'Consciousness requires higher-order representation — being aware that you are in a mental state.',
                predictions: 'Prefrontal cortex crucial. Metacognition central. First-order states alone are unconscious.',
                cogitate: 'Under test in separate adversarial collaboration.',
                positions: ['Higher-order', 'Prefrontal', 'Metacognitive']
            },
            {
                id: 'rpt',
                name: 'Recurrent Processing Theory',
                abbrev: 'RPT',
                proponent: 'Victor Lamme',
                x: 0.3, y: 0.5,
                color: '#F59E0B',
                size: 40,
                core: 'Local recurrent processing in sensory areas suffices for phenomenal consciousness. No global broadcast needed.',
                predictions: 'Early visual cortex can generate experience. Recurrent ≠ feedforward. Local processing conscious.',
                cogitate: 'Partially supported by posterior cortex findings.',
                positions: ['Local-focused', 'Phenomenal-first', 'Anti-global']
            },
            {
                id: 'pp',
                name: 'Predictive Processing',
                abbrev: 'PP',
                proponent: 'Karl Friston, Anil Seth',
                x: 0.45, y: 0.65,
                color: '#06B6D4',
                size: 45,
                core: 'Consciousness is "controlled hallucination" — the brain\'s best prediction about causes of sensory input.',
                predictions: 'Prediction error minimization. Top-down generation of experience. Active inference.',
                cogitate: 'Being tested in INTREPID collaboration.',
                positions: ['Predictive', 'Constructive', 'Embodied']
            },
            {
                id: 'ast',
                name: 'Attention Schema Theory',
                abbrev: 'AST',
                proponent: 'Michael Graziano',
                x: 0.6, y: 0.4,
                color: '#EF4444',
                size: 35,
                core: 'Consciousness is a schematic model the brain builds of its own attention — like body schema for movement.',
                predictions: 'Temporal-parietal junction crucial. Attention modeling = consciousness. Explains why we think we have qualia.',
                cogitate: 'Not directly tested.',
                positions: ['Attention-based', 'Schema', 'Illusionist-adjacent']
            },
            {
                id: 'orch',
                name: 'Orchestrated Objective Reduction',
                abbrev: 'Orch-OR',
                proponent: 'Penrose & Hameroff',
                x: 0.15, y: 0.25,
                color: '#A855F7',
                size: 30,
                core: 'Consciousness arises from quantum processes in microtubules. Gravity-induced collapse creates moments of experience.',
                predictions: 'Quantum coherence in neurons. Non-computational. Anesthetics work by disrupting microtubules.',
                cogitate: 'Not tested. Highly controversial.',
                positions: ['Quantum', 'Non-computational', 'Exotic']
            },
            {
                id: 'illusionism',
                name: 'Illusionism',
                abbrev: 'ILLUS',
                proponent: 'Keith Frankish, Daniel Dennett',
                x: 0.85, y: 0.3,
                color: '#6B7280',
                size: 35,
                core: 'The hard problem is confused. Qualia don\'t have the properties introspection suggests. Experience is a kind of useful fiction.',
                predictions: 'Explaining why we THINK there\'s hard problem IS the solution. No residual mystery.',
                cogitate: 'N/A — different explanatory target.',
                positions: ['Eliminativist', 'Deflationary', 'Anti-qualia']
            },
            {
                id: 'bio',
                name: 'Biological Naturalism',
                abbrev: 'BIO',
                proponent: 'Anil Seth, John Searle',
                x: 0.2, y: 0.6,
                color: '#22C55E',
                size: 35,
                core: 'Consciousness is a biological phenomenon requiring specific physical mechanisms — not just functional organization.',
                predictions: 'AI consciousness unlikely without biological substrate. Brain-like ≠ simulation.',
                cogitate: 'Offers perspective on AI implications.',
                positions: ['Biological', 'Anti-simulation', 'Naturalist']
            }
        ];

        let panX = 0, panY = 0;
        let dragging = false;
        let lastMouseX, lastMouseY;
        let hoveredTheory = null;
        let selectedTheory = null;

        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth * window.devicePixelRatio;
            canvas.height = container.clientHeight * window.devicePixelRatio;
            canvas.style.width = container.clientWidth + 'px';
            canvas.style.height = container.clientHeight + 'px';
            ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
        }

        function getTheoryAt(x, y) {
            const w = canvas.clientWidth;
            const h = canvas.clientHeight;

            for (const theory of theories) {
                const tx = theory.x * w + panX;
                const ty = theory.y * h + panY;
                const dist = Math.hypot(x - tx, y - ty);
                if (dist < theory.size) {
                    return theory;
                }
            }
            return null;
        }

        function draw() {
            const w = canvas.clientWidth;
            const h = canvas.clientHeight;

            ctx.fillStyle = 'rgba(15, 20, 25, 1)';
            ctx.fillRect(0, 0, w, h);

            // Grid
            ctx.strokeStyle = 'rgba(255,255,255,0.05)';
            ctx.lineWidth = 1;
            for (let x = 0; x < w; x += 50) {
                ctx.beginPath();
                ctx.moveTo(x + panX % 50, 0);
                ctx.lineTo(x + panX % 50, h);
                ctx.stroke();
            }
            for (let y = 0; y < h; y += 50) {
                ctx.beginPath();
                ctx.moveTo(0, y + panY % 50);
                ctx.lineTo(w, y + panY % 50);
                ctx.stroke();
            }

            // Axis labels
            ctx.fillStyle = 'rgba(255,255,255,0.3)';
            ctx.font = '12px Nunito';
            ctx.textAlign = 'center';
            ctx.fillText('← Biological / Substrate-dependent', w * 0.25, h - 20);
            ctx.fillText('Functional / Computational →', w * 0.75, h - 20);

            ctx.save();
            ctx.translate(20, h / 2);
            ctx.rotate(-Math.PI / 2);
            ctx.fillText('Local / Sensory ↓', 0, 0);
            ctx.restore();

            ctx.save();
            ctx.translate(w - 20, h / 2);
            ctx.rotate(Math.PI / 2);
            ctx.fillText('↑ Global / Distributed', 0, 0);
            ctx.restore();

            // Connections (draw faint lines between related theories)
            const connections = [
                ['iit', 'rpt', 0.3],
                ['gnwt', 'hot', 0.4],
                ['pp', 'bio', 0.3],
                ['ast', 'hot', 0.3],
                ['illusionism', 'gnwt', 0.2],
                ['iit', 'orch', 0.2]
            ];

            connections.forEach(([from, to, strength]) => {
                const t1 = theories.find(t => t.id === from);
                const t2 = theories.find(t => t.id === to);
                if (t1 && t2) {
                    ctx.beginPath();
                    ctx.moveTo(t1.x * w + panX, t1.y * h + panY);
                    ctx.lineTo(t2.x * w + panX, t2.y * h + panY);
                    ctx.strokeStyle = `rgba(255,255,255,${strength * 0.3})`;
                    ctx.lineWidth = 1;
                    ctx.stroke();
                }
            });

            // Draw theories
            theories.forEach(theory => {
                const tx = theory.x * w + panX;
                const ty = theory.y * h + panY;
                const isHovered = hoveredTheory === theory;
                const isSelected = selectedTheory === theory;
                const size = theory.size * (isHovered ? 1.2 : 1);

                // Glow
                const gradient = ctx.createRadialGradient(tx, ty, 0, tx, ty, size * 2);
                gradient.addColorStop(0, theory.color + '40');
                gradient.addColorStop(1, theory.color + '00');
                ctx.beginPath();
                ctx.arc(tx, ty, size * 2, 0, Math.PI * 2);
                ctx.fillStyle = gradient;
                ctx.fill();

                // Main circle
                ctx.beginPath();
                ctx.arc(tx, ty, size, 0, Math.PI * 2);
                ctx.fillStyle = theory.color + (isHovered || isSelected ? 'FF' : 'CC');
                ctx.fill();

                if (isSelected) {
                    ctx.strokeStyle = 'white';
                    ctx.lineWidth = 3;
                    ctx.stroke();
                }

                // Label
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px Nunito';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(theory.abbrev, tx, ty);
            });

            requestAnimationFrame(draw);
        }

        function showTheoryPanel(theory) {
            selectedTheory = theory;
            const panel = document.getElementById('theoryPanel');
            const content = document.getElementById('panelContent');

            const positionBadges = theory.positions.map(p =>
                `<span class="position-badge" style="background: ${theory.color}40; border: 1px solid ${theory.color}">${p}</span>`
            ).join('');

            content.innerHTML = `
                <div class="theory-header">
                    <div class="theory-name" style="color: ${theory.color}">${theory.name}</div>
                    <div class="theory-proponent">${theory.proponent}</div>
                </div>
                <div class="theory-section">
                    <div class="section-title">Core Claim</div>
                    <p>${theory.core}</p>
                </div>
                <div class="theory-section">
                    <div class="section-title">Key Predictions</div>
                    <p>${theory.predictions}</p>
                </div>
                <div class="theory-section">
                    <div class="section-title">Cogitate Status</div>
                    <p>${theory.cogitate}</p>
                </div>
                <div class="theory-section">
                    <div class="section-title">Positions</div>
                    <div class="position-badges">${positionBadges}</div>
                </div>
            `;

            panel.classList.add('active');
        }

        function closePanel() {
            document.getElementById('theoryPanel').classList.remove('active');
            selectedTheory = null;
        }

        canvas.addEventListener('mousedown', (e) => {
            dragging = true;
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
        });

        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            if (dragging) {
                panX += e.clientX - lastMouseX;
                panY += e.clientY - lastMouseY;
                lastMouseX = e.clientX;
                lastMouseY = e.clientY;
            } else {
                hoveredTheory = getTheoryAt(x, y);
                canvas.style.cursor = hoveredTheory ? 'pointer' : 'grab';
            }
        });

        canvas.addEventListener('mouseup', () => {
            dragging = false;
        });

        canvas.addEventListener('mouseleave', () => {
            dragging = false;
            hoveredTheory = null;
        });

        canvas.addEventListener('click', (e) => {
            if (!dragging) {
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const theory = getTheoryAt(x, y);
                if (theory) {
                    showTheoryPanel(theory);
                }
            }
        });

        window.addEventListener('resize', resizeCanvas);

        resizeCanvas();
        draw();
    </script>
</body>
</html>
