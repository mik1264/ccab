<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schr√∂dinger's Cat - Quantum Physics</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: linear-gradient(135deg, #0a0a1a 0%, #1a1a3e 100%); color: #eee; min-height: 100vh; padding: 20px; }
        .back-link { position: fixed; top: 20px; left: 20px; color: #60a5fa; text-decoration: none; font-weight: 600; padding: 8px 16px; background: rgba(0,0,0,0.3); border-radius: 20px; z-index: 100; }
        h1 { text-align: center; margin: 40px 0 10px; font-size: 2.2em; color: #60a5fa; }
        .subtitle { text-align: center; opacity: 0.8; margin-bottom: 20px; }
        .container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 300px; gap: 20px; }
        .panel { background: rgba(255,255,255,0.05); border-radius: 12px; padding: 25px; }
        .info-box { background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.3); border-radius: 8px; padding: 15px; margin-bottom: 20px; font-size: 0.85em; line-height: 1.6; }
        h3 { color: #60a5fa; margin-bottom: 15px; }
        canvas { width: 100%; border-radius: 8px; background: #050510; cursor: pointer; }
        .control-group { margin: 15px 0; }
        .control-group label { display: block; margin-bottom: 5px; }
        .control-group input { width: 100%; }
        .value-display { color: #60a5fa; font-family: monospace; }
        button { width: 100%; padding: 12px; margin: 8px 0; border: none; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer; }
        .btn-primary { background: #60a5fa; color: #0a0a1a; }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #fff; }
        .state-display { background: rgba(0,0,0,0.2); border-radius: 8px; padding: 20px; text-align: center; margin: 15px 0; }
        .state-display .state { font-size: 1.4em; margin: 10px 0; }
        .state-display .alive { color: #4ade80; }
        .state-display .dead { color: #f87171; }
        .state-display .superposition { color: #c084fc; }
        .quote { font-style: italic; opacity: 0.8; font-size: 0.9em; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px; margin: 15px 0; }
        @media (max-width: 900px) { .container { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back</a>
    <h1>Schr√∂dinger's Cat</h1>
    <p class="subtitle">Macroscopic superposition thought experiment</p>

    <div class="container">
        <div class="panel">
            <canvas id="canvas" width="800" height="500"></canvas>
        </div>

        <div class="panel">
            <div class="info-box">
                <strong>Schr√∂dinger's Cat:</strong>
                A cat in a box with a radioactive atom. If the atom decays,
                poison is released and the cat dies. Until we look,
                quantum mechanics says the atom is in superposition of
                decayed/not-decayed - and so is the cat: alive AND dead!
            </div>

            <div class="state-display">
                <div style="font-size: 0.9em; opacity: 0.7;">Current State</div>
                <div class="state superposition" id="catState">|œà‚ü© = |üò∫‚ü© + |üíÄ‚ü©</div>
                <div style="font-size: 0.85em; margin-top: 5px;" id="stateNote">
                    Superposition (not observed)
                </div>
            </div>

            <h3>Decay Probability</h3>
            <div class="control-group">
                <label>Half-life setting: <span class="value-display" id="halfLifeVal">50%</span></label>
                <input type="range" id="halfLifeSlider" min="10" max="90" value="50" oninput="updateHalfLife()">
            </div>

            <button class="btn-primary" onclick="openBox()">Open the Box! üì¶</button>
            <button class="btn-secondary" onclick="resetExperiment()">Reset Experiment</button>

            <h3 style="margin-top: 15px;">Statistics (many trials)</h3>
            <div style="font-size: 0.9em;">
                <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                    <span>Trials:</span>
                    <span class="value-display" id="trials">0</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                    <span>üò∫ Alive:</span>
                    <span style="color: #4ade80;" id="aliveCount">0 (0%)</span>
                </div>
                <div style="display: flex; justify-content: space-between; padding: 5px 0;">
                    <span>üíÄ Dead:</span>
                    <span style="color: #f87171;" id="deadCount">0 (0%)</span>
                </div>
            </div>

            <button class="btn-secondary" onclick="runManyTrials()">Run 100 Trials</button>

            <div class="quote">
                "I don't like it, and I'm sorry I ever had anything to do with it."
                <br>‚Äî Erwin Schr√∂dinger (about his own thought experiment)
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        let boxOpen = false;
        let catAlive = null;
        let decayProb = 0.5;
        let trials = 0;
        let aliveCount = 0;
        let deadCount = 0;
        let time = 0;
        let animationPhase = 0;

        function updateHalfLife() {
            decayProb = parseInt(document.getElementById('halfLifeSlider').value) / 100;
            document.getElementById('halfLifeVal').textContent = Math.round(decayProb * 100) + '%';
        }

        function openBox() {
            if (boxOpen) {
                resetExperiment();
                return;
            }

            boxOpen = true;
            catAlive = Math.random() > decayProb;
            animationPhase = 1;

            trials++;
            if (catAlive) aliveCount++;
            else deadCount++;

            updateDisplay();
        }

        function resetExperiment() {
            boxOpen = false;
            catAlive = null;
            animationPhase = 0;
            updateDisplay();
        }

        function runManyTrials() {
            for (let i = 0; i < 100; i++) {
                const alive = Math.random() > decayProb;
                trials++;
                if (alive) aliveCount++;
                else deadCount++;
            }
            updateStats();
        }

        function updateDisplay() {
            const stateEl = document.getElementById('catState');
            const noteEl = document.getElementById('stateNote');

            if (!boxOpen) {
                stateEl.textContent = '|œà‚ü© = |üò∫‚ü© + |üíÄ‚ü©';
                stateEl.className = 'state superposition';
                noteEl.textContent = 'Superposition (not observed)';
            } else if (catAlive) {
                stateEl.textContent = '|üò∫‚ü© Alive!';
                stateEl.className = 'state alive';
                noteEl.textContent = 'Collapsed to alive state';
            } else {
                stateEl.textContent = '|üíÄ‚ü© Dead...';
                stateEl.className = 'state dead';
                noteEl.textContent = 'Collapsed to dead state';
            }

            updateStats();
        }

        function updateStats() {
            document.getElementById('trials').textContent = trials;
            const alivePct = trials > 0 ? (aliveCount / trials * 100).toFixed(1) : 0;
            const deadPct = trials > 0 ? (deadCount / trials * 100).toFixed(1) : 0;
            document.getElementById('aliveCount').textContent = `${aliveCount} (${alivePct}%)`;
            document.getElementById('deadCount').textContent = `${deadCount} (${deadPct}%)`;
        }

        function drawBox(x, y, width, height, open) {
            ctx.fillStyle = '#654321';
            ctx.strokeStyle = '#8B4513';
            ctx.lineWidth = 3;

            // Box body
            ctx.fillRect(x, y, width, height);
            ctx.strokeRect(x, y, width, height);

            // Wood grain lines
            ctx.strokeStyle = '#4a3218';
            ctx.lineWidth = 1;
            for (let i = 0; i < 5; i++) {
                ctx.beginPath();
                ctx.moveTo(x, y + height * (i + 1) / 6);
                ctx.lineTo(x + width, y + height * (i + 1) / 6);
                ctx.stroke();
            }

            // Lid
            if (open) {
                ctx.save();
                ctx.translate(x, y);
                ctx.rotate(-Math.PI / 3);
                ctx.fillStyle = '#654321';
                ctx.fillRect(0, -10, width, 20);
                ctx.strokeStyle = '#8B4513';
                ctx.lineWidth = 2;
                ctx.strokeRect(0, -10, width, 20);
                ctx.restore();
            } else {
                ctx.fillStyle = '#7a5530';
                ctx.fillRect(x - 5, y - 15, width + 10, 20);
                ctx.strokeStyle = '#8B4513';
                ctx.lineWidth = 2;
                ctx.strokeRect(x - 5, y - 15, width + 10, 20);

                // Question marks on closed box
                ctx.fillStyle = '#fff';
                ctx.font = 'bold 40px sans-serif';
                ctx.fillText('?', x + width / 2 - 12, y + height / 2 + 15);
            }
        }

        function drawCat(x, y, alive, phase) {
            ctx.save();
            ctx.translate(x, y);

            if (alive) {
                // Happy cat
                const bounce = Math.sin(time * 3) * 5;
                ctx.translate(0, bounce);

                // Body
                ctx.fillStyle = '#808080';
                ctx.beginPath();
                ctx.ellipse(0, 20, 40, 30, 0, 0, Math.PI * 2);
                ctx.fill();

                // Head
                ctx.beginPath();
                ctx.arc(-30, -10, 25, 0, Math.PI * 2);
                ctx.fill();

                // Ears
                ctx.beginPath();
                ctx.moveTo(-45, -25);
                ctx.lineTo(-55, -50);
                ctx.lineTo(-35, -35);
                ctx.closePath();
                ctx.fill();
                ctx.beginPath();
                ctx.moveTo(-15, -25);
                ctx.lineTo(-5, -50);
                ctx.lineTo(-25, -35);
                ctx.closePath();
                ctx.fill();

                // Eyes
                ctx.fillStyle = '#4ade80';
                ctx.beginPath();
                ctx.arc(-40, -15, 6, 0, Math.PI * 2);
                ctx.arc(-20, -15, 6, 0, Math.PI * 2);
                ctx.fill();

                // Pupils
                ctx.fillStyle = '#000';
                ctx.beginPath();
                ctx.ellipse(-40, -15, 2, 4, 0, 0, Math.PI * 2);
                ctx.ellipse(-20, -15, 2, 4, 0, 0, Math.PI * 2);
                ctx.fill();

                // Nose
                ctx.fillStyle = '#ffb6c1';
                ctx.beginPath();
                ctx.moveTo(-30, -5);
                ctx.lineTo(-35, 0);
                ctx.lineTo(-25, 0);
                ctx.closePath();
                ctx.fill();

                // Smile
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(-30, -2, 8, 0.2, Math.PI - 0.2);
                ctx.stroke();

                // Tail (wagging)
                const tailWag = Math.sin(time * 5) * 0.3;
                ctx.strokeStyle = '#808080';
                ctx.lineWidth = 8;
                ctx.lineCap = 'round';
                ctx.beginPath();
                ctx.moveTo(40, 20);
                ctx.quadraticCurveTo(70, 0 + tailWag * 30, 60, -30 + tailWag * 20);
                ctx.stroke();

            } else {
                // Dead cat (X eyes, lying down)
                // Body (lying flat)
                ctx.fillStyle = '#606060';
                ctx.beginPath();
                ctx.ellipse(0, 30, 50, 20, 0, 0, Math.PI * 2);
                ctx.fill();

                // Head (tilted)
                ctx.beginPath();
                ctx.arc(-40, 20, 20, 0, Math.PI * 2);
                ctx.fill();

                // X eyes
                ctx.strokeStyle = '#000';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(-50, 15);
                ctx.lineTo(-42, 23);
                ctx.moveTo(-50, 23);
                ctx.lineTo(-42, 15);
                ctx.moveTo(-38, 15);
                ctx.lineTo(-30, 23);
                ctx.moveTo(-38, 23);
                ctx.lineTo(-30, 15);
                ctx.stroke();

                // Tongue out
                ctx.fillStyle = '#ff69b4';
                ctx.beginPath();
                ctx.ellipse(-40, 35, 5, 8, 0, 0, Math.PI * 2);
                ctx.fill();

                // Legs sticking up
                ctx.strokeStyle = '#606060';
                ctx.lineWidth = 8;
                ctx.lineCap = 'round';
                ctx.beginPath();
                ctx.moveTo(-20, 20);
                ctx.lineTo(-25, -10);
                ctx.moveTo(0, 20);
                ctx.lineTo(5, -10);
                ctx.moveTo(20, 25);
                ctx.lineTo(30, 0);
                ctx.moveTo(40, 30);
                ctx.lineTo(55, 10);
                ctx.stroke();
            }

            ctx.restore();
        }

        function drawAtom(x, y, decayed) {
            ctx.save();
            ctx.translate(x, y);

            // Nucleus
            ctx.fillStyle = decayed ? '#f87171' : '#60a5fa';
            ctx.beginPath();
            ctx.arc(0, 0, 15, 0, Math.PI * 2);
            ctx.fill();

            // Electron orbits
            ctx.strokeStyle = decayed ? 'rgba(248, 113, 113, 0.5)' : 'rgba(96, 165, 250, 0.5)';
            ctx.lineWidth = 2;

            for (let i = 0; i < 3; i++) {
                ctx.save();
                ctx.rotate(i * Math.PI / 3 + time);
                ctx.beginPath();
                ctx.ellipse(0, 0, 30, 10, 0, 0, Math.PI * 2);
                ctx.stroke();

                // Electron
                ctx.fillStyle = '#fff';
                ctx.beginPath();
                ctx.arc(30 * Math.cos(time * 2 + i), 10 * Math.sin(time * 2 + i), 4, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }

            // Decay particles if decayed
            if (decayed) {
                ctx.fillStyle = '#facc15';
                for (let i = 0; i < 5; i++) {
                    const angle = time * 2 + i * Math.PI * 2 / 5;
                    const dist = 40 + Math.sin(time * 3 + i) * 10;
                    ctx.beginPath();
                    ctx.arc(Math.cos(angle) * dist, Math.sin(angle) * dist, 3, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            ctx.restore();
        }

        function drawSuperposition() {
            // Draw ghostly overlay of both states
            ctx.globalAlpha = 0.4 + Math.sin(time * 2) * 0.2;
            drawCat(canvas.width / 2 - 50, canvas.height / 2 + 30, true, 0);
            ctx.globalAlpha = 0.4 - Math.sin(time * 2) * 0.2;
            drawCat(canvas.width / 2 + 50, canvas.height / 2 + 30, false, 0);
            ctx.globalAlpha = 1;
        }

        function draw() {
            ctx.fillStyle = '#050510';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            time += 0.03;

            const boxX = canvas.width / 2 - 150;
            const boxY = canvas.height / 2 - 100;
            const boxW = 300;
            const boxH = 200;

            // Draw radioactive atom
            drawAtom(150, 150, boxOpen && !catAlive);
            ctx.fillStyle = '#fff';
            ctx.font = '12px sans-serif';
            ctx.fillText('Radioactive', 115, 200);
            ctx.fillText('Atom', 135, 215);

            // Draw poison vial
            ctx.fillStyle = boxOpen && !catAlive ? '#4ade80' : '#9333ea';
            ctx.beginPath();
            ctx.moveTo(650, 120);
            ctx.lineTo(640, 180);
            ctx.lineTo(660, 180);
            ctx.closePath();
            ctx.fill();

            ctx.fillStyle = '#fff';
            ctx.font = '20px sans-serif';
            ctx.fillText('‚ò†Ô∏è', 640, 210);
            ctx.font = '12px sans-serif';
            ctx.fillText('Poison', 635, 235);

            // Draw connection lines
            ctx.strokeStyle = 'rgba(255,255,255,0.3)';
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(180, 150);
            ctx.lineTo(boxX, 150);
            ctx.moveTo(boxX + boxW, 150);
            ctx.lineTo(620, 150);
            ctx.stroke();
            ctx.setLineDash([]);

            // Draw the box
            drawBox(boxX, boxY, boxW, boxH, boxOpen);

            // Draw cat
            if (boxOpen) {
                drawCat(canvas.width / 2, canvas.height / 2 + 30, catAlive, animationPhase);
            } else {
                // Superposition visualization
                drawSuperposition();
            }

            // Labels and equations
            ctx.fillStyle = '#fff';
            ctx.font = 'bold 16px sans-serif';

            if (boxOpen) {
                ctx.fillText(catAlive ? 'Wave function collapsed: CAT IS ALIVE!' : 'Wave function collapsed: CAT IS DEAD...', 200, 50);
            } else {
                ctx.fillText('Before observation: |œà‚ü© = (|alive‚ü© + |dead‚ü©)/‚àö2', 220, 50);
                ctx.font = '14px sans-serif';
                ctx.fillText('The cat is in a superposition of alive AND dead!', 240, 75);
            }

            // Instruction
            ctx.fillStyle = 'rgba(255,255,255,0.6)';
            ctx.font = '14px sans-serif';
            ctx.fillText(boxOpen ? 'Click "Reset" to try again' : 'Click the box or button to observe', canvas.width / 2 - 100, canvas.height - 30);
        }

        // Click on box to open
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left) * (canvas.width / rect.width);
            const y = (e.clientY - rect.top) * (canvas.height / rect.height);

            const boxX = canvas.width / 2 - 150;
            const boxY = canvas.height / 2 - 100;

            if (x > boxX && x < boxX + 300 && y > boxY && y < boxY + 200) {
                if (!boxOpen) openBox();
                else resetExperiment();
            }
        });

        function animate() {
            draw();
            requestAnimationFrame(animate);
        }

        updateHalfLife();
        animate();
    </script>
</body>
</html>
