<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Square Wave - Satisfying Animations - CCAB</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #0a0e1a; overflow: hidden; }
        canvas { display: block; }
        .back-link { position: fixed; top: 20px; left: 20px; padding: 10px 20px; background: rgba(254, 250, 224, 0.9); color: #606C38; text-decoration: none; border-radius: 25px; font-family: 'Segoe UI', sans-serif; font-weight: 600; font-size: 14px; z-index: 1000; }
        .back-link:hover { background: #FEFAE0; transform: translateX(-5px); }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back</a>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <script>
        let squares = [];
        let gridSize;
        const GRID = 12;

        function setup() {
            createCanvas(windowWidth, windowHeight);
            colorMode(HSB, 360, 100, 100, 100);
            rectMode(CENTER);
            initGrid();
        }

        function initGrid() {
            squares = [];
            gridSize = min(width, height) / (GRID + 2);

            const offsetX = (width - gridSize * GRID) / 2 + gridSize / 2;
            const offsetY = (height - gridSize * GRID) / 2 + gridSize / 2;

            for (let row = 0; row < GRID; row++) {
                for (let col = 0; col < GRID; col++) {
                    squares.push({
                        x: offsetX + col * gridSize,
                        y: offsetY + row * gridSize,
                        row: row,
                        col: col,
                        rotation: 0,
                        scale: 1,
                        hue: (row * 25 + col * 20) % 360
                    });
                }
            }
        }

        function draw() {
            background(230, 30, 10);

            const time = millis() * 0.002;

            for (let sq of squares) {
                // Wave pattern based on position
                const distFromCenter = dist(sq.col, sq.row, GRID / 2 - 0.5, GRID / 2 - 0.5);
                const waveOffset = distFromCenter * 0.3;

                // Rotation wave
                sq.rotation = sin(time - waveOffset) * PI / 4;

                // Scale wave
                sq.scale = 0.8 + sin(time * 1.5 - waveOffset) * 0.15;

                // Color wave
                const hueShift = sin(time * 0.5 - waveOffset) * 30;

                push();
                translate(sq.x, sq.y);
                rotate(sq.rotation);
                scale(sq.scale);

                const size = gridSize * 0.8;

                // Shadow
                fill(0, 0, 0, 20);
                noStroke();
                rect(3, 3, size, size, 4);

                // Square
                fill(sq.hue + hueShift, 55, 70);
                stroke(sq.hue + hueShift, 65, 50);
                strokeWeight(1);
                rect(0, 0, size, size, 4);

                // Inner highlight
                fill(sq.hue + hueShift, 35, 85, 40);
                noStroke();
                rect(-size * 0.1, -size * 0.1, size * 0.5, size * 0.5, 3);

                // Corner accent
                fill(sq.hue + hueShift, 70, 60);
                rect(size * 0.25, size * 0.25, size * 0.2, size * 0.2, 2);

                pop();
            }
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
            initGrid();
        }
    </script>
</body>
</html>
