<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Oscillation - Satisfying Animations - CCAB</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #0a0e1a; overflow: hidden; }
        canvas { display: block; }
        .back-link { position: fixed; top: 20px; left: 20px; padding: 10px 20px; background: rgba(254, 250, 224, 0.9); color: #606C38; text-decoration: none; border-radius: 25px; font-family: 'Segoe UI', sans-serif; font-weight: 600; font-size: 14px; z-index: 1000; }
        .back-link:hover { background: #FEFAE0; transform: translateX(-5px); }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back</a>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
    <script>
        const NUM_SPRINGS = 10;
        let springs = [];

        class Spring {
            constructor(index, total) {
                this.index = index;
                this.phase = (index / total) * TWO_PI;
                this.restLength = 0;
                this.currentLength = 0;
                this.hue = map(index, 0, total - 1, 180, 300);
            }

            update(time, restLength, amplitude) {
                this.restLength = restLength;
                const oscillation = sin(time * 0.003 + this.phase);
                this.currentLength = restLength + oscillation * amplitude;
            }

            draw(x, topY, coils) {
                const coilHeight = this.currentLength / coils;
                const coilWidth = 30;

                // Draw spring coils
                stroke(this.hue, 60, 80);
                strokeWeight(4);
                noFill();

                beginShape();
                for (let i = 0; i <= coils; i++) {
                    const y = topY + i * coilHeight;
                    const xOffset = (i % 2 === 0 ? -1 : 1) * coilWidth;
                    if (i === 0 || i === coils) {
                        vertex(x, y);
                    } else {
                        vertex(x + xOffset, y);
                    }
                }
                endShape();

                // Draw weight
                const weightY = topY + this.currentLength;
                const weightSize = 40;

                // Shadow
                fill(0, 0, 0, 30);
                noStroke();
                ellipse(x, weightY + weightSize + 20, weightSize * 1.5, 10);

                // Weight glow
                for (let r = weightSize + 15; r > weightSize; r -= 3) {
                    fill(this.hue, 60, 80, map(r, weightSize + 15, weightSize, 0, 30));
                    ellipse(x, weightY, r);
                }

                // Weight
                fill(this.hue, 50, 85);
                stroke(this.hue, 40, 70);
                strokeWeight(2);
                ellipse(x, weightY, weightSize);

                // Highlight
                fill(0, 0, 100, 50);
                noStroke();
                ellipse(x - 8, weightY - 8, 12);
            }
        }

        function setup() {
            createCanvas(windowWidth, windowHeight);
            colorMode(HSB, 360, 100, 100, 100);

            for (let i = 0; i < NUM_SPRINGS; i++) {
                springs.push(new Spring(i, NUM_SPRINGS));
            }
        }

        function draw() {
            background(230, 30, 10);

            // Top bar
            fill(40, 30, 30);
            noStroke();
            rect(width * 0.05, height * 0.1, width * 0.9, 15, 5);

            const spacing = width / (NUM_SPRINGS + 1);
            const restLength = height * 0.4;
            const amplitude = height * 0.15;
            const time = millis();

            for (let i = 0; i < NUM_SPRINGS; i++) {
                const x = spacing * (i + 1);
                springs[i].update(time, restLength, amplitude);
                springs[i].draw(x, height * 0.12, 12);
            }
        }

        function windowResized() { resizeCanvas(windowWidth, windowHeight); }
    </script>
</body>
</html>
