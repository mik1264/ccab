<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Music - Theremin Instrument</title>
<style>body{margin:0;overflow:hidden;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);display:flex;justify-content:center;align-items:center;height:100vh;font-family:Arial}canvas{border:2px solid#fff;cursor:crosshair;box-shadow:0 10px 40px rgba(0,0,0,0.3)}.info{position:absolute;top:20px;left:20px;color:white;background:rgba(0,0,0,0.6);padding:20px;border-radius:8px;backdrop-filter:blur(10px)}.freq{font-size:32px;font-weight:bold;margin:10px 0}.note{font-size:24px;opacity:0.8}</style></head>
<body><div class="info"><div>X-axis: Pitch</div><div>Y-axis: Volume</div><div class="freq">Freq: <span id="freq">0</span> Hz</div><div class="note">Note: <span id="note">-</span></div></div><canvas id="c"></canvas><script>
const c=document.getElementById('c'),ctx=c.getContext('2d');c.width=800;c.height=600;
const audioCtx=new(window.AudioContext||window.webkitAudioContext)();
const osc=audioCtx.createOscillator(),gain=audioCtx.createGain(),analyser=audioCtx.createAnalyser();
osc.type='sine';osc.frequency.value=440;gain.gain.value=0;analyser.fftSize=256;
osc.connect(gain);gain.connect(analyser);analyser.connect(audioCtx.destination);osc.start();
const notes=['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];
function freqToNote(freq){const noteNum=12*Math.log2(freq/440)+49;const octave=Math.floor((noteNum+8)/12);const note=Math.round(noteNum)%12;return notes[note<0?note+12:note]+(octave<0?octave:octave)}
let mouseX=0,mouseY=0,trail=[];
c.addEventListener('mousemove',e=>{const rect=c.getBoundingClientRect();mouseX=e.clientX-rect.left;mouseY=e.clientY-rect.top;
const freq=200+mouseX/c.width*800,volume=Math.max(0,1-mouseY/c.height);
osc.frequency.setTargetAtTime(freq,audioCtx.currentTime,0.01);gain.gain.setTargetAtTime(volume*0.3,audioCtx.currentTime,0.01);
document.getElementById('freq').textContent=Math.round(freq);document.getElementById('note').textContent=freqToNote(freq);
trail.push({x:mouseX,y:mouseY,life:1});if(trail.length>50)trail.shift()});
c.addEventListener('mouseleave',()=>{gain.gain.setTargetAtTime(0,audioCtx.currentTime,0.1)});
const dataArray=new Uint8Array(analyser.frequencyBinCount);
function render(){ctx.fillStyle='rgba(0,0,0,0.1)';ctx.fillRect(0,0,c.width,c.height);
analyser.getByteFrequencyData(dataArray);
const barWidth=c.width/dataArray.length*2;for(let i=0;i<dataArray.length;i++){const barHeight=dataArray[i]/255*c.height*0.3,x=i*barWidth,hue=200+i/dataArray.length*160;ctx.fillStyle=`hsla(${hue},70%,60%,0.5)`;ctx.fillRect(x,c.height-barHeight,barWidth-2,barHeight)}
trail.forEach((p,i)=>{p.life-=0.02;if(p.life<=0)trail.splice(i,1);else{ctx.fillStyle=`rgba(255,255,255,${p.life*0.5})`;ctx.beginPath();ctx.arc(p.x,p.y,5,0,Math.PI*2);ctx.fill()}});
ctx.strokeStyle='rgba(255,255,255,0.3)';ctx.lineWidth=1;for(let i=0;i<10;i++){const y=i/10*c.height;ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(c.width,y);ctx.stroke()}
ctx.fillStyle='rgba(255,255,255,0.8)';ctx.shadowBlur=20;ctx.shadowColor='rgba(255,255,255,0.5)';ctx.beginPath();ctx.arc(mouseX,mouseY,10,0,Math.PI*2);ctx.fill();ctx.shadowBlur=0;
requestAnimationFrame(render)}
render();
</script></body></html>
