<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Music - Step Sequencer</title>
<style>body{margin:0;overflow:hidden;background:#0f0f1e;display:flex;justify-content:center;align-items:center;height:100vh;font-family:Arial}canvas{border:2px solid#333;cursor:pointer}.controls{position:absolute;top:20px;left:20px;color:white;background:rgba(0,0,0,0.8);padding:15px;border-radius:8px}button{background:#4CAF50;color:white;border:none;padding:10px 20px;margin:5px;border-radius:4px;cursor:pointer}button:hover{background:#45a049}</style>
<style>
.organic-back-link{position:fixed;top:20px;left:20px;z-index:10000;display:inline-flex;align-items:center;gap:0.5rem;color:#BC6C25;text-decoration:none;font-family:'Nunito',-apple-system,BlinkMacSystemFont,sans-serif;font-weight:600;padding:0.5rem 1rem;background:rgba(254,250,224,0.95);border-radius:20px;border:2px solid rgba(138,154,91,0.3);transition:all 0.3s ease;box-shadow:0 4px 15px rgba(96,108,56,0.15)}
.organic-back-link:hover{background:rgba(254,250,224,1);transform:translateX(-5px);border-color:#DDA15E;box-shadow:0 6px 20px rgba(96,108,56,0.25)}
</style>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600&display=swap" rel="stylesheet">
</head>
<body><a href="../../index.html" class="organic-back-link">‚Üê Gallery</a><div class="controls"><button onclick="togglePlay()"><span id="playtext">Play</span></button><button onclick="clearGrid()">Clear</button><div>BPM: <input type="range" min="60" max="180" value="120" oninput="setBPM(this.value)"><span id="bpm">120</span></div></div><canvas id="c"></canvas><script>
const c=document.getElementById('c'),ctx=c.getContext('2d');c.width=800;c.height=600;
const audioCtx=new(window.AudioContext||window.webkitAudioContext)();
const ROWS=8,COLS=16,notes=[523,494,440,392,349,330,294,262];
let grid=Array(ROWS).fill(0).map(()=>Array(COLS).fill(false)),playing=false,currentStep=0,bpm=120;
function togglePlay(){playing=!playing;document.getElementById('playtext').textContent=playing?'Stop':'Play'}
function clearGrid(){grid=Array(ROWS).fill(0).map(()=>Array(COLS).fill(false))}
function setBPM(val){bpm=val;document.getElementById('bpm').textContent=val}
c.addEventListener('click',e=>{const rect=c.getBoundingClientRect(),x=e.clientX-rect.left,y=e.clientY-rect.top,cellW=c.width/COLS,cellH=c.height/ROWS,col=Math.floor(x/cellW),row=Math.floor(y/cellH);if(row<ROWS&&col<COLS)grid[row][col]=!grid[row][col]});
function playStep(){if(!playing)return;
for(let row=0;row<ROWS;row++){if(grid[row][currentStep]){const osc=audioCtx.createOscillator(),gain=audioCtx.createGain();osc.frequency.value=notes[row];osc.connect(gain);gain.connect(audioCtx.destination);gain.gain.setValueAtTime(0.3,audioCtx.currentTime);gain.gain.exponentialRampToValueAtTime(0.01,audioCtx.currentTime+0.2);osc.start();osc.stop(audioCtx.currentTime+0.2)}}
currentStep=(currentStep+1)%COLS}
setInterval(playStep,60000/bpm/4);
function render(){ctx.fillStyle='#0f0f1e';ctx.fillRect(0,0,c.width,c.height);
const cellW=c.width/COLS,cellH=c.height/ROWS;
for(let row=0;row<ROWS;row++){for(let col=0;col<COLS;col++){const x=col*cellW,y=row*cellH;
if(grid[row][col]){ctx.fillStyle=col===currentStep&&playing?'#ffeb3b':'#4CAF50'}else{ctx.fillStyle=col===currentStep&&playing?'#333366':'#1a1a2e'}
ctx.fillRect(x+2,y+2,cellW-4,cellH-4);ctx.strokeStyle='#444';ctx.strokeRect(x,y,cellW,cellH)}}
ctx.fillStyle='#fff';ctx.font='12px Arial';const labels=['C5','B4','A4','G4','F4','E4','D4','C4'];for(let i=0;i<ROWS;i++){ctx.fillText(labels[i],5,i*cellH+cellH/2+5)}
requestAnimationFrame(render)}
render();
</script></body></html>
