<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>Crowd - Social Distancing</title>
<style>body{margin:0;overflow:hidden;background:#f5f5f5;display:flex;justify-content:center;align-items:center;height:100vh}canvas{border:2px solid#333}.info{position:absolute;top:20px;left:20px;background:rgba(255,255,255,0.9);padding:15px;border-radius:8px;font-family:Arial;box-shadow:0 2px 10px rgba(0,0,0,0.1)}</style></head>
<body><div class="info">Green: Safe distance<br>Red: Too close<br>Infected: <span id="infected">1</span></div><canvas id="c"></canvas><script>
const c=document.getElementById('c'),ctx=c.getContext('2d');c.width=800;c.height=600;
const SAFE_DISTANCE=40;
class Person{constructor(x,y){this.x=x;this.y=y;this.vx=(Math.random()-0.5)*2;this.vy=(Math.random()-0.5)*2;this.infected=false;this.infectionTime=0;this.tooClose=false}
update(people){this.tooClose=false;let avoidX=0,avoidY=0;
for(const p of people){if(p===this)continue;const dx=this.x-p.x,dy=this.y-p.y,d=Math.sqrt(dx**2+dy**2);
if(d<SAFE_DISTANCE){this.tooClose=true;const strength=(SAFE_DISTANCE-d)/SAFE_DISTANCE;avoidX+=dx/d*strength;avoidY+=dy/d*strength;
if(!this.infected&&p.infected&&d<20&&Math.random()<0.01){this.infected=true;this.infectionTime=0}}}
this.vx+=avoidX*0.1;this.vy+=avoidY*0.1;
const speed=Math.sqrt(this.vx**2+this.vy**2);if(speed>2){this.vx=this.vx/speed*2;this.vy=this.vy/speed*2}
this.x+=this.vx;this.y+=this.vy;
if(this.x<20||this.x>c.width-20)this.vx*=-1;if(this.y<20||this.y>c.height-20)this.vy*=-1;
this.x=Math.max(20,Math.min(c.width-20,this.x));this.y=Math.max(20,Math.min(c.height-20,this.y));
if(this.infected)this.infectionTime++}
draw(){if(this.tooClose){ctx.strokeStyle='rgba(255,0,0,0.3)';ctx.lineWidth=2;ctx.beginPath();ctx.arc(this.x,this.y,SAFE_DISTANCE,0,Math.PI*2);ctx.stroke()}
ctx.fillStyle=this.infected?`rgba(255,0,0,${Math.max(0.5,1-this.infectionTime/1000)})`:this.tooClose?'#FFA500':'#4CAF50';ctx.beginPath();ctx.arc(this.x,this.y,8,0,Math.PI*2);ctx.fill();ctx.strokeStyle='#333';ctx.lineWidth=1;ctx.stroke()}}
const people=[];for(let i=0;i<50;i++){const p=new Person(50+Math.random()*(c.width-100),50+Math.random()*(c.height-100));if(i===0)p.infected=true;people.push(p)}
function animate(){ctx.fillStyle='rgba(245,245,245,0.3)';ctx.fillRect(0,0,c.width,c.height);
for(const p of people)p.update(people);for(const p of people)p.draw();
document.getElementById('infected').textContent=people.filter(p=>p.infected).length;
requestAnimationFrame(animate)}
animate();
</script></body></html>
