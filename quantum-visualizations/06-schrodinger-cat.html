<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schr√∂dinger's Cat - Quantum Visualizations</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0a0e1a;
            color: #e0e0e0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #canvas {
            display: block;
            background: #0a0e1a;
        }

        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(15, 20, 35, 0.9);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(100, 200, 255, 0.3);
            min-width: 280px;
        }

        .controls h3 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 18px;
        }

        button {
            background: linear-gradient(135deg, #00d4ff, #9000ff);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            margin-bottom: 12px;
            transition: transform 0.2s;
            font-size: 15px;
        }

        button:hover {
            transform: scale(1.05);
        }

        .open-btn {
            background: linear-gradient(135deg, #ff0080, #ff8000);
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(15, 20, 35, 0.9);
            color: #00d4ff;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            border: 1px solid rgba(100, 200, 255, 0.3);
            transition: all 0.3s;
        }

        .back-link:hover {
            background: rgba(20, 30, 50, 0.95);
            transform: translateX(-5px);
        }

        .info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(15, 20, 35, 0.9);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid rgba(100, 200, 255, 0.3);
            max-width: 400px;
        }

        .info h4 {
            color: #00d4ff;
            margin-bottom: 10px;
        }

        .info p {
            font-size: 13px;
            line-height: 1.6;
            color: #b0b0b0;
        }

        .state-display {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            text-align: center;
        }

        .state-text {
            font-size: 16px;
            font-weight: bold;
            color: #00d4ff;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }

        .probability {
            font-size: 13px;
            color: #b0b0b0;
            margin-top: 5px;
        }

        .probability span {
            color: #ffd700;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">‚Üê Back to Gallery</a>

    <canvas id="canvas"></canvas>

    <div class="controls">
        <h3>Schr√∂dinger's Cat</h3>

        <button onclick="closeBox()">Close Box (Reset)</button>
        <button class="open-btn" onclick="openBox()">Open Box (Measure!)</button>

        <div class="state-display">
            <div class="state-text" id="stateText">
                |Superposition‚ü©
            </div>
            <div class="probability">
                <div>üò∫ Alive: <span id="aliveProb">50%</span></div>
                <div>üíÄ Dead: <span id="deadProb">50%</span></div>
            </div>
        </div>
    </div>

    <div class="info">
        <h4>Schr√∂dinger's Cat</h4>
        <p>
            A thought experiment illustrating quantum superposition at a macroscopic scale.
            The cat in a closed box exists in a superposition of alive and dead states until observed.
        </p>
        <p style="margin-top: 10px;">
            <strong>The Paradox:</strong> According to quantum mechanics, until we open the box and measure,
            the cat is simultaneously both alive AND dead. Opening the box collapses the superposition
            to one definite state. Does observation really create reality?
        </p>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // State
        let boxClosed = true;
        let catState = null; // null = superposition, true = alive, false = dead
        let phase = 0;
        let openingAnimation = 0;
        let isOpening = false;

        function closeBox() {
            boxClosed = true;
            catState = null;
            isOpening = false;
            openingAnimation = 0;
            updateDisplay();
        }

        function openBox() {
            if (!boxClosed) return;

            isOpening = true;
            // Collapse to random state
            catState = Math.random() < 0.5;

            setTimeout(() => {
                boxClosed = false;
                updateDisplay();
            }, 1000);
        }

        function updateDisplay() {
            let stateText = '';
            let aliveProb = '50%';
            let deadProb = '50%';

            if (catState === null) {
                stateText = '|Superposition‚ü©';
            } else if (catState === true) {
                stateText = '|Alive‚ü© üò∫';
                aliveProb = '100%';
                deadProb = '0%';
            } else {
                stateText = '|Dead‚ü© üíÄ';
                aliveProb = '0%';
                deadProb = '100%';
            }

            document.getElementById('stateText').textContent = stateText;
            document.getElementById('aliveProb').textContent = aliveProb;
            document.getElementById('deadProb').textContent = deadProb;
        }

        function drawBox() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const boxWidth = 400;
            const boxHeight = 350;

            const boxX = centerX - boxWidth / 2;
            const boxY = centerY - boxHeight / 2;

            if (boxClosed) {
                // Draw closed box
                const lidOffset = isOpening ? openingAnimation * 200 : 0;

                // Box body
                ctx.fillStyle = 'rgba(60, 70, 90, 0.8)';
                ctx.fillRect(boxX, boxY, boxWidth, boxHeight);

                ctx.strokeStyle = '#00d4ff';
                ctx.lineWidth = 3;
                ctx.strokeRect(boxX, boxY, boxWidth, boxHeight);

                // Lid
                ctx.fillStyle = 'rgba(80, 90, 110, 0.9)';
                ctx.fillRect(boxX - 10, boxY - 30 - lidOffset, boxWidth + 20, 30);

                ctx.strokeStyle = '#00d4ff';
                ctx.lineWidth = 3;
                ctx.strokeRect(boxX - 10, boxY - 30 - lidOffset, boxWidth + 20, 30);

                // Question marks for superposition
                if (catState === null && !isOpening) {
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                    ctx.font = 'bold 80px sans-serif';
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText('?', centerX - 50, centerY);
                    ctx.fillText('?', centerX + 50, centerY);
                }

                // Draw superposition glow
                if (catState === null) {
                    const glowAlpha = (Math.sin(phase) + 1) / 2 * 0.3;
                    ctx.shadowBlur = 30;
                    ctx.shadowColor = `rgba(0, 212, 255, ${glowAlpha})`;
                    ctx.strokeStyle = `rgba(0, 212, 255, ${glowAlpha})`;
                    ctx.lineWidth = 5;
                    ctx.strokeRect(boxX - 5, boxY - 5, boxWidth + 10, boxHeight + 10);
                    ctx.shadowBlur = 0;

                    // Another glow
                    ctx.shadowBlur = 30;
                    ctx.shadowColor = `rgba(144, 0, 255, ${1 - glowAlpha})`;
                    ctx.strokeStyle = `rgba(144, 0, 255, ${1 - glowAlpha})`;
                    ctx.strokeRect(boxX - 5, boxY - 5, boxWidth + 10, boxHeight + 10);
                    ctx.shadowBlur = 0;
                }

                // Label
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 18px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('SCHR√ñDINGER\'S BOX', centerX, boxY - 50 - lidOffset);

            } else {
                // Draw open box
                ctx.fillStyle = 'rgba(60, 70, 90, 0.5)';
                ctx.fillRect(boxX, boxY, boxWidth, boxHeight);

                ctx.strokeStyle = 'rgba(100, 200, 255, 0.5)';
                ctx.lineWidth = 3;
                ctx.strokeRect(boxX, boxY, boxWidth, boxHeight);

                // Draw cat
                drawCat(centerX, centerY, catState);
            }
        }

        function drawCat(x, y, alive) {
            if (alive) {
                // Draw alive cat
                ctx.fillStyle = '#00d4ff';

                // Body
                ctx.beginPath();
                ctx.ellipse(x, y + 20, 60, 50, 0, 0, Math.PI * 2);
                ctx.fill();

                // Head
                ctx.beginPath();
                ctx.arc(x, y - 30, 40, 0, Math.PI * 2);
                ctx.fill();

                // Ears
                ctx.beginPath();
                ctx.moveTo(x - 30, y - 40);
                ctx.lineTo(x - 20, y - 60);
                ctx.lineTo(x - 10, y - 40);
                ctx.closePath();
                ctx.fill();

                ctx.beginPath();
                ctx.moveTo(x + 10, y - 40);
                ctx.lineTo(x + 20, y - 60);
                ctx.lineTo(x + 30, y - 40);
                ctx.closePath();
                ctx.fill();

                // Eyes
                ctx.fillStyle = '#ffffff';
                ctx.beginPath();
                ctx.arc(x - 15, y - 35, 8, 0, Math.PI * 2);
                ctx.arc(x + 15, y - 35, 8, 0, Math.PI * 2);
                ctx.fill();

                // Pupils
                ctx.fillStyle = '#000000';
                ctx.beginPath();
                ctx.arc(x - 15, y - 35, 4, 0, Math.PI * 2);
                ctx.arc(x + 15, y - 35, 4, 0, Math.PI * 2);
                ctx.fill();

                // Smile
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 2;
                ctx.beginPath();
                ctx.arc(x, y - 25, 15, 0.2, Math.PI - 0.2);
                ctx.stroke();

                // Whiskers
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 1;
                for (let i = -1; i <= 1; i++) {
                    ctx.beginPath();
                    ctx.moveTo(x - 40, y - 30 + i * 5);
                    ctx.lineTo(x - 60, y - 30 + i * 8);
                    ctx.stroke();

                    ctx.beginPath();
                    ctx.moveTo(x + 40, y - 30 + i * 5);
                    ctx.lineTo(x + 60, y - 30 + i * 8);
                    ctx.stroke();
                }

                // Tail
                ctx.strokeStyle = '#00d4ff';
                ctx.lineWidth = 10;
                ctx.beginPath();
                ctx.moveTo(x + 60, y + 20);
                ctx.quadraticCurveTo(x + 100, y + 10, x + 110, y - 10 + Math.sin(phase * 2) * 10);
                ctx.stroke();

                // Label
                ctx.fillStyle = '#00ff80';
                ctx.font = 'bold 24px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('üò∫ ALIVE!', x, y + 100);

            } else {
                // Draw dead cat (lying down)
                ctx.fillStyle = '#9000ff';

                // Body (horizontal)
                ctx.beginPath();
                ctx.ellipse(x, y + 20, 80, 40, 0, 0, Math.PI * 2);
                ctx.fill();

                // Head
                ctx.beginPath();
                ctx.arc(x - 60, y + 20, 35, 0, Math.PI * 2);
                ctx.fill();

                // Eyes (X's)
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 3;

                // Left eye X
                ctx.beginPath();
                ctx.moveTo(x - 70, y + 10);
                ctx.lineTo(x - 60, y + 20);
                ctx.moveTo(x - 60, y + 10);
                ctx.lineTo(x - 70, y + 20);
                ctx.stroke();

                // Right eye X
                ctx.beginPath();
                ctx.moveTo(x - 55, y + 10);
                ctx.lineTo(x - 45, y + 20);
                ctx.moveTo(x - 45, y + 10);
                ctx.lineTo(x - 55, y + 20);
                ctx.stroke();

                // Tongue
                ctx.fillStyle = '#ff6b9d';
                ctx.beginPath();
                ctx.ellipse(x - 50, y + 35, 8, 5, 0, 0, Math.PI * 2);
                ctx.fill();

                // Tail (straight)
                ctx.strokeStyle = '#9000ff';
                ctx.lineWidth = 10;
                ctx.beginPath();
                ctx.moveTo(x + 80, y + 20);
                ctx.lineTo(x + 120, y + 20);
                ctx.stroke();

                // Label
                ctx.fillStyle = '#ff0080';
                ctx.font = 'bold 24px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('üíÄ DEAD', x, y + 100);
            }
        }

        function drawSuperpositionEffect() {
            if (catState !== null || !boxClosed) return;

            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            // Draw both states as ghosts overlapping
            ctx.globalAlpha = 0.15 + Math.sin(phase) * 0.1;

            // Ghost alive cat
            ctx.fillStyle = '#00d4ff';
            ctx.beginPath();
            ctx.arc(centerX - 50, centerY - 30, 35, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = '#00ff80';
            ctx.font = 'bold 60px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('üò∫', centerX - 50, centerY + 20);

            ctx.globalAlpha = 0.15 + Math.cos(phase) * 0.1;

            // Ghost dead cat
            ctx.fillStyle = '#9000ff';
            ctx.beginPath();
            ctx.arc(centerX + 50, centerY - 30, 35, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = '#ff0080';
            ctx.fillText('üíÄ', centerX + 50, centerY + 20);

            ctx.globalAlpha = 1;
        }

        function animate() {
            phase += 0.05;

            if (isOpening) {
                openingAnimation += 0.02;
                if (openingAnimation >= 1) {
                    isOpening = false;
                    boxClosed = false;
                }
            }

            ctx.fillStyle = '#0a0e1a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            drawSuperpositionEffect();
            drawBox();

            requestAnimationFrame(animate);
        }

        updateDisplay();
        animate();
    </script>
</body>
</html>
